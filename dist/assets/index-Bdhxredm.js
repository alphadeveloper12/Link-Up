var o0=Object.defineProperty;var xE=i=>{throw TypeError(i)};var a0=(i,e,s)=>e in i?o0(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s;var Qt=(i,e,s)=>a0(i,typeof e!="symbol"?e+"":e,s),uv=(i,e,s)=>e.has(i)||xE("Cannot "+s);var et=(i,e,s)=>(uv(i,e,"read from private field"),s?s.call(i):e.get(i)),ft=(i,e,s)=>e.has(i)?xE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,s),dt=(i,e,s,o)=>(uv(i,e,"write to private field"),o?o.call(i,s):e.set(i,s),s),pt=(i,e,s)=>(uv(i,e,"access private method"),s);var $s=(i,e,s,o)=>({set _(c){dt(i,e,c,s)},get _(){return et(i,e,o)}});function _mergeNamespaces(i,e){for(var s=0;s<e.length;s++){const o=e[s];if(typeof o!="string"&&!Array.isArray(o)){for(const c in o)if(c!=="default"&&!(c in i)){const d=Object.getOwnPropertyDescriptor(o,c);d&&Object.defineProperty(i,c,d.get?d:{enumerable:!0,get:()=>o[c]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var s=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var c=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(s,o,c.get?c:{enumerable:!0,get:function(){return i[o]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(i){return i===null||typeof i!="object"?null:(i=z$1&&i[z$1]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,e,s){this.props=i,this.context=e,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,e){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,e,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,e,s){this.props=i,this.context=e,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$2(i,e,s){var o,c={},d=null,h=null;if(e!=null)for(o in e.ref!==void 0&&(h=e.ref),e.key!==void 0&&(d=""+e.key),e)J.call(e,o)&&!L$1.hasOwnProperty(o)&&(c[o]=e[o]);var g=arguments.length-2;if(g===1)c.children=s;else if(1<g){for(var j=Array(g),_=0;_<g;_++)j[_]=arguments[_+2];c.children=j}if(i&&i.defaultProps)for(o in g=i.defaultProps,g)c[o]===void 0&&(c[o]=g[o]);return{$$typeof:l$1,type:i,key:d,ref:h,props:c,_owner:K$1.current}}function N$1(i,e){return{$$typeof:l$1,type:i.type,key:e,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$1}function escape$1(i){var e={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(s){return e[s]})}var P$1=/\/+/g;function Q$1(i,e){return typeof i=="object"&&i!==null&&i.key!=null?escape$1(""+i.key):e.toString(36)}function R$1(i,e,s,o,c){var d=typeof i;(d==="undefined"||d==="boolean")&&(i=null);var h=!1;if(i===null)h=!0;else switch(d){case"string":case"number":h=!0;break;case"object":switch(i.$$typeof){case l$1:case n$1:h=!0}}if(h)return h=i,c=c(h),i=o===""?"."+Q$1(h,0):o,I$1(c)?(s="",i!=null&&(s=i.replace(P$1,"$&/")+"/"),R$1(c,e,s,"",function(_){return _})):c!=null&&(O$1(c)&&(c=N$1(c,s+(!c.key||h&&h.key===c.key?"":(""+c.key).replace(P$1,"$&/")+"/")+i)),e.push(c)),1;if(h=0,o=o===""?".":o+":",I$1(i))for(var g=0;g<i.length;g++){d=i[g];var j=o+Q$1(d,g);h+=R$1(d,e,s,j,c)}else if(j=A$1(i),typeof j=="function")for(i=j.call(i),g=0;!(d=i.next()).done;)d=d.value,j=o+Q$1(d,g++),h+=R$1(d,e,s,j,c);else if(d==="object")throw e=String(i),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return h}function S$1(i,e,s){if(i==null)return i;var o=[],c=0;return R$1(i,o,"","",function(d){return e.call(s,d,c++)}),o}function T$1(i){if(i._status===-1){var e=i._result;e=e(),e.then(function(s){(i._status===0||i._status===-1)&&(i._status=1,i._result=s)},function(s){(i._status===0||i._status===-1)&&(i._status=2,i._result=s)}),i._status===-1&&(i._status=0,i._result=e)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(i,e,s){S$1(i,function(){e.apply(this,arguments)},s)},count:function(i){var e=0;return S$1(i,function(){e++}),e},toArray:function(i){return S$1(i,function(e){return e})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(i,e,s){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var o=C$1({},i.props),c=i.key,d=i.ref,h=i._owner;if(e!=null){if(e.ref!==void 0&&(d=e.ref,h=K$1.current),e.key!==void 0&&(c=""+e.key),i.type&&i.type.defaultProps)var g=i.type.defaultProps;for(j in e)J.call(e,j)&&!L$1.hasOwnProperty(j)&&(o[j]=e[j]===void 0&&g!==void 0?g[j]:e[j])}var j=arguments.length-2;if(j===1)o.children=s;else if(1<j){g=Array(j);for(var _=0;_<j;_++)g[_]=arguments[_+2];o.children=g}return{$$typeof:l$1,type:i.type,key:c,ref:d,props:o,_owner:h}};react_production_min.createContext=function(i){return i={$$typeof:u,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t,_context:i},i.Consumer=i};react_production_min.createElement=M$2;react_production_min.createFactory=function(i){var e=M$2.bind(null,i);return e.type=i,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$2,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,e){return{$$typeof:x,type:i,compare:e===void 0?null:e}};react_production_min.startTransition=function(i){var e=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=e}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(i,e){return U$1.current.useCallback(i,e)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,e){return U$1.current.useEffect(i,e)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,e,s){return U$1.current.useImperativeHandle(i,e,s)};react_production_min.useInsertionEffect=function(i,e){return U$1.current.useInsertionEffect(i,e)};react_production_min.useLayoutEffect=function(i,e){return U$1.current.useLayoutEffect(i,e)};react_production_min.useMemo=function(i,e){return U$1.current.useMemo(i,e)};react_production_min.useReducer=function(i,e,s){return U$1.current.useReducer(i,e,s)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,e,s){return U$1.current.useSyncExternalStore(i,e,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$1=getDefaultExportFromCjs(reactExports),React$2=_mergeNamespaces({__proto__:null,default:React$1},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(i,e,s){var o,c={},d=null,h=null;s!==void 0&&(d=""+s),e.key!==void 0&&(d=""+e.key),e.ref!==void 0&&(h=e.ref);for(o in e)m$1.call(e,o)&&!p$1.hasOwnProperty(o)&&(c[o]=e[o]);if(i&&i.defaultProps)for(o in e=i.defaultProps,e)c[o]===void 0&&(c[o]=e[o]);return{$$typeof:k,type:i,key:d,ref:h,props:c,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function e(Nt,Pt){var Lt=Nt.length;Nt.push(Pt);e:for(;0<Lt;){var Bt=Lt-1>>>1,Dt=Nt[Bt];if(0<c(Dt,Pt))Nt[Bt]=Pt,Nt[Lt]=Dt,Lt=Bt;else break e}}function s(Nt){return Nt.length===0?null:Nt[0]}function o(Nt){if(Nt.length===0)return null;var Pt=Nt[0],Lt=Nt.pop();if(Lt!==Pt){Nt[0]=Lt;e:for(var Bt=0,Dt=Nt.length,Ht=Dt>>>1;Bt<Ht;){var Gt=2*(Bt+1)-1,rs=Nt[Gt],Xt=Gt+1,$t=Nt[Xt];if(0>c(rs,Lt))Xt<Dt&&0>c($t,rs)?(Nt[Bt]=$t,Nt[Xt]=Lt,Bt=Xt):(Nt[Bt]=rs,Nt[Gt]=Lt,Bt=Gt);else if(Xt<Dt&&0>c($t,Lt))Nt[Bt]=$t,Nt[Xt]=Lt,Bt=Xt;else break e}}return Pt}function c(Nt,Pt){var Lt=Nt.sortIndex-Pt.sortIndex;return Lt!==0?Lt:Nt.id-Pt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var h=Date,g=h.now();i.unstable_now=function(){return h.now()-g}}var j=[],_=[],$=1,_e=null,st=3,rt=!1,it=!1,nt=!1,lt=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ct(Nt){for(var Pt=s(_);Pt!==null;){if(Pt.callback===null)o(_);else if(Pt.startTime<=Nt)o(_),Pt.sortIndex=Pt.expirationTime,e(j,Pt);else break;Pt=s(_)}}function ut(Nt){if(nt=!1,ct(Nt),!it)if(s(j)!==null)it=!0,Mt(ht);else{var Pt=s(_);Pt!==null&&It(ut,Pt.startTime-Nt)}}function ht(Nt,Pt){it=!1,nt&&(nt=!1,ot(Et),Et=-1),rt=!0;var Lt=st;try{for(ct(Pt),_e=s(j);_e!==null&&(!(_e.expirationTime>Pt)||Nt&&!gt());){var Bt=_e.callback;if(typeof Bt=="function"){_e.callback=null,st=_e.priorityLevel;var Dt=Bt(_e.expirationTime<=Pt);Pt=i.unstable_now(),typeof Dt=="function"?_e.callback=Dt:_e===s(j)&&o(j),ct(Pt)}else o(j);_e=s(j)}if(_e!==null)var Ht=!0;else{var Gt=s(_);Gt!==null&&It(ut,Gt.startTime-Pt),Ht=!1}return Ht}finally{_e=null,st=Lt,rt=!1}}var mt=!1,xt=null,Et=-1,Tt=5,St=-1;function gt(){return!(i.unstable_now()-St<Tt)}function Ct(){if(xt!==null){var Nt=i.unstable_now();St=Nt;var Pt=!0;try{Pt=xt(!0,Nt)}finally{Pt?At():(mt=!1,xt=null)}}else mt=!1}var At;if(typeof at=="function")At=function(){at(Ct)};else if(typeof MessageChannel<"u"){var Rt=new MessageChannel,kt=Rt.port2;Rt.port1.onmessage=Ct,At=function(){kt.postMessage(null)}}else At=function(){lt(Ct,0)};function Mt(Nt){xt=Nt,mt||(mt=!0,At())}function It(Nt,Pt){Et=lt(function(){Nt(i.unstable_now())},Pt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Nt){Nt.callback=null},i.unstable_continueExecution=function(){it||rt||(it=!0,Mt(ht))},i.unstable_forceFrameRate=function(Nt){0>Nt||125<Nt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Tt=0<Nt?Math.floor(1e3/Nt):5},i.unstable_getCurrentPriorityLevel=function(){return st},i.unstable_getFirstCallbackNode=function(){return s(j)},i.unstable_next=function(Nt){switch(st){case 1:case 2:case 3:var Pt=3;break;default:Pt=st}var Lt=st;st=Pt;try{return Nt()}finally{st=Lt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Nt,Pt){switch(Nt){case 1:case 2:case 3:case 4:case 5:break;default:Nt=3}var Lt=st;st=Nt;try{return Pt()}finally{st=Lt}},i.unstable_scheduleCallback=function(Nt,Pt,Lt){var Bt=i.unstable_now();switch(typeof Lt=="object"&&Lt!==null?(Lt=Lt.delay,Lt=typeof Lt=="number"&&0<Lt?Bt+Lt:Bt):Lt=Bt,Nt){case 1:var Dt=-1;break;case 2:Dt=250;break;case 5:Dt=1073741823;break;case 4:Dt=1e4;break;default:Dt=5e3}return Dt=Lt+Dt,Nt={id:$++,callback:Pt,priorityLevel:Nt,startTime:Lt,expirationTime:Dt,sortIndex:-1},Lt>Bt?(Nt.sortIndex=Lt,e(_,Nt),s(j)===null&&Nt===s(_)&&(nt?(ot(Et),Et=-1):nt=!0,It(ut,Lt-Bt))):(Nt.sortIndex=Dt,e(j,Nt),it||rt||(it=!0,Mt(ht))),Nt},i.unstable_shouldYield=gt,i.unstable_wrapCallback=function(Nt){var Pt=st;return function(){var Lt=st;st=Pt;try{return Nt.apply(this,arguments)}finally{st=Lt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(i){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+i,s=1;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+i+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,e){ha(i,e),ha(i+"Capture",e)}function ha(i,e){for(ea[i]=e,i=0;i<e.length;i++)da.add(e[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,e,s,o){if(s!==null&&s.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:s!==null?!s.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,e,s,o){if(e===null||typeof e>"u"||pa(i,e,s,o))return!0;if(o)return!1;if(s!==null)switch(s.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v$1(i,e,s,o,c,d,h){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=i,this.type=e,this.sanitizeURL=d,this.removeEmptyString=h}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new v$1(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var e=i[0];z[e]=new v$1(e,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new v$1(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new v$1(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new v$1(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z[i]=new v$1(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z[i]=new v$1(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z[i]=new v$1(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z[i]=new v$1(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var e=i.replace(ra,sa);z[e]=new v$1(e,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var e=i.replace(ra,sa);z[e]=new v$1(e,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var e=i.replace(ra,sa);z[e]=new v$1(e,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z[i]=new v$1(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,e,s,o){var c=z.hasOwnProperty(e)?z[e]:null;(c!==null?c.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,s,c,o)&&(s=null),o||c===null?oa(e)&&(s===null?i.removeAttribute(e):i.setAttribute(e,""+s)):c.mustUseProperty?i[c.propertyName]=s===null?c.type===3?!1:"":s:(e=c.attributeName,o=c.attributeNamespace,s===null?i.removeAttribute(e):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,o?i.setAttributeNS(o,e,s):i.setAttribute(e,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+i}var Na=!1;function Oa(i,e){if(!i||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(_){var o=_}Reflect.construct(i,[],e)}else{try{e.call()}catch(_){o=_}i.call(e.prototype)}else{try{throw Error()}catch(_){o=_}i()}}catch(_){if(_&&o&&typeof _.stack=="string"){for(var c=_.stack.split(`
`),d=o.stack.split(`
`),h=c.length-1,g=d.length-1;1<=h&&0<=g&&c[h]!==d[g];)g--;for(;1<=h&&0<=g;h--,g--)if(c[h]!==d[g]){if(h!==1||g!==1)do if(h--,g--,0>g||c[h]!==d[g]){var j=`
`+c[h].replace(" at new "," at ");return i.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",i.displayName)),j}while(1<=h&&0<=g);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var e=i.render;return i=i.displayName,i||(i=e.displayName||e.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return e=i.displayName||null,e!==null?e:Qa(i.type)||"Memo";case Ha:e=i._payload,i=i._init;try{return Qa(i(e))}catch{}}return null}function Ra(i){var e=i.type;switch(i.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=e.render,i=i.displayName||i.name||"",e.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var e=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(i){var e=Ta(i)?"checked":"value",s=Object.getOwnPropertyDescriptor(i.constructor.prototype,e),o=""+i[e];if(!i.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,d=s.set;return Object.defineProperty(i,e,{configurable:!0,get:function(){return c.call(this)},set:function(h){o=""+h,d.call(this,h)}}),Object.defineProperty(i,e,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(h){o=""+h},stopTracking:function(){i._valueTracker=null,delete i[e]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var e=i._valueTracker;if(!e)return!0;var s=e.getValue(),o="";return i&&(o=Ta(i)?i.checked?"true":"false":i.value),i=o,i!==s?(e.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,e){var s=e.checked;return A({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??i._wrapperState.initialChecked})}function Za(i,e){var s=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;s=Sa(e.value!=null?e.value:s),i._wrapperState={initialChecked:o,initialValue:s,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(i,e){e=e.checked,e!=null&&ta(i,"checked",e,!1)}function bb(i,e){ab(i,e);var s=Sa(e.value),o=e.type;if(s!=null)o==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+s):i.value!==""+s&&(i.value=""+s);else if(o==="submit"||o==="reset"){i.removeAttribute("value");return}e.hasOwnProperty("value")?cb(i,e.type,s):e.hasOwnProperty("defaultValue")&&cb(i,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(i.defaultChecked=!!e.defaultChecked)}function db(i,e,s){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+i._wrapperState.initialValue,s||e===i.value||(i.value=e),i.defaultValue=e}s=i.name,s!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,s!==""&&(i.name=s)}function cb(i,e,s){(e!=="number"||Xa(i.ownerDocument)!==i)&&(s==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+s&&(i.defaultValue=""+s))}var eb=Array.isArray;function fb(i,e,s,o){if(i=i.options,e){e={};for(var c=0;c<s.length;c++)e["$"+s[c]]=!0;for(s=0;s<i.length;s++)c=e.hasOwnProperty("$"+i[s].value),i[s].selected!==c&&(i[s].selected=c),c&&o&&(i[s].defaultSelected=!0)}else{for(s=""+Sa(s),e=null,c=0;c<i.length;c++){if(i[c].value===s){i[c].selected=!0,o&&(i[c].defaultSelected=!0);return}e!==null||i[c].disabled||(e=i[c])}e!==null&&(e.selected=!0)}}function gb(i,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},e,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,e){var s=e.value;if(s==null){if(s=e.children,e=e.defaultValue,s!=null){if(e!=null)throw Error(p(92));if(eb(s)){if(1<s.length)throw Error(p(93));s=s[0]}e=s}e==null&&(e=""),s=e}i._wrapperState={initialValue:Sa(s)}}function ib(i,e){var s=Sa(e.value),o=Sa(e.defaultValue);s!=null&&(s=""+s,s!==i.value&&(i.value=s),e.defaultValue==null&&i.defaultValue!==s&&(i.defaultValue=s)),o!=null&&(i.defaultValue=""+o)}function jb(i){var e=i.textContent;e===i._wrapperState.initialValue&&e!==""&&e!==null&&(i.value=e)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,e){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(e):i==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,s,o,c){MSApp.execUnsafeLocalFunction(function(){return i(e,s,o,c)})}:i}(function(i,e){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;e.firstChild;)i.appendChild(e.firstChild)}});function ob(i,e){if(e){var s=i.firstChild;if(s&&s===i.lastChild&&s.nodeType===3){s.nodeValue=e;return}}i.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(e){e=e+i.charAt(0).toUpperCase()+i.substring(1),pb[e]=pb[i]})});function rb(i,e,s){return e==null||typeof e=="boolean"||e===""?"":s||typeof e!="number"||e===0||pb.hasOwnProperty(i)&&pb[i]?(""+e).trim():e+"px"}function sb(i,e){i=i.style;for(var s in e)if(e.hasOwnProperty(s)){var o=s.indexOf("--")===0,c=rb(s,e[s],o);s==="float"&&(s="cssFloat"),o?i.setProperty(s,c):i[s]=c}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,e){if(e){if(tb[i]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p(137,i));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p(62))}}function vb(i,e){if(i.indexOf("-")===-1)return typeof e.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p(280));var e=i.stateNode;e&&(e=Db(e),yb(i.stateNode,i.type,e))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,e=Ab;if(Ab=zb=null,Bb(i),e)for(i=0;i<e.length;i++)Bb(e[i])}}function Gb(i,e){return i(e)}function Hb(){}var Ib=!1;function Jb(i,e,s){if(Ib)return i(e,s);Ib=!0;try{return Gb(i,e,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,e){var s=i.stateNode;if(s===null)return null;var o=Db(s);if(o===null)return null;s=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(i=i.type,o=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!o;break e;default:i=!1}if(i)return null;if(s&&typeof s!="function")throw Error(p(231,e,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,e,s,o,c,d,h,g,j){var _=Array.prototype.slice.call(arguments,3);try{e.apply(s,_)}catch($){this.onError($)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,e,s,o,c,d,h,g,j){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,e,s,o,c,d,h,g,j){if(Tb.apply(this,arguments),Ob){if(Ob){var _=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=_)}}function Vb(i){var e=i,s=i;if(i.alternate)for(;e.return;)e=e.return;else{i=e;do e=i,e.flags&4098&&(s=e.return),i=e.return;while(i)}return e.tag===3?s:null}function Wb(i){if(i.tag===13){var e=i.memoizedState;if(e===null&&(i=i.alternate,i!==null&&(e=i.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p(188))}function Yb(i){var e=i.alternate;if(!e){if(e=Vb(i),e===null)throw Error(p(188));return e!==i?null:i}for(var s=i,o=e;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return Xb(c),i;if(d===o)return Xb(c),e;d=d.sibling}throw Error(p(188))}if(s.return!==o.return)s=c,o=d;else{for(var h=!1,g=c.child;g;){if(g===s){h=!0,s=c,o=d;break}if(g===o){h=!0,o=c,s=d;break}g=g.sibling}if(!h){for(g=d.child;g;){if(g===s){h=!0,s=d,o=c;break}if(g===o){h=!0,o=d,s=c;break}g=g.sibling}if(!h)throw Error(p(189))}}if(s.alternate!==o)throw Error(p(190))}if(s.tag!==3)throw Error(p(188));return s.stateNode.current===s?i:e}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var e=$b(i);if(e!==null)return e;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,e){var s=i.pendingLanes;if(s===0)return 0;var o=0,c=i.suspendedLanes,d=i.pingedLanes,h=s&268435455;if(h!==0){var g=h&~c;g!==0?o=tc(g):(d&=h,d!==0&&(o=tc(d)))}else h=s&~c,h!==0?o=tc(h):d!==0&&(o=tc(d));if(o===0)return 0;if(e!==0&&e!==o&&!(e&c)&&(c=o&-o,d=e&-e,c>=d||c===16&&(d&4194240)!==0))return e;if(o&4&&(o|=s&16),e=i.entangledLanes,e!==0)for(i=i.entanglements,e&=o;0<e;)s=31-oc(e),c=1<<s,o|=i[s],e&=~c;return o}function vc(i,e){switch(i){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,e){for(var s=i.suspendedLanes,o=i.pingedLanes,c=i.expirationTimes,d=i.pendingLanes;0<d;){var h=31-oc(d),g=1<<h,j=c[h];j===-1?(!(g&s)||g&o)&&(c[h]=vc(g,e)):j<=e&&(i.expiredLanes|=g),d&=~g}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var e=[],s=0;31>s;s++)e.push(i);return e}function Ac(i,e,s){i.pendingLanes|=e,e!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,e=31-oc(e),i[e]=s}function Bc(i,e){var s=i.pendingLanes&~e;i.pendingLanes=e,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=e,i.mutableReadLanes&=e,i.entangledLanes&=e,e=i.entanglements;var o=i.eventTimes;for(i=i.expirationTimes;0<s;){var c=31-oc(s),d=1<<c;e[c]=0,o[c]=-1,i[c]=-1,s&=~d}}function Cc(i,e){var s=i.entangledLanes|=e;for(i=i.entanglements;s;){var o=31-oc(s),c=1<<o;c&e|i[o]&e&&(i[o]|=e),s&=~c}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,e){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(i,e,s,o,c,d){return i===null||i.nativeEvent!==d?(i={blockedOn:e,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[c]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),i):(i.eventSystemFlags|=o,e=i.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),i)}function Uc(i,e,s,o,c){switch(e){case"focusin":return Lc=Tc(Lc,i,e,s,o,c),!0;case"dragenter":return Mc=Tc(Mc,i,e,s,o,c),!0;case"mouseover":return Nc=Tc(Nc,i,e,s,o,c),!0;case"pointerover":var d=c.pointerId;return Oc.set(d,Tc(Oc.get(d)||null,i,e,s,o,c)),!0;case"gotpointercapture":return d=c.pointerId,Pc.set(d,Tc(Pc.get(d)||null,i,e,s,o,c)),!0}return!1}function Vc(i){var e=Wc(i.target);if(e!==null){var s=Vb(e);if(s!==null){if(e=s.tag,e===13){if(e=Wb(s),e!==null){i.blockedOn=e,Ic(i.priority,function(){Gc(s)});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){i.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var e=i.targetContainers;0<e.length;){var s=Yc(i.domEventName,i.eventSystemFlags,e[0],i.nativeEvent);if(s===null){s=i.nativeEvent;var o=new s.constructor(s.type,s);wb=o,s.target.dispatchEvent(o),wb=null}else return e=Cb(s),e!==null&&Fc(e),i.blockedOn=s,!1;e.shift()}return!0}function Zc(i,e,s){Xc(i)&&s.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,e){i.blockedOn===e&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function e(c){return ad(c,i)}if(0<Kc.length){ad(Kc[0],i);for(var s=1;s<Kc.length;s++){var o=Kc[s];o.blockedOn===i&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(e),Pc.forEach(e),s=0;s<Qc.length;s++)o=Qc[s],o.blockedOn===i&&(o.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,e,s,o){var c=C,d=cd.transition;cd.transition=null;try{C=1,fd(i,e,s,o)}finally{C=c,cd.transition=d}}function gd(i,e,s,o){var c=C,d=cd.transition;cd.transition=null;try{C=4,fd(i,e,s,o)}finally{C=c,cd.transition=d}}function fd(i,e,s,o){if(dd){var c=Yc(i,e,s,o);if(c===null)hd(i,e,o,id,s),Sc(i,o);else if(Uc(c,i,e,s,o))o.stopPropagation();else if(Sc(i,o),e&4&&-1<Rc.indexOf(i)){for(;c!==null;){var d=Cb(c);if(d!==null&&Ec(d),d=Yc(i,e,s,o),d===null&&hd(i,e,o,id,s),d===c)break;c=d}c!==null&&o.stopPropagation()}else hd(i,e,o,null,s)}}var id=null;function Yc(i,e,s,o){if(id=null,i=xb(o),i=Wc(i),i!==null)if(e=Vb(i),e===null)i=null;else if(s=e.tag,s===13){if(i=Wb(e),i!==null)return i;i=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;i=null}else e!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,e=ld,s=e.length,o,c="value"in kd?kd.value:kd.textContent,d=c.length;for(i=0;i<s&&e[i]===c[i];i++);var h=s-i;for(o=1;o<=h&&e[s-o]===c[d-o];o++);return md=c.slice(i,1<o?1-o:void 0)}function od(i){var e=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&e===13&&(i=13)):i=e,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function e(s,o,c,d,h){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var g in i)i.hasOwnProperty(g)&&(s=i[g],this[g]=s?s(d):d[g]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(i):(i=Od[i])?!!e[i]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(i){if(i.key){var e=Md[i.key]||i.key;if(e!=="Unidentified")return e}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=" ",fe=!1;function ge$1(i,e){switch(i){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie$1=!1;function je(i,e){switch(i){case"compositionend":return he$1(e);case"keypress":return e.which!==32?null:(fe=!0,ee$1);case"textInput":return i=e.data,i===ee$1&&fe?null:i;default:return null}}function ke(i,e){if(ie$1)return i==="compositionend"||!ae$1&&ge$1(i,e)?(i=nd(),md=ld=kd=null,ie$1=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de$1&&e.locale!=="ko"?null:e.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e==="input"?!!le$1[i.type]:e==="textarea"}function ne$1(i,e,s,o){Eb(o),e=oe$1(e,"onChange"),0<e.length&&(s=new td("onChange","change",null,s,o),i.push({event:s,listeners:e}))}var pe$1=null,qe=null;function re(i){se$1(i,0)}function te$1(i){var e=ue$1(i);if(Wa(e))return i}function ve$1(i,e){if(i==="change")return e}var we$1=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe=pe$1=null)}function Be(i){if(i.propertyName==="value"&&te$1(qe)){var e=[];ne$1(e,qe,i,xb(i)),Jb(re,e)}}function Ce(i,e,s){i==="focusin"?(Ae(),pe$1=e,qe=s,pe$1.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te$1(qe)}function Ee(i,e){if(i==="click")return te$1(e)}function Fe(i,e){if(i==="input"||i==="change")return te$1(e)}function Ge(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,e){if(He(i,e))return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null)return!1;var s=Object.keys(i),o=Object.keys(e);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!ja.call(e,c)||!He(i[c],e[c]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,e){var s=Je(i);i=0;for(var o;s;){if(s.nodeType===3){if(o=i+s.textContent.length,i<=e&&o>=e)return{node:s,offset:e-i};i=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(i,e){return i&&e?i===e?!0:i&&i.nodeType===3?!1:e&&e.nodeType===3?Le(i,e.parentNode):"contains"in i?i.contains(e):i.compareDocumentPosition?!!(i.compareDocumentPosition(e)&16):!1:!1}function Me(){for(var i=window,e=Xa();e instanceof i.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)i=e.contentWindow;else break;e=Xa(i.document)}return e}function Ne(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e&&(e==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||e==="textarea"||i.contentEditable==="true")}function Oe(i){var e=Me(),s=i.focusedElem,o=i.selectionRange;if(e!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(o!==null&&Ne(s)){if(e=o.start,i=o.end,i===void 0&&(i=e),"selectionStart"in s)s.selectionStart=e,s.selectionEnd=Math.min(i,s.value.length);else if(i=(e=s.ownerDocument||document)&&e.defaultView||window,i.getSelection){i=i.getSelection();var c=s.textContent.length,d=Math.min(o.start,c);o=o.end===void 0?d:Math.min(o.end,c),!i.extend&&d>o&&(c=o,o=d,d=c),c=Ke(s,d);var h=Ke(s,o);c&&h&&(i.rangeCount!==1||i.anchorNode!==c.node||i.anchorOffset!==c.offset||i.focusNode!==h.node||i.focusOffset!==h.offset)&&(e=e.createRange(),e.setStart(c.node,c.offset),i.removeAllRanges(),d>o?(i.addRange(e),i.extend(h.node,h.offset)):(e.setEnd(h.node,h.offset),i.addRange(e)))}}for(e=[],i=s;i=i.parentNode;)i.nodeType===1&&e.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<e.length;s++)i=e[s],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te$1=!1;function Ue(i,e,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te$1||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe$1(Re,"onSelect"),0<o.length&&(e=new td("onSelect","select",null,e,s),i.push({event:e,listeners:o}),e.target=Qe)))}function Ve(i,e){var s={};return s[i.toLowerCase()]=e.toLowerCase(),s["Webkit"+i]="webkit"+e,s["Moz"+i]="moz"+e,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var e=We[i],s;for(s in e)if(e.hasOwnProperty(s)&&s in Ye)return Xe[i]=e[s];return i}var $e$1=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,e){df.set(i,e),fa(e,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,e,s){var o=i.type||"unknown-event";i.currentTarget=s,Ub(o,e,void 0,i),i.currentTarget=null}function se$1(i,e){e=(e&4)!==0;for(var s=0;s<i.length;s++){var o=i[s],c=o.event;o=o.listeners;e:{var d=void 0;if(e)for(var h=o.length-1;0<=h;h--){var g=o[h],j=g.instance,_=g.currentTarget;if(g=g.listener,j!==d&&c.isPropagationStopped())break e;nf(c,g,_),d=j}else for(h=0;h<o.length;h++){if(g=o[h],j=g.instance,_=g.currentTarget,g=g.listener,j!==d&&c.isPropagationStopped())break e;nf(c,g,_),d=j}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,e){var s=e[of];s===void 0&&(s=e[of]=new Set);var o=i+"__bubble";s.has(o)||(pf(e,i,2,!1),s.add(o))}function qf(i,e,s){var o=0;e&&(o|=4),pf(s,i,o,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,i),qf(s,!0,i))});var e=i.nodeType===9?i:i.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(i,e,s,o){switch(jd(e)){case 1:var c=ed;break;case 4:c=gd;break;default:c=fd}s=c.bind(null,e,s,i),c=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),o?c!==void 0?i.addEventListener(e,s,{capture:!0,passive:c}):i.addEventListener(e,s,!0):c!==void 0?i.addEventListener(e,s,{passive:c}):i.addEventListener(e,s,!1)}function hd(i,e,s,o,c){var d=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var h=o.tag;if(h===3||h===4){var g=o.stateNode.containerInfo;if(g===c||g.nodeType===8&&g.parentNode===c)break;if(h===4)for(h=o.return;h!==null;){var j=h.tag;if((j===3||j===4)&&(j=h.stateNode.containerInfo,j===c||j.nodeType===8&&j.parentNode===c))return;h=h.return}for(;g!==null;){if(h=Wc(g),h===null)return;if(j=h.tag,j===5||j===6){o=d=h;continue e}g=g.parentNode}}o=o.return}Jb(function(){var _=d,$=xb(s),_e=[];e:{var st=df.get(i);if(st!==void 0){var rt=td,it=i;switch(i){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":rt=Rd;break;case"focusin":it="focus",rt=Fd;break;case"focusout":it="blur",rt=Fd;break;case"beforeblur":case"afterblur":rt=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Vd;break;case $e$1:case af:case bf:rt=Hd;break;case cf:rt=Xd;break;case"scroll":rt=vd;break;case"wheel":rt=Zd;break;case"copy":case"cut":case"paste":rt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Td}var nt=(e&4)!==0,lt=!nt&&i==="scroll",ot=nt?st!==null?st+"Capture":null:st;nt=[];for(var at=_,ct;at!==null;){ct=at;var ut=ct.stateNode;if(ct.tag===5&&ut!==null&&(ct=ut,ot!==null&&(ut=Kb(at,ot),ut!=null&&nt.push(tf(at,ut,ct)))),lt)break;at=at.return}0<nt.length&&(st=new rt(st,it,null,s,$),_e.push({event:st,listeners:nt}))}}if(!(e&7)){e:{if(st=i==="mouseover"||i==="pointerover",rt=i==="mouseout"||i==="pointerout",st&&s!==wb&&(it=s.relatedTarget||s.fromElement)&&(Wc(it)||it[uf]))break e;if((rt||st)&&(st=$.window===$?$:(st=$.ownerDocument)?st.defaultView||st.parentWindow:window,rt?(it=s.relatedTarget||s.toElement,rt=_,it=it?Wc(it):null,it!==null&&(lt=Vb(it),it!==lt||it.tag!==5&&it.tag!==6)&&(it=null)):(rt=null,it=_),rt!==it)){if(nt=Bd,ut="onMouseLeave",ot="onMouseEnter",at="mouse",(i==="pointerout"||i==="pointerover")&&(nt=Td,ut="onPointerLeave",ot="onPointerEnter",at="pointer"),lt=rt==null?st:ue$1(rt),ct=it==null?st:ue$1(it),st=new nt(ut,at+"leave",rt,s,$),st.target=lt,st.relatedTarget=ct,ut=null,Wc($)===_&&(nt=new nt(ot,at+"enter",it,s,$),nt.target=ct,nt.relatedTarget=lt,ut=nt),lt=ut,rt&&it)t:{for(nt=rt,ot=it,at=0,ct=nt;ct;ct=vf(ct))at++;for(ct=0,ut=ot;ut;ut=vf(ut))ct++;for(;0<at-ct;)nt=vf(nt),at--;for(;0<ct-at;)ot=vf(ot),ct--;for(;at--;){if(nt===ot||ot!==null&&nt===ot.alternate)break t;nt=vf(nt),ot=vf(ot)}nt=null}else nt=null;rt!==null&&wf(_e,st,rt,nt,!1),it!==null&&lt!==null&&wf(_e,lt,it,nt,!0)}}e:{if(st=_?ue$1(_):window,rt=st.nodeName&&st.nodeName.toLowerCase(),rt==="select"||rt==="input"&&st.type==="file")var ht=ve$1;else if(me$1(st))if(we$1)ht=Fe;else{ht=De;var mt=Ce}else(rt=st.nodeName)&&rt.toLowerCase()==="input"&&(st.type==="checkbox"||st.type==="radio")&&(ht=Ee);if(ht&&(ht=ht(i,_))){ne$1(_e,ht,s,$);break e}mt&&mt(i,st,_),i==="focusout"&&(mt=st._wrapperState)&&mt.controlled&&st.type==="number"&&cb(st,"number",st.value)}switch(mt=_?ue$1(_):window,i){case"focusin":(me$1(mt)||mt.contentEditable==="true")&&(Qe=mt,Re=_,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(_e,s,$);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(_e,s,$)}var xt;if(ae$1)e:{switch(i){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else ie$1?ge$1(i,s)&&(Et="onCompositionEnd"):i==="keydown"&&s.keyCode===229&&(Et="onCompositionStart");Et&&(de$1&&s.locale!=="ko"&&(ie$1||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&ie$1&&(xt=nd()):(kd=$,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),mt=oe$1(_,Et),0<mt.length&&(Et=new Ld(Et,i,null,s,$),_e.push({event:Et,listeners:mt}),xt?Et.data=xt:(xt=he$1(s),xt!==null&&(Et.data=xt)))),(xt=ce$1?je(i,s):ke(i,s))&&(_=oe$1(_,"onBeforeInput"),0<_.length&&($=new Ld("onBeforeInput","beforeinput",null,s,$),_e.push({event:$,listeners:_}),$.data=xt))}se$1(_e,e)})}function tf(i,e,s){return{instance:i,listener:e,currentTarget:s}}function oe$1(i,e){for(var s=e+"Capture",o=[];i!==null;){var c=i,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=Kb(i,s),d!=null&&o.unshift(tf(i,d,c)),d=Kb(i,e),d!=null&&o.push(tf(i,d,c))),i=i.return}return o}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,e,s,o,c){for(var d=e._reactName,h=[];s!==null&&s!==o;){var g=s,j=g.alternate,_=g.stateNode;if(j!==null&&j===o)break;g.tag===5&&_!==null&&(g=_,c?(j=Kb(s,d),j!=null&&h.unshift(tf(s,j,g))):c||(j=Kb(s,d),j!=null&&h.push(tf(s,j,g)))),s=s.return}h.length!==0&&i.push({event:e,listeners:h})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,e,s){if(e=zf(e),zf(i)!==e&&s)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,e){return i==="textarea"||i==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,e){var s=e,o=0;do{var c=s.nextSibling;if(i.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(o===0){i.removeChild(c),bd(e);return}o--}else s!=="$"&&s!=="$?"&&s!=="$!"||o++;s=c}while(s);bd(e)}function Lf(i){for(;i!=null;i=i.nextSibling){var e=i.nodeType;if(e===1||e===3)break;if(e===8){if(e=i.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var e=0;i;){if(i.nodeType===8){var s=i.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return i;e--}else s==="/$"&&e++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var e=i[Of];if(e)return e;for(var s=i.parentNode;s;){if(e=s[uf]||s[Of]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(i=Mf(i);i!==null;){if(s=i[Of])return s;i=Mf(i)}return e}i=s,s=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue$1(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,e){Tf++,Sf[Tf]=i.current,i.current=e}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,e){var s=i.type.contextTypes;if(!s)return Vf;var o=i.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in s)c[d]=e[d];return o&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=e,i.__reactInternalMemoizedMaskedChildContext=c),c}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,e,s){if(H.current!==Vf)throw Error(p(168));G(H,e),G(Wf,s)}function bg(i,e,s){var o=i.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return s;o=o.getChildContext();for(var c in o)if(!(c in e))throw Error(p(108,Ra(i)||"Unknown",c));return A({},s,o)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,e,s){var o=i.stateNode;if(!o)throw Error(p(169));s?(i=bg(i,e,Xf),o.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,e=C;try{var s=eg;for(C=1;i<s.length;i++){var o=s[i];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(c){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),c}finally{C=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,e){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=e}function ug(i,e,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var o=rg;i=sg;var c=32-oc(o)-1;o&=~(1<<c),s+=1;var d=32-oc(e)+c;if(30<d){var h=c-c%5;d=(o&(1<<h)-1).toString(32),o>>=h,c-=h,rg=1<<32-oc(e)+c|s<<c|o,sg=d+i}else rg=1<<d|s<<c|o,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,e){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=e,s.return=i,e=i.deletions,e===null?(i.deletions=[s],i.flags|=16):e.push(s)}function Cg(i,e){switch(i.tag){case 5:var s=i.type;return e=e.nodeType!==1||s.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(i.stateNode=e,xg=i,yg=Lf(e.firstChild),!0):!1;case 6:return e=i.pendingProps===""||e.nodeType!==3?null:e,e!==null?(i.stateNode=e,xg=i,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(s=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:e,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=e,s.return=i,i.child=s,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var e=yg;if(e){var s=e;if(!Cg(i,e)){if(Dg(i))throw Error(p(418));e=Lf(s.nextSibling);var o=xg;e&&Cg(i,e)?Ag(o,s):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var e;if((e=i.tag!==3)&&!(e=i.tag!==5)&&(e=i.type,e=e!=="head"&&e!=="body"&&!Ef(i.type,i.memoizedProps)),e&&(e=yg)){if(Dg(i))throw Hg(),Error(p(418));for(;e;)Ag(i,e),e=Lf(e.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p(317));e:{for(i=i.nextSibling,e=0;i;){if(i.nodeType===8){var s=i.data;if(s==="/$"){if(e===0){yg=Lf(i.nextSibling);break e}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,e,s){if(i=s.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p(309));var o=s.stateNode}if(!o)throw Error(p(147,i));var c=o,d=""+i;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===d?e.ref:(e=function(h){var g=c.refs;h===null?delete g[d]:g[d]=h},e._stringRef=d,e)}if(typeof i!="string")throw Error(p(284));if(!s._owner)throw Error(p(290,i))}return i}function Mg(i,e){throw i=Object.prototype.toString.call(e),Error(p(31,i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i))}function Ng(i){var e=i._init;return e(i._payload)}function Og(i){function e(ot,at){if(i){var ct=ot.deletions;ct===null?(ot.deletions=[at],ot.flags|=16):ct.push(at)}}function s(ot,at){if(!i)return null;for(;at!==null;)e(ot,at),at=at.sibling;return null}function o(ot,at){for(ot=new Map;at!==null;)at.key!==null?ot.set(at.key,at):ot.set(at.index,at),at=at.sibling;return ot}function c(ot,at){return ot=Pg(ot,at),ot.index=0,ot.sibling=null,ot}function d(ot,at,ct){return ot.index=ct,i?(ct=ot.alternate,ct!==null?(ct=ct.index,ct<at?(ot.flags|=2,at):ct):(ot.flags|=2,at)):(ot.flags|=1048576,at)}function h(ot){return i&&ot.alternate===null&&(ot.flags|=2),ot}function g(ot,at,ct,ut){return at===null||at.tag!==6?(at=Qg(ct,ot.mode,ut),at.return=ot,at):(at=c(at,ct),at.return=ot,at)}function j(ot,at,ct,ut){var ht=ct.type;return ht===ya?$(ot,at,ct.props.children,ut,ct.key):at!==null&&(at.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Ha&&Ng(ht)===at.type)?(ut=c(at,ct.props),ut.ref=Lg(ot,at,ct),ut.return=ot,ut):(ut=Rg(ct.type,ct.key,ct.props,null,ot.mode,ut),ut.ref=Lg(ot,at,ct),ut.return=ot,ut)}function _(ot,at,ct,ut){return at===null||at.tag!==4||at.stateNode.containerInfo!==ct.containerInfo||at.stateNode.implementation!==ct.implementation?(at=Sg(ct,ot.mode,ut),at.return=ot,at):(at=c(at,ct.children||[]),at.return=ot,at)}function $(ot,at,ct,ut,ht){return at===null||at.tag!==7?(at=Tg(ct,ot.mode,ut,ht),at.return=ot,at):(at=c(at,ct),at.return=ot,at)}function _e(ot,at,ct){if(typeof at=="string"&&at!==""||typeof at=="number")return at=Qg(""+at,ot.mode,ct),at.return=ot,at;if(typeof at=="object"&&at!==null){switch(at.$$typeof){case va:return ct=Rg(at.type,at.key,at.props,null,ot.mode,ct),ct.ref=Lg(ot,null,at),ct.return=ot,ct;case wa:return at=Sg(at,ot.mode,ct),at.return=ot,at;case Ha:var ut=at._init;return _e(ot,ut(at._payload),ct)}if(eb(at)||Ka(at))return at=Tg(at,ot.mode,ct,null),at.return=ot,at;Mg(ot,at)}return null}function st(ot,at,ct,ut){var ht=at!==null?at.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number")return ht!==null?null:g(ot,at,""+ct,ut);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case va:return ct.key===ht?j(ot,at,ct,ut):null;case wa:return ct.key===ht?_(ot,at,ct,ut):null;case Ha:return ht=ct._init,st(ot,at,ht(ct._payload),ut)}if(eb(ct)||Ka(ct))return ht!==null?null:$(ot,at,ct,ut,null);Mg(ot,ct)}return null}function rt(ot,at,ct,ut,ht){if(typeof ut=="string"&&ut!==""||typeof ut=="number")return ot=ot.get(ct)||null,g(at,ot,""+ut,ht);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case va:return ot=ot.get(ut.key===null?ct:ut.key)||null,j(at,ot,ut,ht);case wa:return ot=ot.get(ut.key===null?ct:ut.key)||null,_(at,ot,ut,ht);case Ha:var mt=ut._init;return rt(ot,at,ct,mt(ut._payload),ht)}if(eb(ut)||Ka(ut))return ot=ot.get(ct)||null,$(at,ot,ut,ht,null);Mg(at,ut)}return null}function it(ot,at,ct,ut){for(var ht=null,mt=null,xt=at,Et=at=0,Tt=null;xt!==null&&Et<ct.length;Et++){xt.index>Et?(Tt=xt,xt=null):Tt=xt.sibling;var St=st(ot,xt,ct[Et],ut);if(St===null){xt===null&&(xt=Tt);break}i&&xt&&St.alternate===null&&e(ot,xt),at=d(St,at,Et),mt===null?ht=St:mt.sibling=St,mt=St,xt=Tt}if(Et===ct.length)return s(ot,xt),I&&tg(ot,Et),ht;if(xt===null){for(;Et<ct.length;Et++)xt=_e(ot,ct[Et],ut),xt!==null&&(at=d(xt,at,Et),mt===null?ht=xt:mt.sibling=xt,mt=xt);return I&&tg(ot,Et),ht}for(xt=o(ot,xt);Et<ct.length;Et++)Tt=rt(xt,ot,Et,ct[Et],ut),Tt!==null&&(i&&Tt.alternate!==null&&xt.delete(Tt.key===null?Et:Tt.key),at=d(Tt,at,Et),mt===null?ht=Tt:mt.sibling=Tt,mt=Tt);return i&&xt.forEach(function(gt){return e(ot,gt)}),I&&tg(ot,Et),ht}function nt(ot,at,ct,ut){var ht=Ka(ct);if(typeof ht!="function")throw Error(p(150));if(ct=ht.call(ct),ct==null)throw Error(p(151));for(var mt=ht=null,xt=at,Et=at=0,Tt=null,St=ct.next();xt!==null&&!St.done;Et++,St=ct.next()){xt.index>Et?(Tt=xt,xt=null):Tt=xt.sibling;var gt=st(ot,xt,St.value,ut);if(gt===null){xt===null&&(xt=Tt);break}i&&xt&&gt.alternate===null&&e(ot,xt),at=d(gt,at,Et),mt===null?ht=gt:mt.sibling=gt,mt=gt,xt=Tt}if(St.done)return s(ot,xt),I&&tg(ot,Et),ht;if(xt===null){for(;!St.done;Et++,St=ct.next())St=_e(ot,St.value,ut),St!==null&&(at=d(St,at,Et),mt===null?ht=St:mt.sibling=St,mt=St);return I&&tg(ot,Et),ht}for(xt=o(ot,xt);!St.done;Et++,St=ct.next())St=rt(xt,ot,Et,St.value,ut),St!==null&&(i&&St.alternate!==null&&xt.delete(St.key===null?Et:St.key),at=d(St,at,Et),mt===null?ht=St:mt.sibling=St,mt=St);return i&&xt.forEach(function(Ct){return e(ot,Ct)}),I&&tg(ot,Et),ht}function lt(ot,at,ct,ut){if(typeof ct=="object"&&ct!==null&&ct.type===ya&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case va:e:{for(var ht=ct.key,mt=at;mt!==null;){if(mt.key===ht){if(ht=ct.type,ht===ya){if(mt.tag===7){s(ot,mt.sibling),at=c(mt,ct.props.children),at.return=ot,ot=at;break e}}else if(mt.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Ha&&Ng(ht)===mt.type){s(ot,mt.sibling),at=c(mt,ct.props),at.ref=Lg(ot,mt,ct),at.return=ot,ot=at;break e}s(ot,mt);break}else e(ot,mt);mt=mt.sibling}ct.type===ya?(at=Tg(ct.props.children,ot.mode,ut,ct.key),at.return=ot,ot=at):(ut=Rg(ct.type,ct.key,ct.props,null,ot.mode,ut),ut.ref=Lg(ot,at,ct),ut.return=ot,ot=ut)}return h(ot);case wa:e:{for(mt=ct.key;at!==null;){if(at.key===mt)if(at.tag===4&&at.stateNode.containerInfo===ct.containerInfo&&at.stateNode.implementation===ct.implementation){s(ot,at.sibling),at=c(at,ct.children||[]),at.return=ot,ot=at;break e}else{s(ot,at);break}else e(ot,at);at=at.sibling}at=Sg(ct,ot.mode,ut),at.return=ot,ot=at}return h(ot);case Ha:return mt=ct._init,lt(ot,at,mt(ct._payload),ut)}if(eb(ct))return it(ot,at,ct,ut);if(Ka(ct))return nt(ot,at,ct,ut);Mg(ot,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"?(ct=""+ct,at!==null&&at.tag===6?(s(ot,at.sibling),at=c(at,ct),at.return=ot,ot=at):(s(ot,at),at=Qg(ct,ot.mode,ut),at.return=ot,ot=at),h(ot)):s(ot,at)}return lt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(i){var e=Wg.current;E(Wg),i._currentValue=e}function bh(i,e,s){for(;i!==null;){var o=i.alternate;if((i.childLanes&e)!==e?(i.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),i===s)break;i=i.return}}function ch(i,e){Xg=i,Zg=Yg=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&e&&(dh=!0),i.firstContext=null)}function eh(i){var e=i._currentValue;if(Zg!==i)if(i={context:i,memoizedValue:e,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=i,Xg.dependencies={lanes:0,firstContext:i}}else Yg=Yg.next=i;return e}var fh=null;function gh(i){fh===null?fh=[i]:fh.push(i)}function hh(i,e,s,o){var c=e.interleaved;return c===null?(s.next=s,gh(e)):(s.next=c.next,c.next=s),e.interleaved=s,ih(i,o)}function ih(i,e){i.lanes|=e;var s=i.alternate;for(s!==null&&(s.lanes|=e),s=i,i=i.return;i!==null;)i.childLanes|=e,s=i.alternate,s!==null&&(s.childLanes|=e),s=i,i=i.return;return s.tag===3?s.stateNode:null}var jh=!1;function kh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(i,e){i=i.updateQueue,e.updateQueue===i&&(e.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mh(i,e){return{eventTime:i,lane:e,tag:0,payload:null,callback:null,next:null}}function nh(i,e,s){var o=i.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var c=o.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),o.pending=e,ih(i,s)}return c=o.interleaved,c===null?(e.next=e,gh(o)):(e.next=c.next,c.next=e),o.interleaved=e,ih(i,s)}function oh(i,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194240)!==0)){var o=e.lanes;o&=i.pendingLanes,s|=o,e.lanes=s,Cc(i,s)}}function ph(i,e){var s=i.updateQueue,o=i.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var h={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?c=d=h:d=d.next=h,s=s.next}while(s!==null);d===null?c=d=e:d=d.next=e}else c=d=e;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:o.shared,effects:o.effects},i.updateQueue=s;return}i=s.lastBaseUpdate,i===null?s.firstBaseUpdate=e:i.next=e,s.lastBaseUpdate=e}function qh(i,e,s,o){var c=i.updateQueue;jh=!1;var d=c.firstBaseUpdate,h=c.lastBaseUpdate,g=c.shared.pending;if(g!==null){c.shared.pending=null;var j=g,_=j.next;j.next=null,h===null?d=_:h.next=_,h=j;var $=i.alternate;$!==null&&($=$.updateQueue,g=$.lastBaseUpdate,g!==h&&(g===null?$.firstBaseUpdate=_:g.next=_,$.lastBaseUpdate=j))}if(d!==null){var _e=c.baseState;h=0,$=_=j=null,g=d;do{var st=g.lane,rt=g.eventTime;if((o&st)===st){$!==null&&($=$.next={eventTime:rt,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var it=i,nt=g;switch(st=e,rt=s,nt.tag){case 1:if(it=nt.payload,typeof it=="function"){_e=it.call(rt,_e,st);break e}_e=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=nt.payload,st=typeof it=="function"?it.call(rt,_e,st):it,st==null)break e;_e=A({},_e,st);break e;case 2:jh=!0}}g.callback!==null&&g.lane!==0&&(i.flags|=64,st=c.effects,st===null?c.effects=[g]:st.push(g))}else rt={eventTime:rt,lane:st,tag:g.tag,payload:g.payload,callback:g.callback,next:null},$===null?(_=$=rt,j=_e):$=$.next=rt,h|=st;if(g=g.next,g===null){if(g=c.shared.pending,g===null)break;st=g,g=st.next,st.next=null,c.lastBaseUpdate=st,c.shared.pending=null}}while(!0);if($===null&&(j=_e),c.baseState=j,c.firstBaseUpdate=_,c.lastBaseUpdate=$,e=c.shared.interleaved,e!==null){c=e;do h|=c.lane,c=c.next;while(c!==e)}else d===null&&(c.shared.lanes=0);rh|=h,i.lanes=h,i.memoizedState=_e}}function sh(i,e,s){if(i=e.effects,e.effects=null,i!==null)for(e=0;e<i.length;e++){var o=i[e],c=o.callback;if(c!==null){if(o.callback=null,o=s,typeof c!="function")throw Error(p(191,c));c.call(o)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(i){if(i===th)throw Error(p(174));return i}function yh(i,e){switch(G(wh,e),G(vh,i),G(uh,th),i=e.nodeType,i){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:i=i===8?e.parentNode:e,e=i.namespaceURI||null,i=i.tagName,e=lb(e,i)}E(uh),G(uh,e)}function zh(){E(uh),E(vh),E(wh)}function Ah(i){xh(wh.current);var e=xh(uh.current),s=lb(e,i.type);e!==s&&(G(vh,i),G(uh,s))}function Bh(i){vh.current===i&&(E(uh),E(vh))}var L=Uf(0);function Ch(i){for(var e=i;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dh=[];function Eh(){for(var i=0;i<Dh.length;i++)Dh[i]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$1=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(i,e){if(e===null)return!1;for(var s=0;s<e.length&&s<i.length;s++)if(!He(i[s],e[s]))return!1;return!0}function Nh(i,e,s,o,c,d){if(Hh=d,M$1=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=i===null||i.memoizedState===null?Oh:Ph,i=s(o,c),Jh){d=0;do{if(Jh=!1,Kh=0,25<=d)throw Error(p(301));d+=1,O=N=null,e.updateQueue=null,Fh.current=Qh,i=s(o,c)}while(Jh)}if(Fh.current=Rh,e=N!==null&&N.next!==null,Hh=0,O=N=M$1=null,Ih=!1,e)throw Error(p(300));return i}function Sh(){var i=Kh!==0;return Kh=0,i}function Th(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M$1.memoizedState=O=i:O=O.next=i,O}function Uh(){if(N===null){var i=M$1.alternate;i=i!==null?i.memoizedState:null}else i=N.next;var e=O===null?M$1.memoizedState:O.next;if(e!==null)O=e,N=i;else{if(i===null)throw Error(p(310));N=i,i={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M$1.memoizedState=O=i:O=O.next=i}return O}function Vh(i,e){return typeof e=="function"?e(i):e}function Wh(i){var e=Uh(),s=e.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=i;var o=N,c=o.baseQueue,d=s.pending;if(d!==null){if(c!==null){var h=c.next;c.next=d.next,d.next=h}o.baseQueue=c=d,s.pending=null}if(c!==null){d=c.next,o=o.baseState;var g=h=null,j=null,_=d;do{var $=_.lane;if((Hh&$)===$)j!==null&&(j=j.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),o=_.hasEagerState?_.eagerState:i(o,_.action);else{var _e={lane:$,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};j===null?(g=j=_e,h=o):j=j.next=_e,M$1.lanes|=$,rh|=$}_=_.next}while(_!==null&&_!==d);j===null?h=o:j.next=g,He(o,e.memoizedState)||(dh=!0),e.memoizedState=o,e.baseState=h,e.baseQueue=j,s.lastRenderedState=o}if(i=s.interleaved,i!==null){c=i;do d=c.lane,M$1.lanes|=d,rh|=d,c=c.next;while(c!==i)}else c===null&&(s.lanes=0);return[e.memoizedState,s.dispatch]}function Xh(i){var e=Uh(),s=e.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=i;var o=s.dispatch,c=s.pending,d=e.memoizedState;if(c!==null){s.pending=null;var h=c=c.next;do d=i(d,h.action),h=h.next;while(h!==c);He(d,e.memoizedState)||(dh=!0),e.memoizedState=d,e.baseQueue===null&&(e.baseState=d),s.lastRenderedState=d}return[d,o]}function Yh(){}function Zh(i,e){var s=M$1,o=Uh(),c=e(),d=!He(o.memoizedState,c);if(d&&(o.memoizedState=c,dh=!0),o=o.queue,$h(ai.bind(null,s,o,i),[i]),o.getSnapshot!==e||d||O!==null&&O.memoizedState.tag&1){if(s.flags|=2048,bi(9,ci.bind(null,s,o,c,e),void 0,null),Q===null)throw Error(p(349));Hh&30||di(s,e,c)}return c}function di(i,e,s){i.flags|=16384,i={getSnapshot:e,value:s},e=M$1.updateQueue,e===null?(e={lastEffect:null,stores:null},M$1.updateQueue=e,e.stores=[i]):(s=e.stores,s===null?e.stores=[i]:s.push(i))}function ci(i,e,s,o){e.value=s,e.getSnapshot=o,ei(e)&&fi(i)}function ai(i,e,s){return s(function(){ei(e)&&fi(i)})}function ei(i){var e=i.getSnapshot;i=i.value;try{var s=e();return!He(i,s)}catch{return!0}}function fi(i){var e=ih(i,1);e!==null&&gi(e,i,1,-1)}function hi(i){var e=Th();return typeof i=="function"&&(i=i()),e.memoizedState=e.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:i},e.queue=i,i=i.dispatch=ii.bind(null,M$1,i),[e.memoizedState,i]}function bi(i,e,s,o){return i={tag:i,create:e,destroy:s,deps:o,next:null},e=M$1.updateQueue,e===null?(e={lastEffect:null,stores:null},M$1.updateQueue=e,e.lastEffect=i.next=i):(s=e.lastEffect,s===null?e.lastEffect=i.next=i:(o=s.next,s.next=i,i.next=o,e.lastEffect=i)),i}function ji(){return Uh().memoizedState}function ki(i,e,s,o){var c=Th();M$1.flags|=i,c.memoizedState=bi(1|e,s,void 0,o===void 0?null:o)}function li(i,e,s,o){var c=Uh();o=o===void 0?null:o;var d=void 0;if(N!==null){var h=N.memoizedState;if(d=h.destroy,o!==null&&Mh(o,h.deps)){c.memoizedState=bi(e,s,d,o);return}}M$1.flags|=i,c.memoizedState=bi(1|e,s,d,o)}function mi(i,e){return ki(8390656,8,i,e)}function $h(i,e){return li(2048,8,i,e)}function ni(i,e){return li(4,2,i,e)}function oi(i,e){return li(4,4,i,e)}function pi(i,e){if(typeof e=="function")return i=i(),e(i),function(){e(null)};if(e!=null)return i=i(),e.current=i,function(){e.current=null}}function qi(i,e,s){return s=s!=null?s.concat([i]):null,li(4,4,pi.bind(null,e,i),s)}function ri(){}function si(i,e){var s=Uh();e=e===void 0?null:e;var o=s.memoizedState;return o!==null&&e!==null&&Mh(e,o[1])?o[0]:(s.memoizedState=[i,e],i)}function ti(i,e){var s=Uh();e=e===void 0?null:e;var o=s.memoizedState;return o!==null&&e!==null&&Mh(e,o[1])?o[0]:(i=i(),s.memoizedState=[i,e],i)}function ui(i,e,s){return Hh&21?(He(s,e)||(s=yc(),M$1.lanes|=s,rh|=s,i.baseState=!0),e):(i.baseState&&(i.baseState=!1,dh=!0),i.memoizedState=s)}function vi(i,e){var s=C;C=s!==0&&4>s?s:4,i(!0);var o=Gh.transition;Gh.transition={};try{i(!1),e()}finally{C=s,Gh.transition=o}}function wi(){return Uh().memoizedState}function xi(i,e,s){var o=yi(i);if(s={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null},zi(i))Ai(e,s);else if(s=hh(i,e,s,o),s!==null){var c=R();gi(s,i,o,c),Bi(s,e,o)}}function ii(i,e,s){var o=yi(i),c={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null};if(zi(i))Ai(e,c);else{var d=i.alternate;if(i.lanes===0&&(d===null||d.lanes===0)&&(d=e.lastRenderedReducer,d!==null))try{var h=e.lastRenderedState,g=d(h,s);if(c.hasEagerState=!0,c.eagerState=g,He(g,h)){var j=e.interleaved;j===null?(c.next=c,gh(e)):(c.next=j.next,j.next=c),e.interleaved=c;return}}catch{}finally{}s=hh(i,e,c,o),s!==null&&(c=R(),gi(s,i,o,c),Bi(s,e,o))}}function zi(i){var e=i.alternate;return i===M$1||e!==null&&e===M$1}function Ai(i,e){Jh=Ih=!0;var s=i.pending;s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e}function Bi(i,e,s){if(s&4194240){var o=e.lanes;o&=i.pendingLanes,s|=o,e.lanes=s,Cc(i,s)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(i,e){return Th().memoizedState=[i,e===void 0?null:e],i},useContext:eh,useEffect:mi,useImperativeHandle:function(i,e,s){return s=s!=null?s.concat([i]):null,ki(4194308,4,pi.bind(null,e,i),s)},useLayoutEffect:function(i,e){return ki(4194308,4,i,e)},useInsertionEffect:function(i,e){return ki(4,2,i,e)},useMemo:function(i,e){var s=Th();return e=e===void 0?null:e,i=i(),s.memoizedState=[i,e],i},useReducer:function(i,e,s){var o=Th();return e=s!==void 0?s(e):e,o.memoizedState=o.baseState=e,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:e},o.queue=i,i=i.dispatch=xi.bind(null,M$1,i),[o.memoizedState,i]},useRef:function(i){var e=Th();return i={current:i},e.memoizedState=i},useState:hi,useDebugValue:ri,useDeferredValue:function(i){return Th().memoizedState=i},useTransition:function(){var i=hi(!1),e=i[0];return i=vi.bind(null,i[1]),Th().memoizedState=i,[e,i]},useMutableSource:function(){},useSyncExternalStore:function(i,e,s){var o=M$1,c=Th();if(I){if(s===void 0)throw Error(p(407));s=s()}else{if(s=e(),Q===null)throw Error(p(349));Hh&30||di(o,e,s)}c.memoizedState=s;var d={value:s,getSnapshot:e};return c.queue=d,mi(ai.bind(null,o,d,i),[i]),o.flags|=2048,bi(9,ci.bind(null,o,d,s,e),void 0,null),s},useId:function(){var i=Th(),e=Q.identifierPrefix;if(I){var s=sg,o=rg;s=(o&~(1<<32-oc(o)-1)).toString(32)+s,e=":"+e+"R"+s,s=Kh++,0<s&&(e+="H"+s.toString(32)),e+=":"}else s=Lh++,e=":"+e+"r"+s.toString(32)+":";return i.memoizedState=e},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var e=Uh();return ui(e,N.memoizedState,i)},useTransition:function(){var i=Wh(Vh)[0],e=Uh().memoizedState;return[i,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var e=Uh();return N===null?e.memoizedState=i:ui(e,N.memoizedState,i)},useTransition:function(){var i=Xh(Vh)[0],e=Uh().memoizedState;return[i,e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(i,e){if(i&&i.defaultProps){e=A({},e),i=i.defaultProps;for(var s in i)e[s]===void 0&&(e[s]=i[s]);return e}return e}function Di(i,e,s,o){e=i.memoizedState,s=s(o,e),s=s==null?e:A({},e,s),i.memoizedState=s,i.lanes===0&&(i.updateQueue.baseState=s)}var Ei={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,e,s){i=i._reactInternals;var o=R(),c=yi(i),d=mh(o,c);d.payload=e,s!=null&&(d.callback=s),e=nh(i,d,c),e!==null&&(gi(e,i,c,o),oh(e,i,c))},enqueueReplaceState:function(i,e,s){i=i._reactInternals;var o=R(),c=yi(i),d=mh(o,c);d.tag=1,d.payload=e,s!=null&&(d.callback=s),e=nh(i,d,c),e!==null&&(gi(e,i,c,o),oh(e,i,c))},enqueueForceUpdate:function(i,e){i=i._reactInternals;var s=R(),o=yi(i),c=mh(s,o);c.tag=2,e!=null&&(c.callback=e),e=nh(i,c,o),e!==null&&(gi(e,i,o,s),oh(e,i,o))}};function Fi(i,e,s,o,c,d,h){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(o,d,h):e.prototype&&e.prototype.isPureReactComponent?!Ie(s,o)||!Ie(c,d):!0}function Gi(i,e,s){var o=!1,c=Vf,d=e.contextType;return typeof d=="object"&&d!==null?d=eh(d):(c=Zf(e)?Xf:H.current,o=e.contextTypes,d=(o=o!=null)?Yf(i,c):Vf),e=new e(s,d),i.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ei,i.stateNode=e,e._reactInternals=i,o&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=c,i.__reactInternalMemoizedMaskedChildContext=d),e}function Hi(i,e,s,o){i=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,o),e.state!==i&&Ei.enqueueReplaceState(e,e.state,null)}function Ii(i,e,s,o){var c=i.stateNode;c.props=s,c.state=i.memoizedState,c.refs={},kh(i);var d=e.contextType;typeof d=="object"&&d!==null?c.context=eh(d):(d=Zf(e)?Xf:H.current,c.context=Yf(i,d)),c.state=i.memoizedState,d=e.getDerivedStateFromProps,typeof d=="function"&&(Di(i,e,d,s),c.state=i.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(e=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),e!==c.state&&Ei.enqueueReplaceState(c,c.state,null),qh(i,s,c,o),c.state=i.memoizedState),typeof c.componentDidMount=="function"&&(i.flags|=4194308)}function Ji(i,e){try{var s="",o=e;do s+=Pa(o),o=o.return;while(o);var c=s}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:i,source:e,stack:c,digest:null}}function Ki(i,e,s){return{value:i,source:null,stack:s??null,digest:e??null}}function Li(i,e){try{console.error(e.value)}catch(s){setTimeout(function(){throw s})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(i,e,s){s=mh(-1,s),s.tag=3,s.payload={element:null};var o=e.value;return s.callback=function(){Oi||(Oi=!0,Pi=o),Li(i,e)},s}function Qi(i,e,s){s=mh(-1,s),s.tag=3;var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var c=e.value;s.payload=function(){return o(c)},s.callback=function(){Li(i,e)}}var d=i.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){Li(i,e),typeof o!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var h=e.stack;this.componentDidCatch(e.value,{componentStack:h!==null?h:""})}),s}function Si(i,e,s){var o=i.pingCache;if(o===null){o=i.pingCache=new Mi;var c=new Set;o.set(e,c)}else c=o.get(e),c===void 0&&(c=new Set,o.set(e,c));c.has(s)||(c.add(s),i=Ti.bind(null,i,e,s),e.then(i,i))}function Ui(i){do{var e;if((e=i.tag===13)&&(e=i.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return i;i=i.return}while(i!==null);return null}function Vi(i,e,s,o,c){return i.mode&1?(i.flags|=65536,i.lanes=c,i):(i===e?i.flags|=65536:(i.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(e=mh(-1,1),e.tag=2,nh(s,e,1))),s.lanes|=1),i)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(i,e,s,o){e.child=i===null?Vg(e,null,s,o):Ug(e,i.child,s,o)}function Yi(i,e,s,o,c){s=s.render;var d=e.ref;return ch(e,c),o=Nh(i,e,s,o,d,c),s=Sh(),i!==null&&!dh?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~c,Zi(i,e,c)):(I&&s&&vg(e),e.flags|=1,Xi(i,e,o,c),e.child)}function $i(i,e,s,o,c){if(i===null){var d=s.type;return typeof d=="function"&&!aj(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(e.tag=15,e.type=d,bj(i,e,d,o,c)):(i=Rg(s.type,null,o,e,e.mode,c),i.ref=e.ref,i.return=e,e.child=i)}if(d=i.child,!(i.lanes&c)){var h=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(h,o)&&i.ref===e.ref)return Zi(i,e,c)}return e.flags|=1,i=Pg(d,o),i.ref=e.ref,i.return=e,e.child=i}function bj(i,e,s,o,c){if(i!==null){var d=i.memoizedProps;if(Ie(d,o)&&i.ref===e.ref)if(dh=!1,e.pendingProps=o=d,(i.lanes&c)!==0)i.flags&131072&&(dh=!0);else return e.lanes=i.lanes,Zi(i,e,c)}return cj(i,e,s,o,c)}function dj(i,e,s){var o=e.pendingProps,c=o.children,d=i!==null?i.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=s;else{if(!(s&1073741824))return i=d!==null?d.baseLanes|s:s,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:i,cachePool:null,transitions:null},e.updateQueue=null,G(ej,fj),fj|=i,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=d!==null?d.baseLanes:s,G(ej,fj),fj|=o}else d!==null?(o=d.baseLanes|s,e.memoizedState=null):o=s,G(ej,fj),fj|=o;return Xi(i,e,c,s),e.child}function gj(i,e){var s=e.ref;(i===null&&s!==null||i!==null&&i.ref!==s)&&(e.flags|=512,e.flags|=2097152)}function cj(i,e,s,o,c){var d=Zf(s)?Xf:H.current;return d=Yf(e,d),ch(e,c),s=Nh(i,e,s,o,d,c),o=Sh(),i!==null&&!dh?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~c,Zi(i,e,c)):(I&&o&&vg(e),e.flags|=1,Xi(i,e,s,c),e.child)}function hj(i,e,s,o,c){if(Zf(s)){var d=!0;cg(e)}else d=!1;if(ch(e,c),e.stateNode===null)ij(i,e),Gi(e,s,o),Ii(e,s,o,c),o=!0;else if(i===null){var h=e.stateNode,g=e.memoizedProps;h.props=g;var j=h.context,_=s.contextType;typeof _=="object"&&_!==null?_=eh(_):(_=Zf(s)?Xf:H.current,_=Yf(e,_));var $=s.getDerivedStateFromProps,_e=typeof $=="function"||typeof h.getSnapshotBeforeUpdate=="function";_e||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==o||j!==_)&&Hi(e,h,o,_),jh=!1;var st=e.memoizedState;h.state=st,qh(e,o,h,c),j=e.memoizedState,g!==o||st!==j||Wf.current||jh?(typeof $=="function"&&(Di(e,s,$,o),j=e.memoizedState),(g=jh||Fi(e,s,g,o,st,j,_))?(_e||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=j),h.props=o,h.state=j,h.context=_,o=g):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{h=e.stateNode,lh(i,e),g=e.memoizedProps,_=e.type===e.elementType?g:Ci(e.type,g),h.props=_,_e=e.pendingProps,st=h.context,j=s.contextType,typeof j=="object"&&j!==null?j=eh(j):(j=Zf(s)?Xf:H.current,j=Yf(e,j));var rt=s.getDerivedStateFromProps;($=typeof rt=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==_e||st!==j)&&Hi(e,h,o,j),jh=!1,st=e.memoizedState,h.state=st,qh(e,o,h,c);var it=e.memoizedState;g!==_e||st!==it||Wf.current||jh?(typeof rt=="function"&&(Di(e,s,rt,o),it=e.memoizedState),(_=jh||Fi(e,s,_,o,st,it,j)||!1)?($||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,it,j),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,it,j)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===i.memoizedProps&&st===i.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===i.memoizedProps&&st===i.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=it),h.props=o,h.state=it,h.context=j,o=_):(typeof h.componentDidUpdate!="function"||g===i.memoizedProps&&st===i.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===i.memoizedProps&&st===i.memoizedState||(e.flags|=1024),o=!1)}return jj(i,e,s,o,d,c)}function jj(i,e,s,o,c,d){gj(i,e);var h=(e.flags&128)!==0;if(!o&&!h)return c&&dg(e,s,!1),Zi(i,e,d);o=e.stateNode,Wi.current=e;var g=h&&typeof s.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,i!==null&&h?(e.child=Ug(e,i.child,null,d),e.child=Ug(e,null,g,d)):Xi(i,e,g,d),e.memoizedState=o.state,c&&dg(e,s,!0),e.child}function kj(i){var e=i.stateNode;e.pendingContext?ag(i,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(i,e.context,!1),yh(i,e.containerInfo)}function lj(i,e,s,o,c){return Ig(),Jg(c),e.flags|=256,Xi(i,e,s,o),e.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(i){return{baseLanes:i,cachePool:null,transitions:null}}function oj(i,e,s){var o=e.pendingProps,c=L.current,d=!1,h=(e.flags&128)!==0,g;if((g=h)||(g=i!==null&&i.memoizedState===null?!1:(c&2)!==0),g?(d=!0,e.flags&=-129):(i===null||i.memoizedState!==null)&&(c|=1),G(L,c&1),i===null)return Eg(e),i=e.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(e.mode&1?i.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(h=o.children,i=o.fallback,d?(o=e.mode,d=e.child,h={mode:"hidden",children:h},!(o&1)&&d!==null?(d.childLanes=0,d.pendingProps=h):d=pj(h,o,0,null),i=Tg(i,o,s,null),d.return=e,i.return=e,d.sibling=i,e.child=d,e.child.memoizedState=nj(s),e.memoizedState=mj,i):qj(e,h));if(c=i.memoizedState,c!==null&&(g=c.dehydrated,g!==null))return rj(i,e,h,o,g,c,s);if(d){d=o.fallback,h=e.mode,c=i.child,g=c.sibling;var j={mode:"hidden",children:o.children};return!(h&1)&&e.child!==c?(o=e.child,o.childLanes=0,o.pendingProps=j,e.deletions=null):(o=Pg(c,j),o.subtreeFlags=c.subtreeFlags&14680064),g!==null?d=Pg(g,d):(d=Tg(d,h,s,null),d.flags|=2),d.return=e,o.return=e,o.sibling=d,e.child=o,o=d,d=e.child,h=i.child.memoizedState,h=h===null?nj(s):{baseLanes:h.baseLanes|s,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=i.childLanes&~s,e.memoizedState=mj,o}return d=i.child,i=d.sibling,o=Pg(d,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=s),o.return=e,o.sibling=null,i!==null&&(s=e.deletions,s===null?(e.deletions=[i],e.flags|=16):s.push(i)),e.child=o,e.memoizedState=null,o}function qj(i,e){return e=pj({mode:"visible",children:e},i.mode,0,null),e.return=i,i.child=e}function sj(i,e,s,o){return o!==null&&Jg(o),Ug(e,i.child,null,s),i=qj(e,e.pendingProps.children),i.flags|=2,e.memoizedState=null,i}function rj(i,e,s,o,c,d,h){if(s)return e.flags&256?(e.flags&=-257,o=Ki(Error(p(422))),sj(i,e,h,o)):e.memoizedState!==null?(e.child=i.child,e.flags|=128,null):(d=o.fallback,c=e.mode,o=pj({mode:"visible",children:o.children},c,0,null),d=Tg(d,c,h,null),d.flags|=2,o.return=e,d.return=e,o.sibling=d,e.child=o,e.mode&1&&Ug(e,i.child,null,h),e.child.memoizedState=nj(h),e.memoizedState=mj,d);if(!(e.mode&1))return sj(i,e,h,null);if(c.data==="$!"){if(o=c.nextSibling&&c.nextSibling.dataset,o)var g=o.dgst;return o=g,d=Error(p(419)),o=Ki(d,o,void 0),sj(i,e,h,o)}if(g=(h&i.childLanes)!==0,dh||g){if(o=Q,o!==null){switch(h&-h){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(o.suspendedLanes|h)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,ih(i,c),gi(o,i,c,-1))}return tj(),o=Ki(Error(p(421))),sj(i,e,h,o)}return c.data==="$?"?(e.flags|=128,e.child=i.child,e=uj.bind(null,i),c._reactRetry=e,null):(i=d.treeContext,yg=Lf(c.nextSibling),xg=e,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=e),e=qj(e,o.children),e.flags|=4096,e)}function vj(i,e,s){i.lanes|=e;var o=i.alternate;o!==null&&(o.lanes|=e),bh(i.return,e,s)}function wj(i,e,s,o,c){var d=i.memoizedState;d===null?i.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c}:(d.isBackwards=e,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=c)}function xj(i,e,s){var o=e.pendingProps,c=o.revealOrder,d=o.tail;if(Xi(i,e,o.children,s),o=L.current,o&2)o=o&1|2,e.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=e.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vj(i,s,e);else if(i.tag===19)vj(i,s,e);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}o&=1}if(G(L,o),!(e.mode&1))e.memoizedState=null;else switch(c){case"forwards":for(s=e.child,c=null;s!==null;)i=s.alternate,i!==null&&Ch(i)===null&&(c=s),s=s.sibling;s=c,s===null?(c=e.child,e.child=null):(c=s.sibling,s.sibling=null),wj(e,!1,c,s,d);break;case"backwards":for(s=null,c=e.child,e.child=null;c!==null;){if(i=c.alternate,i!==null&&Ch(i)===null){e.child=c;break}i=c.sibling,c.sibling=s,s=c,c=i}wj(e,!0,s,null,d);break;case"together":wj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ij(i,e){!(e.mode&1)&&i!==null&&(i.alternate=null,e.alternate=null,e.flags|=2)}function Zi(i,e,s){if(i!==null&&(e.dependencies=i.dependencies),rh|=e.lanes,!(s&e.childLanes))return null;if(i!==null&&e.child!==i.child)throw Error(p(153));if(e.child!==null){for(i=e.child,s=Pg(i,i.pendingProps),e.child=s,s.return=e;i.sibling!==null;)i=i.sibling,s=s.sibling=Pg(i,i.pendingProps),s.return=e;s.sibling=null}return e.child}function yj(i,e,s){switch(e.tag){case 3:kj(e),Ig();break;case 5:Ah(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:yh(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,c=e.memoizedProps.value;G(Wg,o._currentValue),o._currentValue=c;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(G(L,L.current&1),e.flags|=128,null):s&e.child.childLanes?oj(i,e,s):(G(L,L.current&1),i=Zi(i,e,s),i!==null?i.sibling:null);G(L,L.current&1);break;case 19:if(o=(s&e.childLanes)!==0,i.flags&128){if(o)return xj(i,e,s);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(L,L.current),o)break;return null;case 22:case 23:return e.lanes=0,dj(i,e,s)}return Zi(i,e,s)}var zj,Aj,Bj,Cj;zj=function(i,e){for(var s=e.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Aj=function(){};Bj=function(i,e,s,o){var c=i.memoizedProps;if(c!==o){i=e.stateNode,xh(uh.current);var d=null;switch(s){case"input":c=Ya(i,c),o=Ya(i,o),d=[];break;case"select":c=A({},c,{value:void 0}),o=A({},o,{value:void 0}),d=[];break;case"textarea":c=gb(i,c),o=gb(i,o),d=[];break;default:typeof c.onClick!="function"&&typeof o.onClick=="function"&&(i.onclick=Bf)}ub(s,o);var h;s=null;for(_ in c)if(!o.hasOwnProperty(_)&&c.hasOwnProperty(_)&&c[_]!=null)if(_==="style"){var g=c[_];for(h in g)g.hasOwnProperty(h)&&(s||(s={}),s[h]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(ea.hasOwnProperty(_)?d||(d=[]):(d=d||[]).push(_,null));for(_ in o){var j=o[_];if(g=c!=null?c[_]:void 0,o.hasOwnProperty(_)&&j!==g&&(j!=null||g!=null))if(_==="style")if(g){for(h in g)!g.hasOwnProperty(h)||j&&j.hasOwnProperty(h)||(s||(s={}),s[h]="");for(h in j)j.hasOwnProperty(h)&&g[h]!==j[h]&&(s||(s={}),s[h]=j[h])}else s||(d||(d=[]),d.push(_,s)),s=j;else _==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,g=g?g.__html:void 0,j!=null&&g!==j&&(d=d||[]).push(_,j)):_==="children"?typeof j!="string"&&typeof j!="number"||(d=d||[]).push(_,""+j):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(ea.hasOwnProperty(_)?(j!=null&&_==="onScroll"&&D("scroll",i),d||g===j||(d=[])):(d=d||[]).push(_,j))}s&&(d=d||[]).push("style",s);var _=d;(e.updateQueue=_)&&(e.flags|=4)}};Cj=function(i,e,s,o){s!==o&&(e.flags|=4)};function Dj(i,e){if(!I)switch(i.tailMode){case"hidden":e=i.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?i.tail=null:s.sibling=null;break;case"collapsed":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?e||i.tail===null?i.tail=null:i.tail.sibling=null:o.sibling=null}}function S(i){var e=i.alternate!==null&&i.alternate.child===i.child,s=0,o=0;if(e)for(var c=i.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&14680064,o|=c.flags&14680064,c.return=i,c=c.sibling;else for(c=i.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=i,c=c.sibling;return i.subtreeFlags|=o,i.childLanes=s,e}function Ej(i,e,s){var o=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(e),null;case 1:return Zf(e.type)&&$f(),S(e),null;case 3:return o=e.stateNode,zh(),E(Wf),E(H),Eh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Gg(e)?e.flags|=4:i===null||i.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(i,e),S(e),null;case 5:Bh(e);var c=xh(wh.current);if(s=e.type,i!==null&&e.stateNode!=null)Bj(i,e,s,o,c),i.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(p(166));return S(e),null}if(i=xh(uh.current),Gg(e)){o=e.stateNode,s=e.type;var d=e.memoizedProps;switch(o[Of]=e,o[Pf]=d,i=(e.mode&1)!==0,s){case"dialog":D("cancel",o),D("close",o);break;case"iframe":case"object":case"embed":D("load",o);break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],o);break;case"source":D("error",o);break;case"img":case"image":case"link":D("error",o),D("load",o);break;case"details":D("toggle",o);break;case"input":Za(o,d),D("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!d.multiple},D("invalid",o);break;case"textarea":hb(o,d),D("invalid",o)}ub(s,d),c=null;for(var h in d)if(d.hasOwnProperty(h)){var g=d[h];h==="children"?typeof g=="string"?o.textContent!==g&&(d.suppressHydrationWarning!==!0&&Af(o.textContent,g,i),c=["children",g]):typeof g=="number"&&o.textContent!==""+g&&(d.suppressHydrationWarning!==!0&&Af(o.textContent,g,i),c=["children",""+g]):ea.hasOwnProperty(h)&&g!=null&&h==="onScroll"&&D("scroll",o)}switch(s){case"input":Va(o),db(o,d,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(o.onclick=Bf)}o=c,e.updateQueue=o,o!==null&&(e.flags|=4)}else{h=c.nodeType===9?c:c.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(s)),i==="http://www.w3.org/1999/xhtml"?s==="script"?(i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof o.is=="string"?i=h.createElement(s,{is:o.is}):(i=h.createElement(s),s==="select"&&(h=i,o.multiple?h.multiple=!0:o.size&&(h.size=o.size))):i=h.createElementNS(i,s),i[Of]=e,i[Pf]=o,zj(i,e,!1,!1),e.stateNode=i;e:{switch(h=vb(s,o),s){case"dialog":D("cancel",i),D("close",i),c=o;break;case"iframe":case"object":case"embed":D("load",i),c=o;break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],i);c=o;break;case"source":D("error",i),c=o;break;case"img":case"image":case"link":D("error",i),D("load",i),c=o;break;case"details":D("toggle",i),c=o;break;case"input":Za(i,o),c=Ya(i,o),D("invalid",i);break;case"option":c=o;break;case"select":i._wrapperState={wasMultiple:!!o.multiple},c=A({},o,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,o),c=gb(i,o),D("invalid",i);break;default:c=o}ub(s,c),g=c;for(d in g)if(g.hasOwnProperty(d)){var j=g[d];d==="style"?sb(i,j):d==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&nb(i,j)):d==="children"?typeof j=="string"?(s!=="textarea"||j!=="")&&ob(i,j):typeof j=="number"&&ob(i,""+j):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ea.hasOwnProperty(d)?j!=null&&d==="onScroll"&&D("scroll",i):j!=null&&ta(i,d,j,h))}switch(s){case"input":Va(i),db(i,o,!1);break;case"textarea":Va(i),jb(i);break;case"option":o.value!=null&&i.setAttribute("value",""+Sa(o.value));break;case"select":i.multiple=!!o.multiple,d=o.value,d!=null?fb(i,!!o.multiple,d,!1):o.defaultValue!=null&&fb(i,!!o.multiple,o.defaultValue,!0);break;default:typeof c.onClick=="function"&&(i.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S(e),null;case 6:if(i&&e.stateNode!=null)Cj(i,e,i.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(p(166));if(s=xh(wh.current),xh(uh.current),Gg(e)){if(o=e.stateNode,s=e.memoizedProps,o[Of]=e,(d=o.nodeValue!==s)&&(i=xg,i!==null))switch(i.tag){case 3:Af(o.nodeValue,s,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,s,(i.mode&1)!==0)}d&&(e.flags|=4)}else o=(s.nodeType===9?s:s.ownerDocument).createTextNode(o),o[Of]=e,e.stateNode=o}return S(e),null;case 13:if(E(L),o=e.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,d=!1;else if(d=Gg(e),o!==null&&o.dehydrated!==null){if(i===null){if(!d)throw Error(p(318));if(d=e.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(p(317));d[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S(e),d=!1}else zg!==null&&(Fj(zg),zg=null),d=!0;if(!d)return e.flags&65536?e:null}return e.flags&128?(e.lanes=s,e):(o=o!==null,o!==(i!==null&&i.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(i===null||L.current&1?T===0&&(T=3):tj())),e.updateQueue!==null&&(e.flags|=4),S(e),null);case 4:return zh(),Aj(i,e),i===null&&sf(e.stateNode.containerInfo),S(e),null;case 10:return ah(e.type._context),S(e),null;case 17:return Zf(e.type)&&$f(),S(e),null;case 19:if(E(L),d=e.memoizedState,d===null)return S(e),null;if(o=(e.flags&128)!==0,h=d.rendering,h===null)if(o)Dj(d,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=e.child;i!==null;){if(h=Ch(i),h!==null){for(e.flags|=128,Dj(d,!1),o=h.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=s,s=e.child;s!==null;)d=s,i=o,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=i,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,i=h.dependencies,d.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s=s.sibling;return G(L,L.current&1|2),e.child}i=i.sibling}d.tail!==null&&B()>Gj&&(e.flags|=128,o=!0,Dj(d,!1),e.lanes=4194304)}else{if(!o)if(i=Ch(h),i!==null){if(e.flags|=128,o=!0,s=i.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),Dj(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!I)return S(e),null}else 2*B()-d.renderingStartTime>Gj&&s!==1073741824&&(e.flags|=128,o=!0,Dj(d,!1),e.lanes=4194304);d.isBackwards?(h.sibling=e.child,e.child=h):(s=d.last,s!==null?s.sibling=h:e.child=h,d.last=h)}return d.tail!==null?(e=d.tail,d.rendering=e,d.tail=e.sibling,d.renderingStartTime=B(),e.sibling=null,s=L.current,G(L,o?s&1|2:s&1),e):(S(e),null);case 22:case 23:return Hj(),o=e.memoizedState!==null,i!==null&&i.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?fj&1073741824&&(S(e),e.subtreeFlags&6&&(e.flags|=8192)):S(e),null;case 24:return null;case 25:return null}throw Error(p(156,e.tag))}function Ij(i,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 3:return zh(),E(Wf),E(H),Eh(),i=e.flags,i&65536&&!(i&128)?(e.flags=i&-65537|128,e):null;case 5:return Bh(e),null;case 13:if(E(L),i=e.memoizedState,i!==null&&i.dehydrated!==null){if(e.alternate===null)throw Error(p(340));Ig()}return i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(e.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(i,e){var s=i.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(o){W(i,e,o)}else s.current=null}function Mj(i,e,s){try{s()}catch(o){W(i,e,o)}}var Nj=!1;function Oj(i,e){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else e:{s=(s=i.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var h=0,g=-1,j=-1,_=0,$=0,_e=i,st=null;t:for(;;){for(var rt;_e!==s||c!==0&&_e.nodeType!==3||(g=h+c),_e!==d||o!==0&&_e.nodeType!==3||(j=h+o),_e.nodeType===3&&(h+=_e.nodeValue.length),(rt=_e.firstChild)!==null;)st=_e,_e=rt;for(;;){if(_e===i)break t;if(st===s&&++_===c&&(g=h),st===d&&++$===o&&(j=h),(rt=_e.nextSibling)!==null)break;_e=st,st=_e.parentNode}_e=rt}s=g===-1||j===-1?null:{start:g,end:j}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:i,selectionRange:s},dd=!1,V=e;V!==null;)if(e=V,i=e.child,(e.subtreeFlags&1028)!==0&&i!==null)i.return=e,V=i;else for(;V!==null;){e=V;try{var it=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(it!==null){var nt=it.memoizedProps,lt=it.memoizedState,ot=e.stateNode,at=ot.getSnapshotBeforeUpdate(e.elementType===e.type?nt:Ci(e.type,nt),lt);ot.__reactInternalSnapshotBeforeUpdate=at}break;case 3:var ct=e.stateNode.containerInfo;ct.nodeType===1?ct.textContent="":ct.nodeType===9&&ct.documentElement&&ct.removeChild(ct.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(ut){W(e,e.return,ut)}if(i=e.sibling,i!==null){i.return=e.return,V=i;break}V=e.return}return it=Nj,Nj=!1,it}function Pj(i,e,s){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&i)===i){var d=c.destroy;c.destroy=void 0,d!==void 0&&Mj(e,s,d)}c=c.next}while(c!==o)}}function Qj(i,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var s=e=e.next;do{if((s.tag&i)===i){var o=s.create;s.destroy=o()}s=s.next}while(s!==e)}}function Rj(i){var e=i.ref;if(e!==null){var s=i.stateNode;switch(i.tag){case 5:i=s;break;default:i=s}typeof e=="function"?e(i):e.current=i}}function Sj(i){var e=i.alternate;e!==null&&(i.alternate=null,Sj(e)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(e=i.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Tj(i){return i.tag===5||i.tag===3||i.tag===4}function Uj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vj(i,e,s){var o=i.tag;if(o===5||o===6)i=i.stateNode,e?s.nodeType===8?s.parentNode.insertBefore(i,e):s.insertBefore(i,e):(s.nodeType===8?(e=s.parentNode,e.insertBefore(i,s)):(e=s,e.appendChild(i)),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=Bf));else if(o!==4&&(i=i.child,i!==null))for(Vj(i,e,s),i=i.sibling;i!==null;)Vj(i,e,s),i=i.sibling}function Wj(i,e,s){var o=i.tag;if(o===5||o===6)i=i.stateNode,e?s.insertBefore(i,e):s.appendChild(i);else if(o!==4&&(i=i.child,i!==null))for(Wj(i,e,s),i=i.sibling;i!==null;)Wj(i,e,s),i=i.sibling}var X$1=null,Xj=!1;function Yj(i,e,s){for(s=s.child;s!==null;)Zj(i,e,s),s=s.sibling}function Zj(i,e,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Lj(s,e);case 6:var o=X$1,c=Xj;X$1=null,Yj(i,e,s),X$1=o,Xj=c,X$1!==null&&(Xj?(i=X$1,s=s.stateNode,i.nodeType===8?i.parentNode.removeChild(s):i.removeChild(s)):X$1.removeChild(s.stateNode));break;case 18:X$1!==null&&(Xj?(i=X$1,s=s.stateNode,i.nodeType===8?Kf(i.parentNode,s):i.nodeType===1&&Kf(i,s),bd(i)):Kf(X$1,s.stateNode));break;case 4:o=X$1,c=Xj,X$1=s.stateNode.containerInfo,Xj=!0,Yj(i,e,s),X$1=o,Xj=c;break;case 0:case 11:case 14:case 15:if(!U&&(o=s.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){c=o=o.next;do{var d=c,h=d.destroy;d=d.tag,h!==void 0&&(d&2||d&4)&&Mj(s,e,h),c=c.next}while(c!==o)}Yj(i,e,s);break;case 1:if(!U&&(Lj(s,e),o=s.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=s.memoizedProps,o.state=s.memoizedState,o.componentWillUnmount()}catch(g){W(s,e,g)}Yj(i,e,s);break;case 21:Yj(i,e,s);break;case 22:s.mode&1?(U=(o=U)||s.memoizedState!==null,Yj(i,e,s),U=o):Yj(i,e,s);break;default:Yj(i,e,s)}}function ak(i){var e=i.updateQueue;if(e!==null){i.updateQueue=null;var s=i.stateNode;s===null&&(s=i.stateNode=new Kj),e.forEach(function(o){var c=bk.bind(null,i,o);s.has(o)||(s.add(o),o.then(c,c))})}}function ck(i,e){var s=e.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];try{var d=i,h=e,g=h;e:for(;g!==null;){switch(g.tag){case 5:X$1=g.stateNode,Xj=!1;break e;case 3:X$1=g.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=g.stateNode.containerInfo,Xj=!0;break e}g=g.return}if(X$1===null)throw Error(p(160));Zj(d,h,c),X$1=null,Xj=!1;var j=c.alternate;j!==null&&(j.return=null),c.return=null}catch(_){W(c,e,_)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dk(e,i),e=e.sibling}function dk(i,e){var s=i.alternate,o=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ck(e,i),ek(i),o&4){try{Pj(3,i,i.return),Qj(3,i)}catch(nt){W(i,i.return,nt)}try{Pj(5,i,i.return)}catch(nt){W(i,i.return,nt)}}break;case 1:ck(e,i),ek(i),o&512&&s!==null&&Lj(s,s.return);break;case 5:if(ck(e,i),ek(i),o&512&&s!==null&&Lj(s,s.return),i.flags&32){var c=i.stateNode;try{ob(c,"")}catch(nt){W(i,i.return,nt)}}if(o&4&&(c=i.stateNode,c!=null)){var d=i.memoizedProps,h=s!==null?s.memoizedProps:d,g=i.type,j=i.updateQueue;if(i.updateQueue=null,j!==null)try{g==="input"&&d.type==="radio"&&d.name!=null&&ab(c,d),vb(g,h);var _=vb(g,d);for(h=0;h<j.length;h+=2){var $=j[h],_e=j[h+1];$==="style"?sb(c,_e):$==="dangerouslySetInnerHTML"?nb(c,_e):$==="children"?ob(c,_e):ta(c,$,_e,_)}switch(g){case"input":bb(c,d);break;case"textarea":ib(c,d);break;case"select":var st=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var rt=d.value;rt!=null?fb(c,!!d.multiple,rt,!1):st!==!!d.multiple&&(d.defaultValue!=null?fb(c,!!d.multiple,d.defaultValue,!0):fb(c,!!d.multiple,d.multiple?[]:"",!1))}c[Pf]=d}catch(nt){W(i,i.return,nt)}}break;case 6:if(ck(e,i),ek(i),o&4){if(i.stateNode===null)throw Error(p(162));c=i.stateNode,d=i.memoizedProps;try{c.nodeValue=d}catch(nt){W(i,i.return,nt)}}break;case 3:if(ck(e,i),ek(i),o&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(nt){W(i,i.return,nt)}break;case 4:ck(e,i),ek(i);break;case 13:ck(e,i),ek(i),c=i.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(fk=B())),o&4&&ak(i);break;case 22:if($=s!==null&&s.memoizedState!==null,i.mode&1?(U=(_=U)||$,ck(e,i),U=_):ck(e,i),ek(i),o&8192){if(_=i.memoizedState!==null,(i.stateNode.isHidden=_)&&!$&&i.mode&1)for(V=i,$=i.child;$!==null;){for(_e=V=$;V!==null;){switch(st=V,rt=st.child,st.tag){case 0:case 11:case 14:case 15:Pj(4,st,st.return);break;case 1:Lj(st,st.return);var it=st.stateNode;if(typeof it.componentWillUnmount=="function"){o=st,s=st.return;try{e=o,it.props=e.memoizedProps,it.state=e.memoizedState,it.componentWillUnmount()}catch(nt){W(o,s,nt)}}break;case 5:Lj(st,st.return);break;case 22:if(st.memoizedState!==null){gk(_e);continue}}rt!==null?(rt.return=st,V=rt):gk(_e)}$=$.sibling}e:for($=null,_e=i;;){if(_e.tag===5){if($===null){$=_e;try{c=_e.stateNode,_?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(g=_e.stateNode,j=_e.memoizedProps.style,h=j!=null&&j.hasOwnProperty("display")?j.display:null,g.style.display=rb("display",h))}catch(nt){W(i,i.return,nt)}}}else if(_e.tag===6){if($===null)try{_e.stateNode.nodeValue=_?"":_e.memoizedProps}catch(nt){W(i,i.return,nt)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===i)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===i)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===i)break e;$===_e&&($=null),_e=_e.return}$===_e&&($=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:ck(e,i),ek(i),o&4&&ak(i);break;case 21:break;default:ck(e,i),ek(i)}}function ek(i){var e=i.flags;if(e&2){try{e:{for(var s=i.return;s!==null;){if(Tj(s)){var o=s;break e}s=s.return}throw Error(p(160))}switch(o.tag){case 5:var c=o.stateNode;o.flags&32&&(ob(c,""),o.flags&=-33);var d=Uj(i);Wj(i,d,c);break;case 3:case 4:var h=o.stateNode.containerInfo,g=Uj(i);Vj(i,g,h);break;default:throw Error(p(161))}}catch(j){W(i,i.return,j)}i.flags&=-3}e&4096&&(i.flags&=-4097)}function hk(i,e,s){V=i,ik(i)}function ik(i,e,s){for(var o=(i.mode&1)!==0;V!==null;){var c=V,d=c.child;if(c.tag===22&&o){var h=c.memoizedState!==null||Jj;if(!h){var g=c.alternate,j=g!==null&&g.memoizedState!==null||U;g=Jj;var _=U;if(Jj=h,(U=j)&&!_)for(V=c;V!==null;)h=V,j=h.child,h.tag===22&&h.memoizedState!==null?jk(c):j!==null?(j.return=h,V=j):jk(c);for(;d!==null;)V=d,ik(d),d=d.sibling;V=c,Jj=g,U=_}kk(i)}else c.subtreeFlags&8772&&d!==null?(d.return=c,V=d):kk(i)}}function kk(i){for(;V!==null;){var e=V;if(e.flags&8772){var s=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U||Qj(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!U)if(s===null)o.componentDidMount();else{var c=e.elementType===e.type?s.memoizedProps:Ci(e.type,s.memoizedProps);o.componentDidUpdate(c,s.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var d=e.updateQueue;d!==null&&sh(e,d,o);break;case 3:var h=e.updateQueue;if(h!==null){if(s=null,e.child!==null)switch(e.child.tag){case 5:s=e.child.stateNode;break;case 1:s=e.child.stateNode}sh(e,h,s)}break;case 5:var g=e.stateNode;if(s===null&&e.flags&4){s=g;var j=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&s.focus();break;case"img":j.src&&(s.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var _=e.alternate;if(_!==null){var $=_.memoizedState;if($!==null){var _e=$.dehydrated;_e!==null&&bd(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||e.flags&512&&Rj(e)}catch(st){W(e,e.return,st)}}if(e===i){V=null;break}if(s=e.sibling,s!==null){s.return=e.return,V=s;break}V=e.return}}function gk(i){for(;V!==null;){var e=V;if(e===i){V=null;break}var s=e.sibling;if(s!==null){s.return=e.return,V=s;break}V=e.return}}function jk(i){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var s=e.return;try{Qj(4,e)}catch(j){W(e,s,j)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var c=e.return;try{o.componentDidMount()}catch(j){W(e,c,j)}}var d=e.return;try{Rj(e)}catch(j){W(e,d,j)}break;case 5:var h=e.return;try{Rj(e)}catch(j){W(e,h,j)}}}catch(j){W(e,e.return,j)}if(e===i){V=null;break}var g=e.sibling;if(g!==null){g.return=e.return,V=g;break}V=e.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function gi(i,e,s,o){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(i,s,o),(!(K&2)||i!==Q)&&(i===Q&&(!(K&2)&&(qk|=s),T===4&&Ck(i,Z)),Dk(i,o),s===1&&K===0&&!(e.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(i,e){var s=i.callbackNode;wc(i,e);var o=uc(i,i===Q?Z:0);if(o===0)s!==null&&bc(s),i.callbackNode=null,i.callbackPriority=0;else if(e=o&-o,i.callbackPriority!==e){if(s!=null&&bc(s),e===1)i.tag===0?ig(Ek.bind(null,i)):hg(Ek.bind(null,i)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(o)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Fk(s,Gk.bind(null,i))}i.callbackPriority=e,i.callbackNode=s}}function Gk(i,e){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var s=i.callbackNode;if(Hk()&&i.callbackNode!==s)return null;var o=uc(i,i===Q?Z:0);if(o===0)return null;if(o&30||o&i.expiredLanes||e)e=Ik(i,o);else{e=o;var c=K;K|=2;var d=Jk();(Q!==i||Z!==e)&&(uk=null,Gj=B()+500,Kk(i,e));do try{Lk();break}catch(g){Mk(i,g)}while(!0);$g(),mk.current=d,K=c,Y!==null?e=0:(Q=null,Z=0,e=T)}if(e!==0){if(e===2&&(c=xc(i),c!==0&&(o=c,e=Nk(i,c))),e===1)throw s=pk,Kk(i,0),Ck(i,o),Dk(i,B()),s;if(e===6)Ck(i,o);else{if(c=i.current.alternate,!(o&30)&&!Ok(c)&&(e=Ik(i,o),e===2&&(d=xc(i),d!==0&&(o=d,e=Nk(i,d))),e===1))throw s=pk,Kk(i,0),Ck(i,o),Dk(i,B()),s;switch(i.finishedWork=c,i.finishedLanes=o,e){case 0:case 1:throw Error(p(345));case 2:Pk(i,tk,uk);break;case 3:if(Ck(i,o),(o&130023424)===o&&(e=fk+500-B(),10<e)){if(uc(i,0)!==0)break;if(c=i.suspendedLanes,(c&o)!==o){R(),i.pingedLanes|=i.suspendedLanes&c;break}i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),e);break}Pk(i,tk,uk);break;case 4:if(Ck(i,o),(o&4194240)===o)break;for(e=i.eventTimes,c=-1;0<o;){var h=31-oc(o);d=1<<h,h=e[h],h>c&&(c=h),o&=~d}if(o=c,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*lk(o/1960))-o,10<o){i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),o);break}Pk(i,tk,uk);break;case 5:Pk(i,tk,uk);break;default:throw Error(p(329))}}}return Dk(i,B()),i.callbackNode===s?Gk.bind(null,i):null}function Nk(i,e){var s=sk;return i.current.memoizedState.isDehydrated&&(Kk(i,e).flags|=256),i=Ik(i,e),i!==2&&(e=tk,tk=s,e!==null&&Fj(e)),i}function Fj(i){tk===null?tk=i:tk.push.apply(tk,i)}function Ok(i){for(var e=i;;){if(e.flags&16384){var s=e.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var o=0;o<s.length;o++){var c=s[o],d=c.getSnapshot;c=c.value;try{if(!He(d(),c))return!1}catch{return!1}}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ck(i,e){for(e&=~rk,e&=~qk,i.suspendedLanes|=e,i.pingedLanes&=~e,i=i.expirationTimes;0<e;){var s=31-oc(e),o=1<<s;i[s]=-1,e&=~o}}function Ek(i){if(K&6)throw Error(p(327));Hk();var e=uc(i,0);if(!(e&1))return Dk(i,B()),null;var s=Ik(i,e);if(i.tag!==0&&s===2){var o=xc(i);o!==0&&(e=o,s=Nk(i,o))}if(s===1)throw s=pk,Kk(i,0),Ck(i,e),Dk(i,B()),s;if(s===6)throw Error(p(345));return i.finishedWork=i.current.alternate,i.finishedLanes=e,Pk(i,tk,uk),Dk(i,B()),null}function Qk(i,e){var s=K;K|=1;try{return i(e)}finally{K=s,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(i){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var e=K;K|=1;var s=ok.transition,o=C;try{if(ok.transition=null,C=1,i)return i()}finally{C=o,ok.transition=s,K=e,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(i,e){i.finishedWork=null,i.finishedLanes=0;var s=i.timeoutHandle;if(s!==-1&&(i.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var o=s;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(o);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(o.type._context);break;case 22:case 23:Hj()}s=s.return}if(Q=i,Y=i=Pg(i.current,null),Z=fj=e,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(e=0;e<fh.length;e++)if(s=fh[e],o=s.interleaved,o!==null){s.interleaved=null;var c=o.next,d=s.pending;if(d!==null){var h=d.next;d.next=c,o.next=h}s.pending=o}fh=null}return i}function Mk(i,e){do{var s=Y;try{if($g(),Fh.current=Rh,Ih){for(var o=M$1.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Ih=!1}if(Hh=0,O=N=M$1=null,Jh=!1,Kh=0,nk.current=null,s===null||s.return===null){T=1,pk=e,Y=null;break}e:{var d=i,h=s.return,g=s,j=e;if(e=Z,g.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var _=j,$=g,_e=$.tag;if(!($.mode&1)&&(_e===0||_e===11||_e===15)){var st=$.alternate;st?($.updateQueue=st.updateQueue,$.memoizedState=st.memoizedState,$.lanes=st.lanes):($.updateQueue=null,$.memoizedState=null)}var rt=Ui(h);if(rt!==null){rt.flags&=-257,Vi(rt,h,g,d,e),rt.mode&1&&Si(d,_,e),e=rt,j=_;var it=e.updateQueue;if(it===null){var nt=new Set;nt.add(j),e.updateQueue=nt}else it.add(j);break e}else{if(!(e&1)){Si(d,_,e),tj();break e}j=Error(p(426))}}else if(I&&g.mode&1){var lt=Ui(h);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),Vi(lt,h,g,d,e),Jg(Ji(j,g));break e}}d=j=Ji(j,g),T!==4&&(T=2),sk===null?sk=[d]:sk.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,e&=-e,d.lanes|=e;var ot=Ni(d,j,e);ph(d,ot);break e;case 1:g=j;var at=d.type,ct=d.stateNode;if(!(d.flags&128)&&(typeof at.getDerivedStateFromError=="function"||ct!==null&&typeof ct.componentDidCatch=="function"&&(Ri===null||!Ri.has(ct)))){d.flags|=65536,e&=-e,d.lanes|=e;var ut=Qi(d,g,e);ph(d,ut);break e}}d=d.return}while(d!==null)}Sk(s)}catch(ht){e=ht,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(!0)}function Jk(){var i=mk.current;return mk.current=Rh,i===null?Rh:i}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(i,e){var s=K;K|=2;var o=Jk();(Q!==i||Z!==e)&&(uk=null,Kk(i,e));do try{Tk();break}catch(c){Mk(i,c)}while(!0);if($g(),K=s,mk.current=o,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(i){var e=Vk(i.alternate,i,fj);i.memoizedProps=i.pendingProps,e===null?Sk(i):Y=e,nk.current=null}function Sk(i){var e=i;do{var s=e.alternate;if(i=e.return,e.flags&32768){if(s=Ij(s,e),s!==null){s.flags&=32767,Y=s;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(s=Ej(s,e,fj),s!==null){Y=s;return}if(e=e.sibling,e!==null){Y=e;return}Y=e=i}while(e!==null);T===0&&(T=5)}function Pk(i,e,s){var o=C,c=ok.transition;try{ok.transition=null,C=1,Wk(i,e,s,o)}finally{ok.transition=c,C=o}return null}function Wk(i,e,s,o){do Hk();while(wk!==null);if(K&6)throw Error(p(327));s=i.finishedWork;var c=i.finishedLanes;if(s===null)return null;if(i.finishedWork=null,i.finishedLanes=0,s===i.current)throw Error(p(177));i.callbackNode=null,i.callbackPriority=0;var d=s.lanes|s.childLanes;if(Bc(i,d),i===Q&&(Y=Q=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=ok.transition,ok.transition=null;var h=C;C=1;var g=K;K|=4,nk.current=null,Oj(i,s),dk(s,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=s,hk(s),dc(),K=g,C=h,ok.transition=d}else i.current=s;if(vk&&(vk=!1,wk=i,xk=c),d=i.pendingLanes,d===0&&(Ri=null),mc(s.stateNode),Dk(i,B()),e!==null)for(o=i.onRecoverableError,s=0;s<e.length;s++)c=e[s],o(c.value,{componentStack:c.stack,digest:c.digest});if(Oi)throw Oi=!1,i=Pi,Pi=null,i;return xk&1&&i.tag!==0&&Hk(),d=i.pendingLanes,d&1?i===zk?yk++:(yk=0,zk=i):yk=0,jg(),null}function Hk(){if(wk!==null){var i=Dc(xk),e=ok.transition,s=C;try{if(ok.transition=null,C=16>i?16:i,wk===null)var o=!1;else{if(i=wk,wk=null,xk=0,K&6)throw Error(p(331));var c=K;for(K|=4,V=i.current;V!==null;){var d=V,h=d.child;if(V.flags&16){var g=d.deletions;if(g!==null){for(var j=0;j<g.length;j++){var _=g[j];for(V=_;V!==null;){var $=V;switch($.tag){case 0:case 11:case 15:Pj(8,$,d)}var _e=$.child;if(_e!==null)_e.return=$,V=_e;else for(;V!==null;){$=V;var st=$.sibling,rt=$.return;if(Sj($),$===_){V=null;break}if(st!==null){st.return=rt,V=st;break}V=rt}}}var it=d.alternate;if(it!==null){var nt=it.child;if(nt!==null){it.child=null;do{var lt=nt.sibling;nt.sibling=null,nt=lt}while(nt!==null)}}V=d}}if(d.subtreeFlags&2064&&h!==null)h.return=d,V=h;else e:for(;V!==null;){if(d=V,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Pj(9,d,d.return)}var ot=d.sibling;if(ot!==null){ot.return=d.return,V=ot;break e}V=d.return}}var at=i.current;for(V=at;V!==null;){h=V;var ct=h.child;if(h.subtreeFlags&2064&&ct!==null)ct.return=h,V=ct;else e:for(h=at;V!==null;){if(g=V,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Qj(9,g)}}catch(ht){W(g,g.return,ht)}if(g===h){V=null;break e}var ut=g.sibling;if(ut!==null){ut.return=g.return,V=ut;break e}V=g.return}}if(K=c,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}o=!0}return o}finally{C=s,ok.transition=e}}return!1}function Xk(i,e,s){e=Ji(s,e),e=Ni(i,e,1),i=nh(i,e,1),e=R(),i!==null&&(Ac(i,1,e),Dk(i,e))}function W(i,e,s){if(i.tag===3)Xk(i,i,s);else for(;e!==null;){if(e.tag===3){Xk(e,i,s);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ri===null||!Ri.has(o))){i=Ji(s,i),i=Qi(e,i,1),e=nh(e,i,1),i=R(),e!==null&&(Ac(e,1,i),Dk(e,i));break}}e=e.return}}function Ti(i,e,s){var o=i.pingCache;o!==null&&o.delete(e),e=R(),i.pingedLanes|=i.suspendedLanes&s,Q===i&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(i,0):rk|=s),Dk(i,e)}function Yk(i,e){e===0&&(i.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var s=R();i=ih(i,e),i!==null&&(Ac(i,e,s),Dk(i,s))}function uj(i){var e=i.memoizedState,s=0;e!==null&&(s=e.retryLane),Yk(i,s)}function bk(i,e){var s=0;switch(i.tag){case 13:var o=i.stateNode,c=i.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=i.stateNode;break;default:throw Error(p(314))}o!==null&&o.delete(e),Yk(i,s)}var Vk;Vk=function(i,e,s){if(i!==null)if(i.memoizedProps!==e.pendingProps||Wf.current)dh=!0;else{if(!(i.lanes&s)&&!(e.flags&128))return dh=!1,yj(i,e,s);dh=!!(i.flags&131072)}else dh=!1,I&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;ij(i,e),i=e.pendingProps;var c=Yf(e,H.current);ch(e,s),c=Nh(null,e,o,i,c,s);var d=Sh();return e.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(o)?(d=!0,cg(e)):d=!1,e.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,kh(e),c.updater=Ei,e.stateNode=c,c._reactInternals=e,Ii(e,o,i,s),e=jj(null,e,o,!0,d,s)):(e.tag=0,I&&d&&vg(e),Xi(null,e,c,s),e=e.child),e;case 16:o=e.elementType;e:{switch(ij(i,e),i=e.pendingProps,c=o._init,o=c(o._payload),e.type=o,c=e.tag=Zk(o),i=Ci(o,i),c){case 0:e=cj(null,e,o,i,s);break e;case 1:e=hj(null,e,o,i,s);break e;case 11:e=Yi(null,e,o,i,s);break e;case 14:e=$i(null,e,o,Ci(o.type,i),s);break e}throw Error(p(306,o,""))}return e;case 0:return o=e.type,c=e.pendingProps,c=e.elementType===o?c:Ci(o,c),cj(i,e,o,c,s);case 1:return o=e.type,c=e.pendingProps,c=e.elementType===o?c:Ci(o,c),hj(i,e,o,c,s);case 3:e:{if(kj(e),i===null)throw Error(p(387));o=e.pendingProps,d=e.memoizedState,c=d.element,lh(i,e),qh(e,o,null,s);var h=e.memoizedState;if(o=h.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},e.updateQueue.baseState=d,e.memoizedState=d,e.flags&256){c=Ji(Error(p(423)),e),e=lj(i,e,o,s,c);break e}else if(o!==c){c=Ji(Error(p(424)),e),e=lj(i,e,o,s,c);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I=!0,zg=null,s=Vg(e,null,o,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),o===c){e=Zi(i,e,s);break e}Xi(i,e,o,s)}e=e.child}return e;case 5:return Ah(e),i===null&&Eg(e),o=e.type,c=e.pendingProps,d=i!==null?i.memoizedProps:null,h=c.children,Ef(o,c)?h=null:d!==null&&Ef(o,d)&&(e.flags|=32),gj(i,e),Xi(i,e,h,s),e.child;case 6:return i===null&&Eg(e),null;case 13:return oj(i,e,s);case 4:return yh(e,e.stateNode.containerInfo),o=e.pendingProps,i===null?e.child=Ug(e,null,o,s):Xi(i,e,o,s),e.child;case 11:return o=e.type,c=e.pendingProps,c=e.elementType===o?c:Ci(o,c),Yi(i,e,o,c,s);case 7:return Xi(i,e,e.pendingProps,s),e.child;case 8:return Xi(i,e,e.pendingProps.children,s),e.child;case 12:return Xi(i,e,e.pendingProps.children,s),e.child;case 10:e:{if(o=e.type._context,c=e.pendingProps,d=e.memoizedProps,h=c.value,G(Wg,o._currentValue),o._currentValue=h,d!==null)if(He(d.value,h)){if(d.children===c.children&&!Wf.current){e=Zi(i,e,s);break e}}else for(d=e.child,d!==null&&(d.return=e);d!==null;){var g=d.dependencies;if(g!==null){h=d.child;for(var j=g.firstContext;j!==null;){if(j.context===o){if(d.tag===1){j=mh(-1,s&-s),j.tag=2;var _=d.updateQueue;if(_!==null){_=_.shared;var $=_.pending;$===null?j.next=j:(j.next=$.next,$.next=j),_.pending=j}}d.lanes|=s,j=d.alternate,j!==null&&(j.lanes|=s),bh(d.return,s,e),g.lanes|=s;break}j=j.next}}else if(d.tag===10)h=d.type===e.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(p(341));h.lanes|=s,g=h.alternate,g!==null&&(g.lanes|=s),bh(h,s,e),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===e){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}Xi(i,e,c.children,s),e=e.child}return e;case 9:return c=e.type,o=e.pendingProps.children,ch(e,s),c=eh(c),o=o(c),e.flags|=1,Xi(i,e,o,s),e.child;case 14:return o=e.type,c=Ci(o,e.pendingProps),c=Ci(o.type,c),$i(i,e,o,c,s);case 15:return bj(i,e,e.type,e.pendingProps,s);case 17:return o=e.type,c=e.pendingProps,c=e.elementType===o?c:Ci(o,c),ij(i,e),e.tag=1,Zf(o)?(i=!0,cg(e)):i=!1,ch(e,s),Gi(e,o,c),Ii(e,o,c,s),jj(null,e,o,!0,i,s);case 19:return xj(i,e,s);case 22:return dj(i,e,s)}throw Error(p(156,e.tag))};function Fk(i,e){return ac(i,e)}function $k(i,e,s,o){this.tag=i,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,e,s,o){return new $k(i,e,s,o)}function aj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zk(i){if(typeof i=="function")return aj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function Pg(i,e){var s=i.alternate;return s===null?(s=Bg(i.tag,e,i.key,i.mode),s.elementType=i.elementType,s.type=i.type,s.stateNode=i.stateNode,s.alternate=i,i.alternate=s):(s.pendingProps=e,s.type=i.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=i.flags&14680064,s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=i.sibling,s.index=i.index,s.ref=i.ref,s}function Rg(i,e,s,o,c,d){var h=2;if(o=i,typeof i=="function")aj(i)&&(h=1);else if(typeof i=="string")h=5;else e:switch(i){case ya:return Tg(s.children,c,d,e);case za:h=8,c|=8;break;case Aa:return i=Bg(12,s,e,c|2),i.elementType=Aa,i.lanes=d,i;case Ea:return i=Bg(13,s,e,c),i.elementType=Ea,i.lanes=d,i;case Fa:return i=Bg(19,s,e,c),i.elementType=Fa,i.lanes=d,i;case Ia:return pj(s,c,d,e);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:h=10;break e;case Ca:h=9;break e;case Da:h=11;break e;case Ga:h=14;break e;case Ha:h=16,o=null;break e}throw Error(p(130,i==null?i:typeof i,""))}return e=Bg(h,s,e,c),e.elementType=i,e.type=o,e.lanes=d,e}function Tg(i,e,s,o){return i=Bg(7,i,o,e),i.lanes=s,i}function pj(i,e,s,o){return i=Bg(22,i,o,e),i.elementType=Ia,i.lanes=s,i.stateNode={isHidden:!1},i}function Qg(i,e,s){return i=Bg(6,i,null,e),i.lanes=s,i}function Sg(i,e,s){return e=Bg(4,i.children!==null?i.children:[],i.key,e),e.lanes=s,e.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},e}function al(i,e,s,o,c){this.tag=e,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function bl(i,e,s,o,c,d,h,g,j){return i=new al(i,e,s,g,j),e===1?(e=1,d===!0&&(e|=8)):e=0,d=Bg(3,null,null,e),i.current=d,d.stateNode=i,d.memoizedState={element:o,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(d),i}function cl(i,e,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:i,containerInfo:e,implementation:s}}function dl(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p(170));var e=i;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p(171))}if(i.tag===1){var s=i.type;if(Zf(s))return bg(i,s,e)}return e}function el(i,e,s,o,c,d,h,g,j){return i=bl(s,o,!0,i,c,d,h,g,j),i.context=dl(null),s=i.current,o=R(),c=yi(s),d=mh(o,c),d.callback=e??null,nh(s,d,c),i.current.lanes=c,Ac(i,c,o),Dk(i,o),i}function fl(i,e,s,o){var c=e.current,d=R(),h=yi(c);return s=dl(s),e.context===null?e.context=s:e.pendingContext=s,e=mh(d,h),e.payload={element:i},o=o===void 0?null:o,o!==null&&(e.callback=o),i=nh(c,e,h),i!==null&&(gi(i,c,h,d),oh(i,c,h)),h}function gl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hl(i,e){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var s=i.retryLane;i.retryLane=s!==0&&s<e?s:e}}function il(i,e){hl(i,e),(i=i.alternate)&&hl(i,e)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(i){console.error(i)};function ll(i){this._internalRoot=i}ml.prototype.render=ll.prototype.render=function(i){var e=this._internalRoot;if(e===null)throw Error(p(409));fl(i,e,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var e=i.containerInfo;Rk(function(){fl(null,i,null,null)}),e[uf]=null}};function ml(i){this._internalRoot=i}ml.prototype.unstable_scheduleHydration=function(i){if(i){var e=Hc();i={blockedOn:null,target:i,priority:e};for(var s=0;s<Qc.length&&e!==0&&e<Qc[s].priority;s++);Qc.splice(s,0,i),s===0&&Vc(i)}};function nl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(i,e,s,o,c){if(c){if(typeof o=="function"){var d=o;o=function(){var _=gl(h);d.call(_)}}var h=el(e,o,i,0,null,!1,!1,"",pl);return i._reactRootContainer=h,i[uf]=h.current,sf(i.nodeType===8?i.parentNode:i),Rk(),h}for(;c=i.lastChild;)i.removeChild(c);if(typeof o=="function"){var g=o;o=function(){var _=gl(j);g.call(_)}}var j=bl(i,0,!1,null,null,!1,!1,"",pl);return i._reactRootContainer=j,i[uf]=j.current,sf(i.nodeType===8?i.parentNode:i),Rk(function(){fl(e,j,s,o)}),j}function rl(i,e,s,o,c){var d=s._reactRootContainer;if(d){var h=d;if(typeof c=="function"){var g=c;c=function(){var j=gl(h);g.call(j)}}fl(e,h,i,c)}else h=ql(s,e,i,c,o);return gl(h)}Ec=function(i){switch(i.tag){case 3:var e=i.stateNode;if(e.current.memoizedState.isDehydrated){var s=tc(e.pendingLanes);s!==0&&(Cc(e,s|1),Dk(e,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var o=ih(i,1);if(o!==null){var c=R();gi(o,i,1,c)}}),il(i,1)}};Fc=function(i){if(i.tag===13){var e=ih(i,134217728);if(e!==null){var s=R();gi(e,i,134217728,s)}il(i,134217728)}};Gc=function(i){if(i.tag===13){var e=yi(i),s=ih(i,e);if(s!==null){var o=R();gi(s,i,e,o)}il(i,e)}};Hc=function(){return C};Ic=function(i,e){var s=C;try{return C=i,e()}finally{C=s}};yb=function(i,e,s){switch(e){case"input":if(bb(i,s),e=s.name,s.type==="radio"&&e!=null){for(s=i;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<s.length;e++){var o=s[e];if(o!==i&&o.form===i.form){var c=Db(o);if(!c)throw Error(p(90));Wa(o),bb(o,c)}}}break;case"textarea":ib(i,s);break;case"select":e=s.value,e!=null&&fb(i,!!s.multiple,e,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(i,e){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(e))throw Error(p(200));return cl(i,e,null,s)};reactDom_production_min.createRoot=function(i,e){if(!nl(i))throw Error(p(299));var s=!1,o="",c=kl;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(c=e.onRecoverableError)),e=bl(i,1,!1,null,null,s,!1,o,c),i[uf]=e.current,sf(i.nodeType===8?i.parentNode:i),new ll(e)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var e=i._reactInternals;if(e===void 0)throw typeof i.render=="function"?Error(p(188)):(i=Object.keys(i).join(","),Error(p(268,i)));return i=Zb(e),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Rk(i)};reactDom_production_min.hydrate=function(i,e,s){if(!ol(e))throw Error(p(200));return rl(null,i,e,!0,s)};reactDom_production_min.hydrateRoot=function(i,e,s){if(!nl(i))throw Error(p(405));var o=s!=null&&s.hydratedSources||null,c=!1,d="",h=kl;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),e=el(e,null,i,1,s??null,c,!1,d,h),i[uf]=e.current,sf(i),o)for(i=0;i<o.length;i++)s=o[i],c=s._getVersion,c=c(s._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[s,c]:e.mutableSourceEagerHydrationData.push(s,c);return new ml(e)};reactDom_production_min.render=function(i,e,s){if(!ol(e))throw Error(p(200));return rl(null,i,e,!1,s)};reactDom_production_min.unmountComponentAtNode=function(i){if(!ol(i))throw Error(p(40));return i._reactRootContainer?(Rk(function(){rl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,e,s,o){if(!ol(s))throw Error(p(200));if(i==null||i._reactInternals===void 0)throw Error(p(38));return rl(i,e,s,!1,o)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const vt=getDefaultExportFromCjs(reactDomExports);var createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;const TOAST_LIMIT=1,TOAST_REMOVE_DELAY=1e6;let count$2=0;function genId(){return count$2=(count$2+1)%Number.MAX_SAFE_INTEGER,count$2.toString()}const toastTimeouts=new Map,addToRemoveQueue=i=>{if(toastTimeouts.has(i))return;const e=setTimeout(()=>{toastTimeouts.delete(i),dispatch({type:"REMOVE_TOAST",toastId:i})},TOAST_REMOVE_DELAY);toastTimeouts.set(i,e)},reducer$1=(i,e)=>{switch(e.type){case"ADD_TOAST":return{...i,toasts:[e.toast,...i.toasts].slice(0,TOAST_LIMIT)};case"UPDATE_TOAST":return{...i,toasts:i.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=e;return s?addToRemoveQueue(s):i.toasts.forEach(o=>{addToRemoveQueue(o.id)}),{...i,toasts:i.toasts.map(o=>o.id===s||s===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(s=>s.id!==e.toastId)}}},listeners=[];let memoryState={toasts:[]};function dispatch(i){memoryState=reducer$1(memoryState,i),listeners.forEach(e=>{e(memoryState)})}function toast({...i}){const e=genId(),s=c=>dispatch({type:"UPDATE_TOAST",toast:{...c,id:e}}),o=()=>dispatch({type:"DISMISS_TOAST",toastId:e});return dispatch({type:"ADD_TOAST",toast:{...i,id:e,open:!0,onOpenChange:c=>{c||o()}}}),{id:e,dismiss:o,update:s}}function useToast(){const[i,e]=reactExports.useState(memoryState);return reactExports.useEffect(()=>(listeners.push(e),()=>{const s=listeners.indexOf(e);s>-1&&listeners.splice(s,1)}),[i]),{...i,toast,dismiss:s=>dispatch({type:"DISMISS_TOAST",toastId:s})}}function composeEventHandlers(i,e,{checkForDefaultPrevented:s=!0}={}){return function(c){if(i==null||i(c),s===!1||!c.defaultPrevented)return e==null?void 0:e(c)}}function setRef(i,e){if(typeof i=="function")return i(e);i!=null&&(i.current=e)}function composeRefs(...i){return e=>{let s=!1;const o=i.map(c=>{const d=setRef(c,e);return!s&&typeof d=="function"&&(s=!0),d});if(s)return()=>{for(let c=0;c<o.length;c++){const d=o[c];typeof d=="function"?d():setRef(i[c],null)}}}}function useComposedRefs(...i){return reactExports.useCallback(composeRefs(...i),i)}function createContext2(i,e){const s=reactExports.createContext(e),o=d=>{const{children:h,...g}=d,j=reactExports.useMemo(()=>g,Object.values(g));return jsxRuntimeExports.jsx(s.Provider,{value:j,children:h})};o.displayName=i+"Provider";function c(d){const h=reactExports.useContext(s);if(h)return h;if(e!==void 0)return e;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[o,c]}function createContextScope(i,e=[]){let s=[];function o(d,h){const g=reactExports.createContext(h),j=s.length;s=[...s,h];const _=_e=>{var ot;const{scope:st,children:rt,...it}=_e,nt=((ot=st==null?void 0:st[i])==null?void 0:ot[j])||g,lt=reactExports.useMemo(()=>it,Object.values(it));return jsxRuntimeExports.jsx(nt.Provider,{value:lt,children:rt})};_.displayName=d+"Provider";function $(_e,st){var nt;const rt=((nt=st==null?void 0:st[i])==null?void 0:nt[j])||g,it=reactExports.useContext(rt);if(it)return it;if(h!==void 0)return h;throw new Error(`\`${_e}\` must be used within \`${d}\``)}return[_,$]}const c=()=>{const d=s.map(h=>reactExports.createContext(h));return function(g){const j=(g==null?void 0:g[i])||d;return reactExports.useMemo(()=>({[`__scope${i}`]:{...g,[i]:j}}),[g,j])}};return c.scopeName=i,[o,composeContextScopes(c,...e)]}function composeContextScopes(...i){const e=i[0];if(i.length===1)return e;const s=()=>{const o=i.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const h=o.reduce((g,{useScope:j,scopeName:_})=>{const _e=j(d)[`__scope${_}`];return{...g,..._e}},{});return reactExports.useMemo(()=>({[`__scope${e.scopeName}`]:h}),[h])}};return s.scopeName=e.scopeName,s}function createSlot(i){const e=createSlotClone(i),s=reactExports.forwardRef((o,c)=>{const{children:d,...h}=o,g=reactExports.Children.toArray(d),j=g.find(isSlottable);if(j){const _=j.props.children,$=g.map(_e=>_e===j?reactExports.Children.count(_)>1?reactExports.Children.only(null):reactExports.isValidElement(_)?_.props.children:null:_e);return jsxRuntimeExports.jsx(e,{...h,ref:c,children:reactExports.isValidElement(_)?reactExports.cloneElement(_,void 0,$):null})}return jsxRuntimeExports.jsx(e,{...h,ref:c,children:d})});return s.displayName=`${i}.Slot`,s}var Slot$3=createSlot("Slot");function createSlotClone(i){const e=reactExports.forwardRef((s,o)=>{const{children:c,...d}=s;if(reactExports.isValidElement(c)){const h=getElementRef$1(c),g=mergeProps(d,c.props);return c.type!==reactExports.Fragment&&(g.ref=o?composeRefs(o,h):h),reactExports.cloneElement(c,g)}return reactExports.Children.count(c)>1?reactExports.Children.only(null):null});return e.displayName=`${i}.SlotClone`,e}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function createSlottable(i){const e=({children:s})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:s});return e.displayName=`${i}.Slottable`,e.__radixId=SLOTTABLE_IDENTIFIER,e}function isSlottable(i){return reactExports.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(i,e){const s={...e};for(const o in e){const c=i[o],d=e[o];/^on[A-Z]/.test(o)?c&&d?s[o]=(...g)=>{const j=d(...g);return c(...g),j}:c&&(s[o]=c):o==="style"?s[o]={...c,...d}:o==="className"&&(s[o]=[c,d].filter(Boolean).join(" "))}return{...i,...s}}function getElementRef$1(i){var o,c;let e=(o=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:o.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?i.ref:(e=(c=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:c.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?i.props.ref:i.props.ref||i.ref)}function createCollection(i){const e=i+"CollectionProvider",[s,o]=createContextScope(e),[c,d]=s(e,{collectionRef:{current:null},itemMap:new Map}),h=nt=>{const{scope:lt,children:ot}=nt,at=React$1.useRef(null),ct=React$1.useRef(new Map).current;return jsxRuntimeExports.jsx(c,{scope:lt,itemMap:ct,collectionRef:at,children:ot})};h.displayName=e;const g=i+"CollectionSlot",j=createSlot(g),_=React$1.forwardRef((nt,lt)=>{const{scope:ot,children:at}=nt,ct=d(g,ot),ut=useComposedRefs(lt,ct.collectionRef);return jsxRuntimeExports.jsx(j,{ref:ut,children:at})});_.displayName=g;const $=i+"CollectionItemSlot",_e="data-radix-collection-item",st=createSlot($),rt=React$1.forwardRef((nt,lt)=>{const{scope:ot,children:at,...ct}=nt,ut=React$1.useRef(null),ht=useComposedRefs(lt,ut),mt=d($,ot);return React$1.useEffect(()=>(mt.itemMap.set(ut,{ref:ut,...ct}),()=>void mt.itemMap.delete(ut))),jsxRuntimeExports.jsx(st,{[_e]:"",ref:ht,children:at})});rt.displayName=$;function it(nt){const lt=d(i+"CollectionConsumer",nt);return React$1.useCallback(()=>{const at=lt.collectionRef.current;if(!at)return[];const ct=Array.from(at.querySelectorAll(`[${_e}]`));return Array.from(lt.itemMap.values()).sort((mt,xt)=>ct.indexOf(mt.ref.current)-ct.indexOf(xt.ref.current))},[lt.collectionRef,lt.itemMap])}return[{Provider:h,Slot:_,ItemSlot:rt},it,o]}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((i,e)=>{const s=createSlot(`Primitive.${e}`),o=reactExports.forwardRef((c,d)=>{const{asChild:h,...g}=c,j=h?s:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(j,{...g,ref:d})});return o.displayName=`Primitive.${e}`,{...i,[e]:o}},{});function dispatchDiscreteCustomEvent(i,e){i&&reactDomExports.flushSync(()=>i.dispatchEvent(e))}function useCallbackRef$1(i){const e=reactExports.useRef(i);return reactExports.useEffect(()=>{e.current=i}),reactExports.useMemo(()=>(...s)=>{var o;return(o=e.current)==null?void 0:o.call(e,...s)},[])}function useEscapeKeydown(i,e=globalThis==null?void 0:globalThis.document){const s=useCallbackRef$1(i);reactExports.useEffect(()=>{const o=c=>{c.key==="Escape"&&s(c)};return e.addEventListener("keydown",o,{capture:!0}),()=>e.removeEventListener("keydown",o,{capture:!0})},[s,e])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((i,e)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:h,onDismiss:g,...j}=i,_=reactExports.useContext(DismissableLayerContext),[$,_e]=reactExports.useState(null),st=($==null?void 0:$.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,rt]=reactExports.useState({}),it=useComposedRefs(e,xt=>_e(xt)),nt=Array.from(_.layers),[lt]=[..._.layersWithOutsidePointerEventsDisabled].slice(-1),ot=nt.indexOf(lt),at=$?nt.indexOf($):-1,ct=_.layersWithOutsidePointerEventsDisabled.size>0,ut=at>=ot,ht=usePointerDownOutside(xt=>{const Et=xt.target,Tt=[..._.branches].some(St=>St.contains(Et));!ut||Tt||(c==null||c(xt),h==null||h(xt),xt.defaultPrevented||g==null||g())},st),mt=useFocusOutside(xt=>{const Et=xt.target;[..._.branches].some(St=>St.contains(Et))||(d==null||d(xt),h==null||h(xt),xt.defaultPrevented||g==null||g())},st);return useEscapeKeydown(xt=>{at===_.layers.size-1&&(o==null||o(xt),!xt.defaultPrevented&&g&&(xt.preventDefault(),g()))},st),reactExports.useEffect(()=>{if($)return s&&(_.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=st.body.style.pointerEvents,st.body.style.pointerEvents="none"),_.layersWithOutsidePointerEventsDisabled.add($)),_.layers.add($),dispatchUpdate(),()=>{s&&_.layersWithOutsidePointerEventsDisabled.size===1&&(st.body.style.pointerEvents=originalBodyPointerEvents)}},[$,st,s,_]),reactExports.useEffect(()=>()=>{$&&(_.layers.delete($),_.layersWithOutsidePointerEventsDisabled.delete($),dispatchUpdate())},[$,_]),reactExports.useEffect(()=>{const xt=()=>rt({});return document.addEventListener(CONTEXT_UPDATE,xt),()=>document.removeEventListener(CONTEXT_UPDATE,xt)},[]),jsxRuntimeExports.jsx(Primitive.div,{...j,ref:it,style:{pointerEvents:ct?ut?"auto":"none":void 0,...i.style},onFocusCapture:composeEventHandlers(i.onFocusCapture,mt.onFocusCapture),onBlurCapture:composeEventHandlers(i.onBlurCapture,mt.onBlurCapture),onPointerDownCapture:composeEventHandlers(i.onPointerDownCapture,ht.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((i,e)=>{const s=reactExports.useContext(DismissableLayerContext),o=reactExports.useRef(null),c=useComposedRefs(e,o);return reactExports.useEffect(()=>{const d=o.current;if(d)return s.branches.add(d),()=>{s.branches.delete(d)}},[s.branches]),jsxRuntimeExports.jsx(Primitive.div,{...i,ref:c})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(i,e=globalThis==null?void 0:globalThis.document){const s=useCallbackRef$1(i),o=reactExports.useRef(!1),c=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const d=g=>{if(g.target&&!o.current){let j=function(){handleAndDispatchCustomEvent$1(POINTER_DOWN_OUTSIDE,s,_,{discrete:!0})};const _={originalEvent:g};g.pointerType==="touch"?(e.removeEventListener("click",c.current),c.current=j,e.addEventListener("click",c.current,{once:!0})):j()}else e.removeEventListener("click",c.current);o.current=!1},h=window.setTimeout(()=>{e.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(h),e.removeEventListener("pointerdown",d),e.removeEventListener("click",c.current)}},[e,s]),{onPointerDownCapture:()=>o.current=!0}}function useFocusOutside(i,e=globalThis==null?void 0:globalThis.document){const s=useCallbackRef$1(i),o=reactExports.useRef(!1);return reactExports.useEffect(()=>{const c=d=>{d.target&&!o.current&&handleAndDispatchCustomEvent$1(FOCUS_OUTSIDE,s,{originalEvent:d},{discrete:!1})};return e.addEventListener("focusin",c),()=>e.removeEventListener("focusin",c)},[e,s]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function dispatchUpdate(){const i=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(i)}function handleAndDispatchCustomEvent$1(i,e,s,{discrete:o}){const c=s.originalEvent.target,d=new CustomEvent(i,{bubbles:!1,cancelable:!0,detail:s});e&&c.addEventListener(i,e,{once:!0}),o?dispatchDiscreteCustomEvent(c,d):c.dispatchEvent(d)}var Root$a=DismissableLayer,Branch=DismissableLayerBranch,useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},PORTAL_NAME$6="Portal",Portal$3=reactExports.forwardRef((i,e)=>{var g;const{container:s,...o}=i,[c,d]=reactExports.useState(!1);useLayoutEffect2(()=>d(!0),[]);const h=s||c&&((g=globalThis==null?void 0:globalThis.document)==null?void 0:g.body);return h?vt.createPortal(jsxRuntimeExports.jsx(Primitive.div,{...o,ref:e}),h):null});Portal$3.displayName=PORTAL_NAME$6;function useStateMachine$1(i,e){return reactExports.useReducer((s,o)=>e[s][o]??s,i)}var Presence=i=>{const{present:e,children:s}=i,o=usePresence(e),c=typeof s=="function"?s({present:o.isPresent}):reactExports.Children.only(s),d=useComposedRefs(o.ref,getElementRef(c));return typeof s=="function"||o.isPresent?reactExports.cloneElement(c,{ref:d}):null};Presence.displayName="Presence";function usePresence(i){const[e,s]=reactExports.useState(),o=reactExports.useRef(null),c=reactExports.useRef(i),d=reactExports.useRef("none"),h=i?"mounted":"unmounted",[g,j]=useStateMachine$1(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const _=getAnimationName(o.current);d.current=g==="mounted"?_:"none"},[g]),useLayoutEffect2(()=>{const _=o.current,$=c.current;if($!==i){const st=d.current,rt=getAnimationName(_);i?j("MOUNT"):rt==="none"||(_==null?void 0:_.display)==="none"?j("UNMOUNT"):j($&&st!==rt?"ANIMATION_OUT":"UNMOUNT"),c.current=i}},[i,j]),useLayoutEffect2(()=>{if(e){let _;const $=e.ownerDocument.defaultView??window,_e=rt=>{const nt=getAnimationName(o.current).includes(CSS.escape(rt.animationName));if(rt.target===e&&nt&&(j("ANIMATION_END"),!c.current)){const lt=e.style.animationFillMode;e.style.animationFillMode="forwards",_=$.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=lt)})}},st=rt=>{rt.target===e&&(d.current=getAnimationName(o.current))};return e.addEventListener("animationstart",st),e.addEventListener("animationcancel",_e),e.addEventListener("animationend",_e),()=>{$.clearTimeout(_),e.removeEventListener("animationstart",st),e.removeEventListener("animationcancel",_e),e.removeEventListener("animationend",_e)}}else j("ANIMATION_END")},[e,j]),{isPresent:["mounted","unmountSuspended"].includes(g),ref:reactExports.useCallback(_=>{o.current=_?getComputedStyle(_):null,s(_)},[])}}function getAnimationName(i){return(i==null?void 0:i.animationName)||"none"}function getElementRef(i){var o,c;let e=(o=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:o.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?i.ref:(e=(c=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:c.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?i.props.ref:i.props.ref||i.ref)}var useInsertionEffect=React$2[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:i,defaultProp:e,onChange:s=()=>{},caller:o}){const[c,d,h]=useUncontrolledState({defaultProp:e,onChange:s}),g=i!==void 0,j=g?i:c;{const $=reactExports.useRef(i!==void 0);reactExports.useEffect(()=>{const _e=$.current;_e!==g&&console.warn(`${o} is changing from ${_e?"controlled":"uncontrolled"} to ${g?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),$.current=g},[g,o])}const _=reactExports.useCallback($=>{var _e;if(g){const st=isFunction$1($)?$(i):$;st!==i&&((_e=h.current)==null||_e.call(h,st))}else d($)},[g,i,d,h]);return[j,_]}function useUncontrolledState({defaultProp:i,onChange:e}){const[s,o]=reactExports.useState(i),c=reactExports.useRef(s),d=reactExports.useRef(e);return useInsertionEffect(()=>{d.current=e},[e]),reactExports.useEffect(()=>{var h;c.current!==s&&((h=d.current)==null||h.call(d,s),c.current=s)},[s,c]),[s,o,d]}function isFunction$1(i){return typeof i=="function"}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME$3="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((i,e)=>jsxRuntimeExports.jsx(Primitive.span,{...i,ref:e,style:{...VISUALLY_HIDDEN_STYLES,...i.style}}));VisuallyHidden.displayName=NAME$3;var Root$9=VisuallyHidden,PROVIDER_NAME$1="ToastProvider",[Collection$3,useCollection$3,createCollectionScope$3]=createCollection("Toast"),[createToastContext,createToastScope]=createContextScope("Toast",[createCollectionScope$3]),[ToastProviderProvider,useToastProviderContext]=createToastContext(PROVIDER_NAME$1),ToastProvider$1=i=>{const{__scopeToast:e,label:s="Notification",duration:o=5e3,swipeDirection:c="right",swipeThreshold:d=50,children:h}=i,[g,j]=reactExports.useState(null),[_,$]=reactExports.useState(0),_e=reactExports.useRef(!1),st=reactExports.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${PROVIDER_NAME$1}\`. Expected non-empty \`string\`.`),jsxRuntimeExports.jsx(Collection$3.Provider,{scope:e,children:jsxRuntimeExports.jsx(ToastProviderProvider,{scope:e,label:s,duration:o,swipeDirection:c,swipeThreshold:d,toastCount:_,viewport:g,onViewportChange:j,onToastAdd:reactExports.useCallback(()=>$(rt=>rt+1),[]),onToastRemove:reactExports.useCallback(()=>$(rt=>rt-1),[]),isFocusedToastEscapeKeyDownRef:_e,isClosePausedRef:st,children:h})})};ToastProvider$1.displayName=PROVIDER_NAME$1;var VIEWPORT_NAME$2="ToastViewport",VIEWPORT_DEFAULT_HOTKEY=["F8"],VIEWPORT_PAUSE="toast.viewportPause",VIEWPORT_RESUME="toast.viewportResume",ToastViewport$1=reactExports.forwardRef((i,e)=>{const{__scopeToast:s,hotkey:o=VIEWPORT_DEFAULT_HOTKEY,label:c="Notifications ({hotkey})",...d}=i,h=useToastProviderContext(VIEWPORT_NAME$2,s),g=useCollection$3(s),j=reactExports.useRef(null),_=reactExports.useRef(null),$=reactExports.useRef(null),_e=reactExports.useRef(null),st=useComposedRefs(e,_e,h.onViewportChange),rt=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),it=h.toastCount>0;reactExports.useEffect(()=>{const lt=ot=>{var ct;o.length!==0&&o.every(ut=>ot[ut]||ot.code===ut)&&((ct=_e.current)==null||ct.focus())};return document.addEventListener("keydown",lt),()=>document.removeEventListener("keydown",lt)},[o]),reactExports.useEffect(()=>{const lt=j.current,ot=_e.current;if(it&&lt&&ot){const at=()=>{if(!h.isClosePausedRef.current){const mt=new CustomEvent(VIEWPORT_PAUSE);ot.dispatchEvent(mt),h.isClosePausedRef.current=!0}},ct=()=>{if(h.isClosePausedRef.current){const mt=new CustomEvent(VIEWPORT_RESUME);ot.dispatchEvent(mt),h.isClosePausedRef.current=!1}},ut=mt=>{!lt.contains(mt.relatedTarget)&&ct()},ht=()=>{lt.contains(document.activeElement)||ct()};return lt.addEventListener("focusin",at),lt.addEventListener("focusout",ut),lt.addEventListener("pointermove",at),lt.addEventListener("pointerleave",ht),window.addEventListener("blur",at),window.addEventListener("focus",ct),()=>{lt.removeEventListener("focusin",at),lt.removeEventListener("focusout",ut),lt.removeEventListener("pointermove",at),lt.removeEventListener("pointerleave",ht),window.removeEventListener("blur",at),window.removeEventListener("focus",ct)}}},[it,h.isClosePausedRef]);const nt=reactExports.useCallback(({tabbingDirection:lt})=>{const at=g().map(ct=>{const ut=ct.ref.current,ht=[ut,...getTabbableCandidates$1(ut)];return lt==="forwards"?ht:ht.reverse()});return(lt==="forwards"?at.reverse():at).flat()},[g]);return reactExports.useEffect(()=>{const lt=_e.current;if(lt){const ot=at=>{var ht,mt,xt;const ct=at.altKey||at.ctrlKey||at.metaKey;if(at.key==="Tab"&&!ct){const Et=document.activeElement,Tt=at.shiftKey;if(at.target===lt&&Tt){(ht=_.current)==null||ht.focus();return}const Ct=nt({tabbingDirection:Tt?"backwards":"forwards"}),At=Ct.findIndex(Rt=>Rt===Et);focusFirst$3(Ct.slice(At+1))?at.preventDefault():Tt?(mt=_.current)==null||mt.focus():(xt=$.current)==null||xt.focus()}};return lt.addEventListener("keydown",ot),()=>lt.removeEventListener("keydown",ot)}},[g,nt]),jsxRuntimeExports.jsxs(Branch,{ref:j,role:"region","aria-label":c.replace("{hotkey}",rt),tabIndex:-1,style:{pointerEvents:it?void 0:"none"},children:[it&&jsxRuntimeExports.jsx(FocusProxy,{ref:_,onFocusFromOutsideViewport:()=>{const lt=nt({tabbingDirection:"forwards"});focusFirst$3(lt)}}),jsxRuntimeExports.jsx(Collection$3.Slot,{scope:s,children:jsxRuntimeExports.jsx(Primitive.ol,{tabIndex:-1,...d,ref:st})}),it&&jsxRuntimeExports.jsx(FocusProxy,{ref:$,onFocusFromOutsideViewport:()=>{const lt=nt({tabbingDirection:"backwards"});focusFirst$3(lt)}})]})});ToastViewport$1.displayName=VIEWPORT_NAME$2;var FOCUS_PROXY_NAME="ToastFocusProxy",FocusProxy=reactExports.forwardRef((i,e)=>{const{__scopeToast:s,onFocusFromOutsideViewport:o,...c}=i,d=useToastProviderContext(FOCUS_PROXY_NAME,s);return jsxRuntimeExports.jsx(VisuallyHidden,{tabIndex:0,...c,ref:e,style:{position:"fixed"},onFocus:h=>{var _;const g=h.relatedTarget;!((_=d.viewport)!=null&&_.contains(g))&&o()}})});FocusProxy.displayName=FOCUS_PROXY_NAME;var TOAST_NAME="Toast",TOAST_SWIPE_START="toast.swipeStart",TOAST_SWIPE_MOVE="toast.swipeMove",TOAST_SWIPE_CANCEL="toast.swipeCancel",TOAST_SWIPE_END="toast.swipeEnd",Toast$1=reactExports.forwardRef((i,e)=>{const{forceMount:s,open:o,defaultOpen:c,onOpenChange:d,...h}=i,[g,j]=useControllableState({prop:o,defaultProp:c??!0,onChange:d,caller:TOAST_NAME});return jsxRuntimeExports.jsx(Presence,{present:s||g,children:jsxRuntimeExports.jsx(ToastImpl,{open:g,...h,ref:e,onClose:()=>j(!1),onPause:useCallbackRef$1(i.onPause),onResume:useCallbackRef$1(i.onResume),onSwipeStart:composeEventHandlers(i.onSwipeStart,_=>{_.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:composeEventHandlers(i.onSwipeMove,_=>{const{x:$,y:_e}=_.detail.delta;_.currentTarget.setAttribute("data-swipe","move"),_.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${$}px`),_.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${_e}px`)}),onSwipeCancel:composeEventHandlers(i.onSwipeCancel,_=>{_.currentTarget.setAttribute("data-swipe","cancel"),_.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),_.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),_.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),_.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:composeEventHandlers(i.onSwipeEnd,_=>{const{x:$,y:_e}=_.detail.delta;_.currentTarget.setAttribute("data-swipe","end"),_.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),_.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),_.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${$}px`),_.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${_e}px`),j(!1)})})})});Toast$1.displayName=TOAST_NAME;var[ToastInteractiveProvider,useToastInteractiveContext]=createToastContext(TOAST_NAME,{onClose(){}}),ToastImpl=reactExports.forwardRef((i,e)=>{const{__scopeToast:s,type:o="foreground",duration:c,open:d,onClose:h,onEscapeKeyDown:g,onPause:j,onResume:_,onSwipeStart:$,onSwipeMove:_e,onSwipeCancel:st,onSwipeEnd:rt,...it}=i,nt=useToastProviderContext(TOAST_NAME,s),[lt,ot]=reactExports.useState(null),at=useComposedRefs(e,Rt=>ot(Rt)),ct=reactExports.useRef(null),ut=reactExports.useRef(null),ht=c||nt.duration,mt=reactExports.useRef(0),xt=reactExports.useRef(ht),Et=reactExports.useRef(0),{onToastAdd:Tt,onToastRemove:St}=nt,gt=useCallbackRef$1(()=>{var kt;(lt==null?void 0:lt.contains(document.activeElement))&&((kt=nt.viewport)==null||kt.focus()),h()}),Ct=reactExports.useCallback(Rt=>{!Rt||Rt===1/0||(window.clearTimeout(Et.current),mt.current=new Date().getTime(),Et.current=window.setTimeout(gt,Rt))},[gt]);reactExports.useEffect(()=>{const Rt=nt.viewport;if(Rt){const kt=()=>{Ct(xt.current),_==null||_()},Mt=()=>{const It=new Date().getTime()-mt.current;xt.current=xt.current-It,window.clearTimeout(Et.current),j==null||j()};return Rt.addEventListener(VIEWPORT_PAUSE,Mt),Rt.addEventListener(VIEWPORT_RESUME,kt),()=>{Rt.removeEventListener(VIEWPORT_PAUSE,Mt),Rt.removeEventListener(VIEWPORT_RESUME,kt)}}},[nt.viewport,ht,j,_,Ct]),reactExports.useEffect(()=>{d&&!nt.isClosePausedRef.current&&Ct(ht)},[d,ht,nt.isClosePausedRef,Ct]),reactExports.useEffect(()=>(Tt(),()=>St()),[Tt,St]);const At=reactExports.useMemo(()=>lt?getAnnounceTextContent(lt):null,[lt]);return nt.viewport?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[At&&jsxRuntimeExports.jsx(ToastAnnounce,{__scopeToast:s,role:"status","aria-live":o==="foreground"?"assertive":"polite",children:At}),jsxRuntimeExports.jsx(ToastInteractiveProvider,{scope:s,onClose:gt,children:reactDomExports.createPortal(jsxRuntimeExports.jsx(Collection$3.ItemSlot,{scope:s,children:jsxRuntimeExports.jsx(Root$a,{asChild:!0,onEscapeKeyDown:composeEventHandlers(g,()=>{nt.isFocusedToastEscapeKeyDownRef.current||gt(),nt.isFocusedToastEscapeKeyDownRef.current=!1}),children:jsxRuntimeExports.jsx(Primitive.li,{tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":nt.swipeDirection,...it,ref:at,style:{userSelect:"none",touchAction:"none",...i.style},onKeyDown:composeEventHandlers(i.onKeyDown,Rt=>{Rt.key==="Escape"&&(g==null||g(Rt.nativeEvent),Rt.nativeEvent.defaultPrevented||(nt.isFocusedToastEscapeKeyDownRef.current=!0,gt()))}),onPointerDown:composeEventHandlers(i.onPointerDown,Rt=>{Rt.button===0&&(ct.current={x:Rt.clientX,y:Rt.clientY})}),onPointerMove:composeEventHandlers(i.onPointerMove,Rt=>{if(!ct.current)return;const kt=Rt.clientX-ct.current.x,Mt=Rt.clientY-ct.current.y,It=!!ut.current,Nt=["left","right"].includes(nt.swipeDirection),Pt=["left","up"].includes(nt.swipeDirection)?Math.min:Math.max,Lt=Nt?Pt(0,kt):0,Bt=Nt?0:Pt(0,Mt),Dt=Rt.pointerType==="touch"?10:2,Ht={x:Lt,y:Bt},Gt={originalEvent:Rt,delta:Ht};It?(ut.current=Ht,handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE,_e,Gt,{discrete:!1})):isDeltaInDirection(Ht,nt.swipeDirection,Dt)?(ut.current=Ht,handleAndDispatchCustomEvent(TOAST_SWIPE_START,$,Gt,{discrete:!1}),Rt.target.setPointerCapture(Rt.pointerId)):(Math.abs(kt)>Dt||Math.abs(Mt)>Dt)&&(ct.current=null)}),onPointerUp:composeEventHandlers(i.onPointerUp,Rt=>{const kt=ut.current,Mt=Rt.target;if(Mt.hasPointerCapture(Rt.pointerId)&&Mt.releasePointerCapture(Rt.pointerId),ut.current=null,ct.current=null,kt){const It=Rt.currentTarget,Nt={originalEvent:Rt,delta:kt};isDeltaInDirection(kt,nt.swipeDirection,nt.swipeThreshold)?handleAndDispatchCustomEvent(TOAST_SWIPE_END,rt,Nt,{discrete:!0}):handleAndDispatchCustomEvent(TOAST_SWIPE_CANCEL,st,Nt,{discrete:!0}),It.addEventListener("click",Pt=>Pt.preventDefault(),{once:!0})}})})})}),nt.viewport)})]}):null}),ToastAnnounce=i=>{const{__scopeToast:e,children:s,...o}=i,c=useToastProviderContext(TOAST_NAME,e),[d,h]=reactExports.useState(!1),[g,j]=reactExports.useState(!1);return useNextFrame(()=>h(!0)),reactExports.useEffect(()=>{const _=window.setTimeout(()=>j(!0),1e3);return()=>window.clearTimeout(_)},[]),g?null:jsxRuntimeExports.jsx(Portal$3,{asChild:!0,children:jsxRuntimeExports.jsx(VisuallyHidden,{...o,children:d&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[c.label," ",s]})})})},TITLE_NAME$2="ToastTitle",ToastTitle$1=reactExports.forwardRef((i,e)=>{const{__scopeToast:s,...o}=i;return jsxRuntimeExports.jsx(Primitive.div,{...o,ref:e})});ToastTitle$1.displayName=TITLE_NAME$2;var DESCRIPTION_NAME$2="ToastDescription",ToastDescription$1=reactExports.forwardRef((i,e)=>{const{__scopeToast:s,...o}=i;return jsxRuntimeExports.jsx(Primitive.div,{...o,ref:e})});ToastDescription$1.displayName=DESCRIPTION_NAME$2;var ACTION_NAME$1="ToastAction",ToastAction$1=reactExports.forwardRef((i,e)=>{const{altText:s,...o}=i;return s.trim()?jsxRuntimeExports.jsx(ToastAnnounceExclude,{altText:s,asChild:!0,children:jsxRuntimeExports.jsx(ToastClose$1,{...o,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ACTION_NAME$1}\`. Expected non-empty \`string\`.`),null)});ToastAction$1.displayName=ACTION_NAME$1;var CLOSE_NAME$1="ToastClose",ToastClose$1=reactExports.forwardRef((i,e)=>{const{__scopeToast:s,...o}=i,c=useToastInteractiveContext(CLOSE_NAME$1,s);return jsxRuntimeExports.jsx(ToastAnnounceExclude,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",...o,ref:e,onClick:composeEventHandlers(i.onClick,c.onClose)})})});ToastClose$1.displayName=CLOSE_NAME$1;var ToastAnnounceExclude=reactExports.forwardRef((i,e)=>{const{__scopeToast:s,altText:o,...c}=i;return jsxRuntimeExports.jsx(Primitive.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...c,ref:e})});function getAnnounceTextContent(i){const e=[];return Array.from(i.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&e.push(o.textContent),isHTMLElement$1(o)){const c=o.ariaHidden||o.hidden||o.style.display==="none",d=o.dataset.radixToastAnnounceExclude==="";if(!c)if(d){const h=o.dataset.radixToastAnnounceAlt;h&&e.push(h)}else e.push(...getAnnounceTextContent(o))}}),e}function handleAndDispatchCustomEvent(i,e,s,{discrete:o}){const c=s.originalEvent.currentTarget,d=new CustomEvent(i,{bubbles:!0,cancelable:!0,detail:s});e&&c.addEventListener(i,e,{once:!0}),o?dispatchDiscreteCustomEvent(c,d):c.dispatchEvent(d)}var isDeltaInDirection=(i,e,s=0)=>{const o=Math.abs(i.x),c=Math.abs(i.y),d=o>c;return e==="left"||e==="right"?d&&o>s:!d&&c>s};function useNextFrame(i=()=>{}){const e=useCallbackRef$1(i);useLayoutEffect2(()=>{let s=0,o=0;return s=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(o)}},[e])}function isHTMLElement$1(i){return i.nodeType===i.ELEMENT_NODE}function getTabbableCandidates$1(i){const e=[],s=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const c=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||c?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function focusFirst$3(i){const e=document.activeElement;return i.some(s=>s===e?!0:(s.focus(),document.activeElement!==e))}var Provider$1=ToastProvider$1,Viewport$2=ToastViewport$1,Root2$5=Toast$1,Title$1=ToastTitle$1,Description$1=ToastDescription$1,Action$2=ToastAction$1,Close$1=ToastClose$1;function r(i){var e,s,o="";if(typeof i=="string"||typeof i=="number")o+=i;else if(typeof i=="object")if(Array.isArray(i)){var c=i.length;for(e=0;e<c;e++)i[e]&&(s=r(i[e]))&&(o&&(o+=" "),o+=s)}else for(s in i)i[s]&&(o&&(o+=" "),o+=s);return o}function clsx(){for(var i,e,s=0,o="",c=arguments.length;s<c;s++)(i=arguments[s])&&(e=r(i))&&(o&&(o+=" "),o+=e);return o}const clsx$1=Object.freeze(Object.defineProperty({__proto__:null,clsx,default:clsx},Symbol.toStringTag,{value:"Module"})),falsyToString=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,cx=clsx,cva=(i,e)=>s=>{var o;if((e==null?void 0:e.variants)==null)return cx(i,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:c,defaultVariants:d}=e,h=Object.keys(c).map(_=>{const $=s==null?void 0:s[_],_e=d==null?void 0:d[_];if($===null)return null;const st=falsyToString($)||falsyToString(_e);return c[_][st]}),g=s&&Object.entries(s).reduce((_,$)=>{let[_e,st]=$;return st===void 0||(_[_e]=st),_},{}),j=e==null||(o=e.compoundVariants)===null||o===void 0?void 0:o.reduce((_,$)=>{let{class:_e,className:st,...rt}=$;return Object.entries(rt).every(it=>{let[nt,lt]=it;return Array.isArray(lt)?lt.includes({...d,...g}[nt]):{...d,...g}[nt]===lt})?[..._,_e,st]:_},[]);return cx(i,h,j,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...i)=>i.filter((e,s,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===s).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon$1=reactExports.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:h,...g},j)=>reactExports.createElement("svg",{ref:j,...defaultAttributes,width:e,height:e,stroke:i,strokeWidth:o?Number(s)*24/Number(e):s,className:mergeClasses("lucide",c),...g},[...h.map(([_,$])=>reactExports.createElement(_,$)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(i,e)=>{const s=reactExports.forwardRef(({className:o,...c},d)=>reactExports.createElement(Icon$1,{ref:d,iconNode:e,className:mergeClasses(`lucide-${toKebabCase(i)}`,o),...c}));return s.displayName=`${i}`,s};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Award=createLucideIcon("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bell=createLucideIcon("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BookOpen=createLucideIcon("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bot=createLucideIcon("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Brain=createLucideIcon("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Briefcase=createLucideIcon("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Building2=createLucideIcon("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calendar=createLucideIcon("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChartColumn=createLucideIcon("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleAlert=createLucideIcon("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleCheckBig=createLucideIcon("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Circle=createLucideIcon("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CreditCard=createLucideIcon("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DollarSign=createLucideIcon("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ExternalLink=createLucideIcon("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileUp=createLucideIcon("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const File$1=createLucideIcon("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Folder=createLucideIcon("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Globe=createLucideIcon("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Grid3x3=createLucideIcon("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Heart=createLucideIcon("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Image$2=createLucideIcon("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Info=createLucideIcon("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lightbulb=createLucideIcon("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const List$1=createLucideIcon("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LoaderCircle=createLucideIcon("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lock=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MapPin=createLucideIcon("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageCircle=createLucideIcon("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageSquare=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Minimize2=createLucideIcon("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Paperclip=createLucideIcon("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phone=createLucideIcon("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Play=createLucideIcon("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Radio=createLucideIcon("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Receipt=createLucideIcon("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RefreshCw=createLucideIcon("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rocket=createLucideIcon("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Share=createLucideIcon("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shield=createLucideIcon("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Smile=createLucideIcon("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sparkles=createLucideIcon("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SquarePen=createLucideIcon("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TestTube=createLucideIcon("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TriangleAlert=createLucideIcon("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trophy=createLucideIcon("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UserPlus=createLucideIcon("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Video=createLucideIcon("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Workflow=createLucideIcon("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zap=createLucideIcon("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),CLASS_PART_SEPARATOR="-",createClassGroupUtils=i=>{const e=createClassMap(i),{conflictingClassGroups:s,conflictingClassGroupModifiers:o}=i;return{getClassGroupId:h=>{const g=h.split(CLASS_PART_SEPARATOR);return g[0]===""&&g.length!==1&&g.shift(),getGroupRecursive(g,e)||getGroupIdForArbitraryProperty(h)},getConflictingClassGroupIds:(h,g)=>{const j=s[h]||[];return g&&o[h]?[...j,...o[h]]:j}}},getGroupRecursive=(i,e)=>{var h;if(i.length===0)return e.classGroupId;const s=i[0],o=e.nextPart.get(s),c=o?getGroupRecursive(i.slice(1),o):void 0;if(c)return c;if(e.validators.length===0)return;const d=i.join(CLASS_PART_SEPARATOR);return(h=e.validators.find(({validator:g})=>g(d)))==null?void 0:h.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=i=>{if(arbitraryPropertyRegex.test(i)){const e=arbitraryPropertyRegex.exec(i)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},createClassMap=i=>{const{theme:e,prefix:s}=i,o={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(i.classGroups),s).forEach(([d,h])=>{processClassesRecursively(h,o,d,e)}),o},processClassesRecursively=(i,e,s,o)=>{i.forEach(c=>{if(typeof c=="string"){const d=c===""?e:getPart(e,c);d.classGroupId=s;return}if(typeof c=="function"){if(isThemeGetter(c)){processClassesRecursively(c(o),e,s,o);return}e.validators.push({validator:c,classGroupId:s});return}Object.entries(c).forEach(([d,h])=>{processClassesRecursively(h,getPart(e,d),s,o)})})},getPart=(i,e)=>{let s=i;return e.split(CLASS_PART_SEPARATOR).forEach(o=>{s.nextPart.has(o)||s.nextPart.set(o,{nextPart:new Map,validators:[]}),s=s.nextPart.get(o)}),s},isThemeGetter=i=>i.isThemeGetter,getPrefixedClassGroupEntries=(i,e)=>e?i.map(([s,o])=>{const c=o.map(d=>typeof d=="string"?e+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(([h,g])=>[e+h,g])):d);return[s,c]}):i,createLruCache=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,o=new Map;const c=(d,h)=>{s.set(d,h),e++,e>i&&(e=0,o=s,s=new Map)};return{get(d){let h=s.get(d);if(h!==void 0)return h;if((h=o.get(d))!==void 0)return c(d,h),h},set(d,h){s.has(d)?s.set(d,h):c(d,h)}}},IMPORTANT_MODIFIER="!",createParseClassName=i=>{const{separator:e,experimentalParseClassName:s}=i,o=e.length===1,c=e[0],d=e.length,h=g=>{const j=[];let _=0,$=0,_e;for(let lt=0;lt<g.length;lt++){let ot=g[lt];if(_===0){if(ot===c&&(o||g.slice(lt,lt+d)===e)){j.push(g.slice($,lt)),$=lt+d;continue}if(ot==="/"){_e=lt;continue}}ot==="["?_++:ot==="]"&&_--}const st=j.length===0?g:g.substring($),rt=st.startsWith(IMPORTANT_MODIFIER),it=rt?st.substring(1):st,nt=_e&&_e>$?_e-$:void 0;return{modifiers:j,hasImportantModifier:rt,baseClassName:it,maybePostfixModifierPosition:nt}};return s?g=>s({className:g,parseClassName:h}):h},sortModifiers=i=>{if(i.length<=1)return i;const e=[];let s=[];return i.forEach(o=>{o[0]==="["?(e.push(...s.sort(),o),s=[]):s.push(o)}),e.push(...s.sort()),e},createConfigUtils=i=>({cache:createLruCache(i.cacheSize),parseClassName:createParseClassName(i),...createClassGroupUtils(i)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(i,e)=>{const{parseClassName:s,getClassGroupId:o,getConflictingClassGroupIds:c}=e,d=[],h=i.trim().split(SPLIT_CLASSES_REGEX);let g="";for(let j=h.length-1;j>=0;j-=1){const _=h[j],{modifiers:$,hasImportantModifier:_e,baseClassName:st,maybePostfixModifierPosition:rt}=s(_);let it=!!rt,nt=o(it?st.substring(0,rt):st);if(!nt){if(!it){g=_+(g.length>0?" "+g:g);continue}if(nt=o(st),!nt){g=_+(g.length>0?" "+g:g);continue}it=!1}const lt=sortModifiers($).join(":"),ot=_e?lt+IMPORTANT_MODIFIER:lt,at=ot+nt;if(d.includes(at))continue;d.push(at);const ct=c(nt,it);for(let ut=0;ut<ct.length;++ut){const ht=ct[ut];d.push(ot+ht)}g=_+(g.length>0?" "+g:g)}return g};function twJoin(){let i=0,e,s,o="";for(;i<arguments.length;)(e=arguments[i++])&&(s=toValue(e))&&(o&&(o+=" "),o+=s);return o}const toValue=i=>{if(typeof i=="string")return i;let e,s="";for(let o=0;o<i.length;o++)i[o]&&(e=toValue(i[o]))&&(s&&(s+=" "),s+=e);return s};function createTailwindMerge(i,...e){let s,o,c,d=h;function h(j){const _=e.reduce(($,_e)=>_e($),i());return s=createConfigUtils(_),o=s.cache.get,c=s.cache.set,d=g,g(j)}function g(j){const _=o(j);if(_)return _;const $=mergeClassList(j,s);return c(j,$),$}return function(){return d(twJoin.apply(null,arguments))}}const fromTheme=i=>{const e=s=>s[i]||[];return e.isThemeGetter=!0,e},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=i=>isNumber$1(i)||stringLengths.has(i)||fractionRegex.test(i),isArbitraryLength=i=>getIsArbitraryValue(i,"length",isLengthOnly),isNumber$1=i=>!!i&&!Number.isNaN(Number(i)),isArbitraryNumber=i=>getIsArbitraryValue(i,"number",isNumber$1),isInteger=i=>!!i&&Number.isInteger(Number(i)),isPercent=i=>i.endsWith("%")&&isNumber$1(i.slice(0,-1)),isArbitraryValue=i=>arbitraryValueRegex.test(i),isTshirtSize=i=>tshirtUnitRegex.test(i),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=i=>getIsArbitraryValue(i,sizeLabels,isNever),isArbitraryPosition=i=>getIsArbitraryValue(i,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=i=>getIsArbitraryValue(i,imageLabels,isImage),isArbitraryShadow=i=>getIsArbitraryValue(i,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(i,e,s)=>{const o=arbitraryValueRegex.exec(i);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):s(o[2]):!1},isLengthOnly=i=>lengthUnitRegex.test(i)&&!colorFunctionRegex.test(i),isNever=()=>!1,isShadow=i=>shadowRegex.test(i),isImage=i=>imageRegex.test(i),getDefaultConfig=()=>{const i=fromTheme("colors"),e=fromTheme("spacing"),s=fromTheme("blur"),o=fromTheme("brightness"),c=fromTheme("borderColor"),d=fromTheme("borderRadius"),h=fromTheme("borderSpacing"),g=fromTheme("borderWidth"),j=fromTheme("contrast"),_=fromTheme("grayscale"),$=fromTheme("hueRotate"),_e=fromTheme("invert"),st=fromTheme("gap"),rt=fromTheme("gradientColorStops"),it=fromTheme("gradientColorStopPositions"),nt=fromTheme("inset"),lt=fromTheme("margin"),ot=fromTheme("opacity"),at=fromTheme("padding"),ct=fromTheme("saturate"),ut=fromTheme("scale"),ht=fromTheme("sepia"),mt=fromTheme("skew"),xt=fromTheme("space"),Et=fromTheme("translate"),Tt=()=>["auto","contain","none"],St=()=>["auto","hidden","clip","visible","scroll"],gt=()=>["auto",isArbitraryValue,e],Ct=()=>[isArbitraryValue,e],At=()=>["",isLength,isArbitraryLength],Rt=()=>["auto",isNumber$1,isArbitraryValue],kt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Mt=()=>["solid","dashed","dotted","double","none"],It=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Nt=()=>["start","end","center","between","around","evenly","stretch"],Pt=()=>["","0",isArbitraryValue],Lt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Bt=()=>[isNumber$1,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:Bt(),borderColor:[i],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:Ct(),borderWidth:At(),contrast:Bt(),grayscale:Pt(),hueRotate:Bt(),invert:Pt(),gap:Ct(),gradientColorStops:[i],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:gt(),margin:gt(),opacity:Bt(),padding:Ct(),saturate:Bt(),scale:Bt(),sepia:Pt(),skew:Bt(),space:Ct(),translate:Ct()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":Lt()}],"break-before":[{"break-before":Lt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...kt(),isArbitraryValue]}],overflow:[{overflow:St()}],"overflow-x":[{"overflow-x":St()}],"overflow-y":[{"overflow-y":St()}],overscroll:[{overscroll:Tt()}],"overscroll-x":[{"overscroll-x":Tt()}],"overscroll-y":[{"overscroll-y":Tt()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[nt]}],"inset-x":[{"inset-x":[nt]}],"inset-y":[{"inset-y":[nt]}],start:[{start:[nt]}],end:[{end:[nt]}],top:[{top:[nt]}],right:[{right:[nt]}],bottom:[{bottom:[nt]}],left:[{left:[nt]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:gt()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:Pt()}],shrink:[{shrink:Pt()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":Rt()}],"col-end":[{"col-end":Rt()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":Rt()}],"row-end":[{"row-end":Rt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[st]}],"gap-x":[{"gap-x":[st]}],"gap-y":[{"gap-y":[st]}],"justify-content":[{justify:["normal",...Nt()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Nt(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Nt(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[at]}],px:[{px:[at]}],py:[{py:[at]}],ps:[{ps:[at]}],pe:[{pe:[at]}],pt:[{pt:[at]}],pr:[{pr:[at]}],pb:[{pb:[at]}],pl:[{pl:[at]}],m:[{m:[lt]}],mx:[{mx:[lt]}],my:[{my:[lt]}],ms:[{ms:[lt]}],me:[{me:[lt]}],mt:[{mt:[lt]}],mr:[{mr:[lt]}],mb:[{mb:[lt]}],ml:[{ml:[lt]}],"space-x":[{"space-x":[xt]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[xt]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,e]}],"min-w":[{"min-w":[isArbitraryValue,e,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,e,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber$1,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[i]}],"placeholder-opacity":[{"placeholder-opacity":[ot]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[i]}],"text-opacity":[{"text-opacity":[ot]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Mt(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[i]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Ct()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[ot]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...kt(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[i]}],"gradient-from-pos":[{from:[it]}],"gradient-via-pos":[{via:[it]}],"gradient-to-pos":[{to:[it]}],"gradient-from":[{from:[rt]}],"gradient-via":[{via:[rt]}],"gradient-to":[{to:[rt]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[g]}],"border-w-x":[{"border-x":[g]}],"border-w-y":[{"border-y":[g]}],"border-w-s":[{"border-s":[g]}],"border-w-e":[{"border-e":[g]}],"border-w-t":[{"border-t":[g]}],"border-w-r":[{"border-r":[g]}],"border-w-b":[{"border-b":[g]}],"border-w-l":[{"border-l":[g]}],"border-opacity":[{"border-opacity":[ot]}],"border-style":[{border:[...Mt(),"hidden"]}],"divide-x":[{"divide-x":[g]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[g]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[ot]}],"divide-style":[{divide:Mt()}],"border-color":[{border:[c]}],"border-color-x":[{"border-x":[c]}],"border-color-y":[{"border-y":[c]}],"border-color-s":[{"border-s":[c]}],"border-color-e":[{"border-e":[c]}],"border-color-t":[{"border-t":[c]}],"border-color-r":[{"border-r":[c]}],"border-color-b":[{"border-b":[c]}],"border-color-l":[{"border-l":[c]}],"divide-color":[{divide:[c]}],"outline-style":[{outline:["",...Mt()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[i]}],"ring-w":[{ring:At()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[i]}],"ring-opacity":[{"ring-opacity":[ot]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[i]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[ot]}],"mix-blend":[{"mix-blend":[...It(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":It()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[o]}],contrast:[{contrast:[j]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[_]}],"hue-rotate":[{"hue-rotate":[$]}],invert:[{invert:[_e]}],saturate:[{saturate:[ct]}],sepia:[{sepia:[ht]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[j]}],"backdrop-grayscale":[{"backdrop-grayscale":[_]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$]}],"backdrop-invert":[{"backdrop-invert":[_e]}],"backdrop-opacity":[{"backdrop-opacity":[ot]}],"backdrop-saturate":[{"backdrop-saturate":[ct]}],"backdrop-sepia":[{"backdrop-sepia":[ht]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[h]}],"border-spacing-x":[{"border-spacing-x":[h]}],"border-spacing-y":[{"border-spacing-y":[h]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:Bt()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:Bt()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[ut]}],"scale-x":[{"scale-x":[ut]}],"scale-y":[{"scale-y":[ut]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[Et]}],"translate-y":[{"translate-y":[Et]}],"skew-x":[{"skew-x":[mt]}],"skew-y":[{"skew-y":[mt]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",i]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[i]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Ct()}],"scroll-mx":[{"scroll-mx":Ct()}],"scroll-my":[{"scroll-my":Ct()}],"scroll-ms":[{"scroll-ms":Ct()}],"scroll-me":[{"scroll-me":Ct()}],"scroll-mt":[{"scroll-mt":Ct()}],"scroll-mr":[{"scroll-mr":Ct()}],"scroll-mb":[{"scroll-mb":Ct()}],"scroll-ml":[{"scroll-ml":Ct()}],"scroll-p":[{"scroll-p":Ct()}],"scroll-px":[{"scroll-px":Ct()}],"scroll-py":[{"scroll-py":Ct()}],"scroll-ps":[{"scroll-ps":Ct()}],"scroll-pe":[{"scroll-pe":Ct()}],"scroll-pt":[{"scroll-pt":Ct()}],"scroll-pr":[{"scroll-pr":Ct()}],"scroll-pb":[{"scroll-pb":Ct()}],"scroll-pl":[{"scroll-pl":Ct()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[i,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[i,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...i){return twMerge(clsx(i))}const ToastProvider=Provider$1,ToastViewport=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Viewport$2,{ref:s,className:cn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",i),...e}));ToastViewport.displayName=Viewport$2.displayName;const toastVariants=cva("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Toast=reactExports.forwardRef(({className:i,variant:e,...s},o)=>jsxRuntimeExports.jsx(Root2$5,{ref:o,className:cn(toastVariants({variant:e}),i),...s}));Toast.displayName=Root2$5.displayName;const ToastAction=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Action$2,{ref:s,className:cn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",i),...e}));ToastAction.displayName=Action$2.displayName;const ToastClose=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Close$1,{ref:s,className:cn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",i),"toast-close":"",...e,children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})}));ToastClose.displayName=Close$1.displayName;const ToastTitle=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Title$1,{ref:s,className:cn("text-sm font-semibold",i),...e}));ToastTitle.displayName=Title$1.displayName;const ToastDescription=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Description$1,{ref:s,className:cn("text-sm opacity-90",i),...e}));ToastDescription.displayName=Description$1.displayName;function Toaster$1(){const{toasts:i}=useToast();return jsxRuntimeExports.jsxs(ToastProvider,{children:[i.map(function({id:e,title:s,description:o,action:c,...d}){return jsxRuntimeExports.jsxs(Toast,{...d,children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-1",children:[s&&jsxRuntimeExports.jsx(ToastTitle,{children:s}),o&&jsxRuntimeExports.jsx(ToastDescription,{children:o})]}),c,jsxRuntimeExports.jsx(ToastClose,{})]},e)}),jsxRuntimeExports.jsx(ToastViewport,{})]})}var jt=i=>{switch(i){case"success":return ee;case"info":return ae;case"warning":return oe;case"error":return se;default:return null}},te=Array(12).fill(0),Yt=({visible:i,className:e})=>React$1.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":i},React$1.createElement("div",{className:"sonner-spinner"},te.map((s,o)=>React$1.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),ee=React$1.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React$1.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),oe=React$1.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},React$1.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ae=React$1.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React$1.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),se=React$1.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React$1.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ot=React$1.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},React$1.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React$1.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ft=()=>{let[i,e]=React$1.useState(document.hidden);return React$1.useEffect(()=>{let s=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),i},bt=1,yt=class{constructor(){this.subscribe=i=>(this.subscribers.push(i),()=>{let e=this.subscribers.indexOf(i);this.subscribers.splice(e,1)}),this.publish=i=>{this.subscribers.forEach(e=>e(i))},this.addToast=i=>{this.publish(i),this.toasts=[...this.toasts,i]},this.create=i=>{var e;let{message:s,...o}=i,c=typeof(i==null?void 0:i.id)=="number"||((e=i.id)==null?void 0:e.length)>0?i.id:bt++,d=this.toasts.find(g=>g.id===c),h=i.dismissible===void 0?!0:i.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),d?this.toasts=this.toasts.map(g=>g.id===c?(this.publish({...g,...i,id:c,title:s}),{...g,...i,id:c,dismissible:h,title:s}):g):this.addToast({title:s,...o,dismissible:h,id:c}),c},this.dismiss=i=>(this.dismissedToasts.add(i),i||this.toasts.forEach(e=>{this.subscribers.forEach(s=>s({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:i,dismiss:!0})),i),this.message=(i,e)=>this.create({...e,message:i}),this.error=(i,e)=>this.create({...e,message:i,type:"error"}),this.success=(i,e)=>this.create({...e,type:"success",message:i}),this.info=(i,e)=>this.create({...e,type:"info",message:i}),this.warning=(i,e)=>this.create({...e,type:"warning",message:i}),this.loading=(i,e)=>this.create({...e,type:"loading",message:i}),this.promise=(i,e)=>{if(!e)return;let s;e.loading!==void 0&&(s=this.create({...e,promise:i,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let o=i instanceof Promise?i:i(),c=s!==void 0,d,h=o.then(async j=>{if(d=["resolve",j],React$1.isValidElement(j))c=!1,this.create({id:s,type:"default",message:j});else if(ie(j)&&!j.ok){c=!1;let _=typeof e.error=="function"?await e.error(`HTTP error! status: ${j.status}`):e.error,$=typeof e.description=="function"?await e.description(`HTTP error! status: ${j.status}`):e.description;this.create({id:s,type:"error",message:_,description:$})}else if(e.success!==void 0){c=!1;let _=typeof e.success=="function"?await e.success(j):e.success,$=typeof e.description=="function"?await e.description(j):e.description;this.create({id:s,type:"success",message:_,description:$})}}).catch(async j=>{if(d=["reject",j],e.error!==void 0){c=!1;let _=typeof e.error=="function"?await e.error(j):e.error,$=typeof e.description=="function"?await e.description(j):e.description;this.create({id:s,type:"error",message:_,description:$})}}).finally(()=>{var j;c&&(this.dismiss(s),s=void 0),(j=e.finally)==null||j.call(e)}),g=()=>new Promise((j,_)=>h.then(()=>d[0]==="reject"?_(d[1]):j(d[1])).catch(_));return typeof s!="string"&&typeof s!="number"?{unwrap:g}:Object.assign(s,{unwrap:g})},this.custom=(i,e)=>{let s=(e==null?void 0:e.id)||bt++;return this.create({jsx:i(s),id:s,...e}),s},this.getActiveToasts=()=>this.toasts.filter(i=>!this.dismissedToasts.has(i.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},v=new yt,ne=(i,e)=>{let s=(e==null?void 0:e.id)||bt++;return v.addToast({title:i,...e,id:s}),s},ie=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",le=ne,ce=()=>v.toasts,de=()=>v.getActiveToasts(),ue=Object.assign(le,{success:v.success,info:v.info,warning:v.warning,error:v.error,custom:v.custom,message:v.message,promise:v.promise,dismiss:v.dismiss,loading:v.loading},{getHistory:ce,getToasts:de});function wt(i,{insertAt:e}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",e==="top"&&s.firstChild?s.insertBefore(o,s.firstChild):s.appendChild(o),o.styleSheet?o.styleSheet.cssText=i:o.appendChild(document.createTextNode(i))}wt(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function tt(i){return i.label!==void 0}var pe=3,me="32px",ge="16px",Wt=4e3,he=356,be=14,ye=20,we=200;function M(...i){return i.filter(Boolean).join(" ")}function xe(i){let[e,s]=i.split("-"),o=[];return e&&o.push(e),s&&o.push(s),o}var ve=i=>{var e,s,o,c,d,h,g,j,_,$,_e;let{invert:st,toast:rt,unstyled:it,interacting:nt,setHeights:lt,visibleToasts:ot,heights:at,index:ct,toasts:ut,expanded:ht,removeToast:mt,defaultRichColors:xt,closeButton:Et,style:Tt,cancelButtonStyle:St,actionButtonStyle:gt,className:Ct="",descriptionClassName:At="",duration:Rt,position:kt,gap:Mt,loadingIcon:It,expandByDefault:Nt,classNames:Pt,icons:Lt,closeButtonAriaLabel:Bt="Close toast",pauseWhenPageIsHidden:Dt}=i,[Ht,Gt]=React$1.useState(null),[rs,Xt]=React$1.useState(null),[$t,Zt]=React$1.useState(!1),[Jt,qt]=React$1.useState(!1),[ns,as]=React$1.useState(!1),[es,us]=React$1.useState(!1),[ys,vs]=React$1.useState(!1),[nr,Pr]=React$1.useState(0),[eo,px]=React$1.useState(0),Jr=React$1.useRef(rt.duration||Rt||Wt),mx=React$1.useRef(null),bn=React$1.useRef(null),ov=ct===0,av=ct+1<=ot,ir=rt.type,dr=rt.dismissible!==!1,Eu=rt.className||"",yu=rt.descriptionClassName||"",to=React$1.useMemo(()=>at.findIndex(ts=>ts.toastId===rt.id)||0,[at,rt.id]),t0=React$1.useMemo(()=>{var ts;return(ts=rt.closeButton)!=null?ts:Et},[rt.closeButton,Et]),hE=React$1.useMemo(()=>rt.duration||Rt||Wt,[rt.duration,Rt]),lv=React$1.useRef(0),ju=React$1.useRef(0),pE=React$1.useRef(0),bu=React$1.useRef(null),[s0,r0]=kt.split("-"),mE=React$1.useMemo(()=>at.reduce((ts,fs,js)=>js>=to?ts:ts+fs.height,0),[at,to]),fE=Ft(),n0=rt.invert||st,cv=ir==="loading";ju.current=React$1.useMemo(()=>to*Mt+mE,[to,mE]),React$1.useEffect(()=>{Jr.current=hE},[hE]),React$1.useEffect(()=>{Zt(!0)},[]),React$1.useEffect(()=>{let ts=bn.current;if(ts){let fs=ts.getBoundingClientRect().height;return px(fs),lt(js=>[{toastId:rt.id,height:fs,position:rt.position},...js]),()=>lt(js=>js.filter(kr=>kr.toastId!==rt.id))}},[lt,rt.id]),React$1.useLayoutEffect(()=>{if(!$t)return;let ts=bn.current,fs=ts.style.height;ts.style.height="auto";let js=ts.getBoundingClientRect().height;ts.style.height=fs,px(js),lt(kr=>kr.find(Ir=>Ir.toastId===rt.id)?kr.map(Ir=>Ir.toastId===rt.id?{...Ir,height:js}:Ir):[{toastId:rt.id,height:js,position:rt.position},...kr])},[$t,rt.title,rt.description,lt,rt.id]);let so=React$1.useCallback(()=>{qt(!0),Pr(ju.current),lt(ts=>ts.filter(fs=>fs.toastId!==rt.id)),setTimeout(()=>{mt(rt)},we)},[rt,mt,lt,ju]);React$1.useEffect(()=>{if(rt.promise&&ir==="loading"||rt.duration===1/0||rt.type==="loading")return;let ts;return ht||nt||Dt&&fE?(()=>{if(pE.current<lv.current){let fs=new Date().getTime()-lv.current;Jr.current=Jr.current-fs}pE.current=new Date().getTime()})():Jr.current!==1/0&&(lv.current=new Date().getTime(),ts=setTimeout(()=>{var fs;(fs=rt.onAutoClose)==null||fs.call(rt,rt),so()},Jr.current)),()=>clearTimeout(ts)},[ht,nt,rt,ir,Dt,fE,so]),React$1.useEffect(()=>{rt.delete&&so()},[so,rt.delete]);function i0(){var ts,fs,js;return Lt!=null&&Lt.loading?React$1.createElement("div",{className:M(Pt==null?void 0:Pt.loader,(ts=rt==null?void 0:rt.classNames)==null?void 0:ts.loader,"sonner-loader"),"data-visible":ir==="loading"},Lt.loading):It?React$1.createElement("div",{className:M(Pt==null?void 0:Pt.loader,(fs=rt==null?void 0:rt.classNames)==null?void 0:fs.loader,"sonner-loader"),"data-visible":ir==="loading"},It):React$1.createElement(Yt,{className:M(Pt==null?void 0:Pt.loader,(js=rt==null?void 0:rt.classNames)==null?void 0:js.loader),visible:ir==="loading"})}return React$1.createElement("li",{tabIndex:0,ref:bn,className:M(Ct,Eu,Pt==null?void 0:Pt.toast,(e=rt==null?void 0:rt.classNames)==null?void 0:e.toast,Pt==null?void 0:Pt.default,Pt==null?void 0:Pt[ir],(s=rt==null?void 0:rt.classNames)==null?void 0:s[ir]),"data-sonner-toast":"","data-rich-colors":(o=rt.richColors)!=null?o:xt,"data-styled":!(rt.jsx||rt.unstyled||it),"data-mounted":$t,"data-promise":!!rt.promise,"data-swiped":ys,"data-removed":Jt,"data-visible":av,"data-y-position":s0,"data-x-position":r0,"data-index":ct,"data-front":ov,"data-swiping":ns,"data-dismissible":dr,"data-type":ir,"data-invert":n0,"data-swipe-out":es,"data-swipe-direction":rs,"data-expanded":!!(ht||Nt&&$t),style:{"--index":ct,"--toasts-before":ct,"--z-index":ut.length-ct,"--offset":`${Jt?nr:ju.current}px`,"--initial-height":Nt?"auto":`${eo}px`,...Tt,...rt.style},onDragEnd:()=>{as(!1),Gt(null),bu.current=null},onPointerDown:ts=>{cv||!dr||(mx.current=new Date,Pr(ju.current),ts.target.setPointerCapture(ts.pointerId),ts.target.tagName!=="BUTTON"&&(as(!0),bu.current={x:ts.clientX,y:ts.clientY}))},onPointerUp:()=>{var ts,fs,js,kr;if(es||!dr)return;bu.current=null;let Ir=Number(((ts=bn.current)==null?void 0:ts.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ro=Number(((fs=bn.current)==null?void 0:fs.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Vo=new Date().getTime()-((js=mx.current)==null?void 0:js.getTime()),Mr=Ht==="x"?Ir:ro,no=Math.abs(Mr)/Vo;if(Math.abs(Mr)>=ye||no>.11){Pr(ju.current),(kr=rt.onDismiss)==null||kr.call(rt,rt),Xt(Ht==="x"?Ir>0?"right":"left":ro>0?"down":"up"),so(),us(!0),vs(!1);return}as(!1),Gt(null)},onPointerMove:ts=>{var fs,js,kr,Ir;if(!bu.current||!dr||((fs=window.getSelection())==null?void 0:fs.toString().length)>0)return;let ro=ts.clientY-bu.current.y,Vo=ts.clientX-bu.current.x,Mr=(js=i.swipeDirections)!=null?js:xe(kt);!Ht&&(Math.abs(Vo)>1||Math.abs(ro)>1)&&Gt(Math.abs(Vo)>Math.abs(ro)?"x":"y");let no={x:0,y:0};Ht==="y"?(Mr.includes("top")||Mr.includes("bottom"))&&(Mr.includes("top")&&ro<0||Mr.includes("bottom")&&ro>0)&&(no.y=ro):Ht==="x"&&(Mr.includes("left")||Mr.includes("right"))&&(Mr.includes("left")&&Vo<0||Mr.includes("right")&&Vo>0)&&(no.x=Vo),(Math.abs(no.x)>0||Math.abs(no.y)>0)&&vs(!0),(kr=bn.current)==null||kr.style.setProperty("--swipe-amount-x",`${no.x}px`),(Ir=bn.current)==null||Ir.style.setProperty("--swipe-amount-y",`${no.y}px`)}},t0&&!rt.jsx?React$1.createElement("button",{"aria-label":Bt,"data-disabled":cv,"data-close-button":!0,onClick:cv||!dr?()=>{}:()=>{var ts;so(),(ts=rt.onDismiss)==null||ts.call(rt,rt)},className:M(Pt==null?void 0:Pt.closeButton,(c=rt==null?void 0:rt.classNames)==null?void 0:c.closeButton)},(d=Lt==null?void 0:Lt.close)!=null?d:Ot):null,rt.jsx||reactExports.isValidElement(rt.title)?rt.jsx?rt.jsx:typeof rt.title=="function"?rt.title():rt.title:React$1.createElement(React$1.Fragment,null,ir||rt.icon||rt.promise?React$1.createElement("div",{"data-icon":"",className:M(Pt==null?void 0:Pt.icon,(h=rt==null?void 0:rt.classNames)==null?void 0:h.icon)},rt.promise||rt.type==="loading"&&!rt.icon?rt.icon||i0():null,rt.type!=="loading"?rt.icon||(Lt==null?void 0:Lt[ir])||jt(ir):null):null,React$1.createElement("div",{"data-content":"",className:M(Pt==null?void 0:Pt.content,(g=rt==null?void 0:rt.classNames)==null?void 0:g.content)},React$1.createElement("div",{"data-title":"",className:M(Pt==null?void 0:Pt.title,(j=rt==null?void 0:rt.classNames)==null?void 0:j.title)},typeof rt.title=="function"?rt.title():rt.title),rt.description?React$1.createElement("div",{"data-description":"",className:M(At,yu,Pt==null?void 0:Pt.description,(_=rt==null?void 0:rt.classNames)==null?void 0:_.description)},typeof rt.description=="function"?rt.description():rt.description):null),reactExports.isValidElement(rt.cancel)?rt.cancel:rt.cancel&&tt(rt.cancel)?React$1.createElement("button",{"data-button":!0,"data-cancel":!0,style:rt.cancelButtonStyle||St,onClick:ts=>{var fs,js;tt(rt.cancel)&&dr&&((js=(fs=rt.cancel).onClick)==null||js.call(fs,ts),so())},className:M(Pt==null?void 0:Pt.cancelButton,($=rt==null?void 0:rt.classNames)==null?void 0:$.cancelButton)},rt.cancel.label):null,reactExports.isValidElement(rt.action)?rt.action:rt.action&&tt(rt.action)?React$1.createElement("button",{"data-button":!0,"data-action":!0,style:rt.actionButtonStyle||gt,onClick:ts=>{var fs,js;tt(rt.action)&&((js=(fs=rt.action).onClick)==null||js.call(fs,ts),!ts.defaultPrevented&&so())},className:M(Pt==null?void 0:Pt.actionButton,(_e=rt==null?void 0:rt.classNames)==null?void 0:_e.actionButton)},rt.action.label):null))};function _t(){if(typeof window>"u"||typeof document>"u")return"ltr";let i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}function Te(i,e){let s={};return[i,e].forEach((o,c)=>{let d=c===1,h=d?"--mobile-offset":"--offset",g=d?ge:me;function j(_){["top","right","bottom","left"].forEach($=>{s[`${h}-${$}`]=typeof _=="number"?`${_}px`:_})}typeof o=="number"||typeof o=="string"?j(o):typeof o=="object"?["top","right","bottom","left"].forEach(_=>{o[_]===void 0?s[`${h}-${_}`]=g:s[`${h}-${_}`]=typeof o[_]=="number"?`${o[_]}px`:o[_]}):j(g)}),s}var $e=reactExports.forwardRef(function(i,e){let{invert:s,position:o="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:h,className:g,offset:j,mobileOffset:_,theme:$="light",richColors:_e,duration:st,style:rt,visibleToasts:it=pe,toastOptions:nt,dir:lt=_t(),gap:ot=be,loadingIcon:at,icons:ct,containerAriaLabel:ut="Notifications",pauseWhenPageIsHidden:ht}=i,[mt,xt]=React$1.useState([]),Et=React$1.useMemo(()=>Array.from(new Set([o].concat(mt.filter(Dt=>Dt.position).map(Dt=>Dt.position)))),[mt,o]),[Tt,St]=React$1.useState([]),[gt,Ct]=React$1.useState(!1),[At,Rt]=React$1.useState(!1),[kt,Mt]=React$1.useState($!=="system"?$:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),It=React$1.useRef(null),Nt=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),Pt=React$1.useRef(null),Lt=React$1.useRef(!1),Bt=React$1.useCallback(Dt=>{xt(Ht=>{var Gt;return(Gt=Ht.find(rs=>rs.id===Dt.id))!=null&&Gt.delete||v.dismiss(Dt.id),Ht.filter(({id:rs})=>rs!==Dt.id)})},[]);return React$1.useEffect(()=>v.subscribe(Dt=>{if(Dt.dismiss){xt(Ht=>Ht.map(Gt=>Gt.id===Dt.id?{...Gt,delete:!0}:Gt));return}setTimeout(()=>{vt.flushSync(()=>{xt(Ht=>{let Gt=Ht.findIndex(rs=>rs.id===Dt.id);return Gt!==-1?[...Ht.slice(0,Gt),{...Ht[Gt],...Dt},...Ht.slice(Gt+1)]:[Dt,...Ht]})})})}),[]),React$1.useEffect(()=>{if($!=="system"){Mt($);return}if($==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Mt("dark"):Mt("light")),typeof window>"u")return;let Dt=window.matchMedia("(prefers-color-scheme: dark)");try{Dt.addEventListener("change",({matches:Ht})=>{Mt(Ht?"dark":"light")})}catch{Dt.addListener(({matches:Gt})=>{try{Mt(Gt?"dark":"light")}catch(rs){console.error(rs)}})}},[$]),React$1.useEffect(()=>{mt.length<=1&&Ct(!1)},[mt]),React$1.useEffect(()=>{let Dt=Ht=>{var Gt,rs;c.every(Xt=>Ht[Xt]||Ht.code===Xt)&&(Ct(!0),(Gt=It.current)==null||Gt.focus()),Ht.code==="Escape"&&(document.activeElement===It.current||(rs=It.current)!=null&&rs.contains(document.activeElement))&&Ct(!1)};return document.addEventListener("keydown",Dt),()=>document.removeEventListener("keydown",Dt)},[c]),React$1.useEffect(()=>{if(It.current)return()=>{Pt.current&&(Pt.current.focus({preventScroll:!0}),Pt.current=null,Lt.current=!1)}},[It.current]),React$1.createElement("section",{ref:e,"aria-label":`${ut} ${Nt}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Et.map((Dt,Ht)=>{var Gt;let[rs,Xt]=Dt.split("-");return mt.length?React$1.createElement("ol",{key:Dt,dir:lt==="auto"?_t():lt,tabIndex:-1,ref:It,className:g,"data-sonner-toaster":!0,"data-theme":kt,"data-y-position":rs,"data-lifted":gt&&mt.length>1&&!d,"data-x-position":Xt,style:{"--front-toast-height":`${((Gt=Tt[0])==null?void 0:Gt.height)||0}px`,"--width":`${he}px`,"--gap":`${ot}px`,...rt,...Te(j,_)},onBlur:$t=>{Lt.current&&!$t.currentTarget.contains($t.relatedTarget)&&(Lt.current=!1,Pt.current&&(Pt.current.focus({preventScroll:!0}),Pt.current=null))},onFocus:$t=>{$t.target instanceof HTMLElement&&$t.target.dataset.dismissible==="false"||Lt.current||(Lt.current=!0,Pt.current=$t.relatedTarget)},onMouseEnter:()=>Ct(!0),onMouseMove:()=>Ct(!0),onMouseLeave:()=>{At||Ct(!1)},onDragEnd:()=>Ct(!1),onPointerDown:$t=>{$t.target instanceof HTMLElement&&$t.target.dataset.dismissible==="false"||Rt(!0)},onPointerUp:()=>Rt(!1)},mt.filter($t=>!$t.position&&Ht===0||$t.position===Dt).map(($t,Zt)=>{var Jt,qt;return React$1.createElement(ve,{key:$t.id,icons:ct,index:Zt,toast:$t,defaultRichColors:_e,duration:(Jt=nt==null?void 0:nt.duration)!=null?Jt:st,className:nt==null?void 0:nt.className,descriptionClassName:nt==null?void 0:nt.descriptionClassName,invert:s,visibleToasts:it,closeButton:(qt=nt==null?void 0:nt.closeButton)!=null?qt:h,interacting:At,position:Dt,style:nt==null?void 0:nt.style,unstyled:nt==null?void 0:nt.unstyled,classNames:nt==null?void 0:nt.classNames,cancelButtonStyle:nt==null?void 0:nt.cancelButtonStyle,actionButtonStyle:nt==null?void 0:nt.actionButtonStyle,removeToast:Bt,toasts:mt.filter(ns=>ns.position==$t.position),heights:Tt.filter(ns=>ns.position==$t.position),setHeights:St,expandByDefault:d,gap:ot,loadingIcon:at,expanded:gt,pauseWhenPageIsHidden:ht,swipeDirections:i.swipeDirections})})):null}))});const ThemeContext=reactExports.createContext(null);function ThemeProvider({children:i,defaultTheme:e="system",value:s,...o}){const[c,d]=reactExports.useState(()=>{if(typeof window<"u"){const g=localStorage.getItem("theme");return g&&(g==="dark"||g==="light"||g==="system")?g:e}return e});reactExports.useEffect(()=>{const g=window.document.documentElement;if(g.classList.remove("light","dark"),c==="system"){const j=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";g.classList.add(j);return}g.classList.add(c)},[c]);const h={theme:c,setTheme:g=>{localStorage.setItem("theme",g),d(g)}};return jsxRuntimeExports.jsx(ThemeContext.Provider,{value:h,...o,children:i})}const useTheme=()=>{const i=reactExports.useContext(ThemeContext);if(!i)throw new Error("useTheme must be used within a ThemeProvider");return i},Toaster=({...i})=>{const{theme:e}=useTheme();return jsxRuntimeExports.jsx($e,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...i})};var useReactId=React$2[" useId ".trim().toString()]||(()=>{}),count$1=0;function useId(i){const[e,s]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{s(o=>o??String(count$1++))},[i]),e?`radix-${e}`:""}const sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=i=>({x:i,y:i}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(i,e,s){return max(i,min(e,s))}function evaluate(i,e){return typeof i=="function"?i(e):i}function getSide(i){return i.split("-")[0]}function getAlignment(i){return i.split("-")[1]}function getOppositeAxis(i){return i==="x"?"y":"x"}function getAxisLength(i){return i==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(i){return yAxisSides.has(getSide(i))?"y":"x"}function getAlignmentAxis(i){return getOppositeAxis(getSideAxis(i))}function getAlignmentSides(i,e,s){s===void 0&&(s=!1);const o=getAlignment(i),c=getAlignmentAxis(i),d=getAxisLength(c);let h=c==="x"?o===(s?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[d]>e.floating[d]&&(h=getOppositePlacement(h)),[h,getOppositePlacement(h)]}function getExpandedPlacements(i){const e=getOppositePlacement(i);return[getOppositeAlignmentPlacement(i),e,getOppositeAlignmentPlacement(e)]}function getOppositeAlignmentPlacement(i){return i.replace(/start|end/g,e=>oppositeAlignmentMap[e])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(i,e,s){switch(i){case"top":case"bottom":return s?e?rlPlacement:lrPlacement:e?lrPlacement:rlPlacement;case"left":case"right":return e?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(i,e,s,o){const c=getAlignment(i);let d=getSideList(getSide(i),s==="start",o);return c&&(d=d.map(h=>h+"-"+c),e&&(d=d.concat(d.map(getOppositeAlignmentPlacement)))),d}function getOppositePlacement(i){return i.replace(/left|right|bottom|top/g,e=>oppositeSideMap[e])}function expandPaddingObject(i){return{top:0,right:0,bottom:0,left:0,...i}}function getPaddingObject(i){return typeof i!="number"?expandPaddingObject(i):{top:i,right:i,bottom:i,left:i}}function rectToClientRect(i){const{x:e,y:s,width:o,height:c}=i;return{width:o,height:c,top:s,left:e,right:e+o,bottom:s+c,x:e,y:s}}function computeCoordsFromPlacement(i,e,s){let{reference:o,floating:c}=i;const d=getSideAxis(e),h=getAlignmentAxis(e),g=getAxisLength(h),j=getSide(e),_=d==="y",$=o.x+o.width/2-c.width/2,_e=o.y+o.height/2-c.height/2,st=o[g]/2-c[g]/2;let rt;switch(j){case"top":rt={x:$,y:o.y-c.height};break;case"bottom":rt={x:$,y:o.y+o.height};break;case"right":rt={x:o.x+o.width,y:_e};break;case"left":rt={x:o.x-c.width,y:_e};break;default:rt={x:o.x,y:o.y}}switch(getAlignment(e)){case"start":rt[h]-=st*(s&&_?-1:1);break;case"end":rt[h]+=st*(s&&_?-1:1);break}return rt}const computePosition$1=async(i,e,s)=>{const{placement:o="bottom",strategy:c="absolute",middleware:d=[],platform:h}=s,g=d.filter(Boolean),j=await(h.isRTL==null?void 0:h.isRTL(e));let _=await h.getElementRects({reference:i,floating:e,strategy:c}),{x:$,y:_e}=computeCoordsFromPlacement(_,o,j),st=o,rt={},it=0;for(let nt=0;nt<g.length;nt++){const{name:lt,fn:ot}=g[nt],{x:at,y:ct,data:ut,reset:ht}=await ot({x:$,y:_e,initialPlacement:o,placement:st,strategy:c,middlewareData:rt,rects:_,platform:h,elements:{reference:i,floating:e}});$=at??$,_e=ct??_e,rt={...rt,[lt]:{...rt[lt],...ut}},ht&&it<=50&&(it++,typeof ht=="object"&&(ht.placement&&(st=ht.placement),ht.rects&&(_=ht.rects===!0?await h.getElementRects({reference:i,floating:e,strategy:c}):ht.rects),{x:$,y:_e}=computeCoordsFromPlacement(_,st,j)),nt=-1)}return{x:$,y:_e,placement:st,strategy:c,middlewareData:rt}};async function detectOverflow(i,e){var s;e===void 0&&(e={});const{x:o,y:c,platform:d,rects:h,elements:g,strategy:j}=i,{boundary:_="clippingAncestors",rootBoundary:$="viewport",elementContext:_e="floating",altBoundary:st=!1,padding:rt=0}=evaluate(e,i),it=getPaddingObject(rt),lt=g[st?_e==="floating"?"reference":"floating":_e],ot=rectToClientRect(await d.getClippingRect({element:(s=await(d.isElement==null?void 0:d.isElement(lt)))==null||s?lt:lt.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(g.floating)),boundary:_,rootBoundary:$,strategy:j})),at=_e==="floating"?{x:o,y:c,width:h.floating.width,height:h.floating.height}:h.reference,ct=await(d.getOffsetParent==null?void 0:d.getOffsetParent(g.floating)),ut=await(d.isElement==null?void 0:d.isElement(ct))?await(d.getScale==null?void 0:d.getScale(ct))||{x:1,y:1}:{x:1,y:1},ht=rectToClientRect(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:g,rect:at,offsetParent:ct,strategy:j}):at);return{top:(ot.top-ht.top+it.top)/ut.y,bottom:(ht.bottom-ot.bottom+it.bottom)/ut.y,left:(ot.left-ht.left+it.left)/ut.x,right:(ht.right-ot.right+it.right)/ut.x}}const arrow$3=i=>({name:"arrow",options:i,async fn(e){const{x:s,y:o,placement:c,rects:d,platform:h,elements:g,middlewareData:j}=e,{element:_,padding:$=0}=evaluate(i,e)||{};if(_==null)return{};const _e=getPaddingObject($),st={x:s,y:o},rt=getAlignmentAxis(c),it=getAxisLength(rt),nt=await h.getDimensions(_),lt=rt==="y",ot=lt?"top":"left",at=lt?"bottom":"right",ct=lt?"clientHeight":"clientWidth",ut=d.reference[it]+d.reference[rt]-st[rt]-d.floating[it],ht=st[rt]-d.reference[rt],mt=await(h.getOffsetParent==null?void 0:h.getOffsetParent(_));let xt=mt?mt[ct]:0;(!xt||!await(h.isElement==null?void 0:h.isElement(mt)))&&(xt=g.floating[ct]||d.floating[it]);const Et=ut/2-ht/2,Tt=xt/2-nt[it]/2-1,St=min(_e[ot],Tt),gt=min(_e[at],Tt),Ct=St,At=xt-nt[it]-gt,Rt=xt/2-nt[it]/2+Et,kt=clamp$1(Ct,Rt,At),Mt=!j.arrow&&getAlignment(c)!=null&&Rt!==kt&&d.reference[it]/2-(Rt<Ct?St:gt)-nt[it]/2<0,It=Mt?Rt<Ct?Rt-Ct:Rt-At:0;return{[rt]:st[rt]+It,data:{[rt]:kt,centerOffset:Rt-kt-It,...Mt&&{alignmentOffset:It}},reset:Mt}}}),flip$2=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(e){var s,o;const{placement:c,middlewareData:d,rects:h,initialPlacement:g,platform:j,elements:_}=e,{mainAxis:$=!0,crossAxis:_e=!0,fallbackPlacements:st,fallbackStrategy:rt="bestFit",fallbackAxisSideDirection:it="none",flipAlignment:nt=!0,...lt}=evaluate(i,e);if((s=d.arrow)!=null&&s.alignmentOffset)return{};const ot=getSide(c),at=getSideAxis(g),ct=getSide(g)===g,ut=await(j.isRTL==null?void 0:j.isRTL(_.floating)),ht=st||(ct||!nt?[getOppositePlacement(g)]:getExpandedPlacements(g)),mt=it!=="none";!st&&mt&&ht.push(...getOppositeAxisPlacements(g,nt,it,ut));const xt=[g,...ht],Et=await detectOverflow(e,lt),Tt=[];let St=((o=d.flip)==null?void 0:o.overflows)||[];if($&&Tt.push(Et[ot]),_e){const Rt=getAlignmentSides(c,h,ut);Tt.push(Et[Rt[0]],Et[Rt[1]])}if(St=[...St,{placement:c,overflows:Tt}],!Tt.every(Rt=>Rt<=0)){var gt,Ct;const Rt=(((gt=d.flip)==null?void 0:gt.index)||0)+1,kt=xt[Rt];if(kt&&(!(_e==="alignment"?at!==getSideAxis(kt):!1)||St.every(Nt=>getSideAxis(Nt.placement)===at?Nt.overflows[0]>0:!0)))return{data:{index:Rt,overflows:St},reset:{placement:kt}};let Mt=(Ct=St.filter(It=>It.overflows[0]<=0).sort((It,Nt)=>It.overflows[1]-Nt.overflows[1])[0])==null?void 0:Ct.placement;if(!Mt)switch(rt){case"bestFit":{var At;const It=(At=St.filter(Nt=>{if(mt){const Pt=getSideAxis(Nt.placement);return Pt===at||Pt==="y"}return!0}).map(Nt=>[Nt.placement,Nt.overflows.filter(Pt=>Pt>0).reduce((Pt,Lt)=>Pt+Lt,0)]).sort((Nt,Pt)=>Nt[1]-Pt[1])[0])==null?void 0:At[0];It&&(Mt=It);break}case"initialPlacement":Mt=g;break}if(c!==Mt)return{reset:{placement:Mt}}}return{}}}};function getSideOffsets(i,e){return{top:i.top-e.height,right:i.right-e.width,bottom:i.bottom-e.height,left:i.left-e.width}}function isAnySideFullyClipped(i){return sides.some(e=>i[e]>=0)}const hide$2=function(i){return i===void 0&&(i={}),{name:"hide",options:i,async fn(e){const{rects:s}=e,{strategy:o="referenceHidden",...c}=evaluate(i,e);switch(o){case"referenceHidden":{const d=await detectOverflow(e,{...c,elementContext:"reference"}),h=getSideOffsets(d,s.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:isAnySideFullyClipped(h)}}}case"escaped":{const d=await detectOverflow(e,{...c,altBoundary:!0}),h=getSideOffsets(d,s.floating);return{data:{escapedOffsets:h,escaped:isAnySideFullyClipped(h)}}}default:return{}}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(i,e){const{placement:s,platform:o,elements:c}=i,d=await(o.isRTL==null?void 0:o.isRTL(c.floating)),h=getSide(s),g=getAlignment(s),j=getSideAxis(s)==="y",_=originSides.has(h)?-1:1,$=d&&j?-1:1,_e=evaluate(e,i);let{mainAxis:st,crossAxis:rt,alignmentAxis:it}=typeof _e=="number"?{mainAxis:_e,crossAxis:0,alignmentAxis:null}:{mainAxis:_e.mainAxis||0,crossAxis:_e.crossAxis||0,alignmentAxis:_e.alignmentAxis};return g&&typeof it=="number"&&(rt=g==="end"?it*-1:it),j?{x:rt*$,y:st*_}:{x:st*_,y:rt*$}}const offset$2=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(e){var s,o;const{x:c,y:d,placement:h,middlewareData:g}=e,j=await convertValueToCoords(e,i);return h===((s=g.offset)==null?void 0:s.placement)&&(o=g.arrow)!=null&&o.alignmentOffset?{}:{x:c+j.x,y:d+j.y,data:{...j,placement:h}}}}},shift$2=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(e){const{x:s,y:o,placement:c}=e,{mainAxis:d=!0,crossAxis:h=!1,limiter:g={fn:lt=>{let{x:ot,y:at}=lt;return{x:ot,y:at}}},...j}=evaluate(i,e),_={x:s,y:o},$=await detectOverflow(e,j),_e=getSideAxis(getSide(c)),st=getOppositeAxis(_e);let rt=_[st],it=_[_e];if(d){const lt=st==="y"?"top":"left",ot=st==="y"?"bottom":"right",at=rt+$[lt],ct=rt-$[ot];rt=clamp$1(at,rt,ct)}if(h){const lt=_e==="y"?"top":"left",ot=_e==="y"?"bottom":"right",at=it+$[lt],ct=it-$[ot];it=clamp$1(at,it,ct)}const nt=g.fn({...e,[st]:rt,[_e]:it});return{...nt,data:{x:nt.x-s,y:nt.y-o,enabled:{[st]:d,[_e]:h}}}}}},limitShift$2=function(i){return i===void 0&&(i={}),{options:i,fn(e){const{x:s,y:o,placement:c,rects:d,middlewareData:h}=e,{offset:g=0,mainAxis:j=!0,crossAxis:_=!0}=evaluate(i,e),$={x:s,y:o},_e=getSideAxis(c),st=getOppositeAxis(_e);let rt=$[st],it=$[_e];const nt=evaluate(g,e),lt=typeof nt=="number"?{mainAxis:nt,crossAxis:0}:{mainAxis:0,crossAxis:0,...nt};if(j){const ct=st==="y"?"height":"width",ut=d.reference[st]-d.floating[ct]+lt.mainAxis,ht=d.reference[st]+d.reference[ct]-lt.mainAxis;rt<ut?rt=ut:rt>ht&&(rt=ht)}if(_){var ot,at;const ct=st==="y"?"width":"height",ut=originSides.has(getSide(c)),ht=d.reference[_e]-d.floating[ct]+(ut&&((ot=h.offset)==null?void 0:ot[_e])||0)+(ut?0:lt.crossAxis),mt=d.reference[_e]+d.reference[ct]+(ut?0:((at=h.offset)==null?void 0:at[_e])||0)-(ut?lt.crossAxis:0);it<ht?it=ht:it>mt&&(it=mt)}return{[st]:rt,[_e]:it}}}},size$2=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(e){var s,o;const{placement:c,rects:d,platform:h,elements:g}=e,{apply:j=()=>{},..._}=evaluate(i,e),$=await detectOverflow(e,_),_e=getSide(c),st=getAlignment(c),rt=getSideAxis(c)==="y",{width:it,height:nt}=d.floating;let lt,ot;_e==="top"||_e==="bottom"?(lt=_e,ot=st===(await(h.isRTL==null?void 0:h.isRTL(g.floating))?"start":"end")?"left":"right"):(ot=_e,lt=st==="end"?"top":"bottom");const at=nt-$.top-$.bottom,ct=it-$.left-$.right,ut=min(nt-$[lt],at),ht=min(it-$[ot],ct),mt=!e.middlewareData.shift;let xt=ut,Et=ht;if((s=e.middlewareData.shift)!=null&&s.enabled.x&&(Et=ct),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(xt=at),mt&&!st){const St=max($.left,0),gt=max($.right,0),Ct=max($.top,0),At=max($.bottom,0);rt?Et=it-2*(St!==0||gt!==0?St+gt:max($.left,$.right)):xt=nt-2*(Ct!==0||At!==0?Ct+At:max($.top,$.bottom))}await j({...e,availableWidth:Et,availableHeight:xt});const Tt=await h.getDimensions(g.floating);return it!==Tt.width||nt!==Tt.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(i){return isNode(i)?(i.nodeName||"").toLowerCase():"#document"}function getWindow(i){var e;return(i==null||(e=i.ownerDocument)==null?void 0:e.defaultView)||window}function getDocumentElement(i){var e;return(e=(isNode(i)?i.ownerDocument:i.document)||window.document)==null?void 0:e.documentElement}function isNode(i){return hasWindow()?i instanceof Node||i instanceof getWindow(i).Node:!1}function isElement(i){return hasWindow()?i instanceof Element||i instanceof getWindow(i).Element:!1}function isHTMLElement(i){return hasWindow()?i instanceof HTMLElement||i instanceof getWindow(i).HTMLElement:!1}function isShadowRoot(i){return!hasWindow()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof getWindow(i).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(i){const{overflow:e,overflowX:s,overflowY:o,display:c}=getComputedStyle$1(i);return/auto|scroll|overlay|hidden|clip/.test(e+o+s)&&!invalidOverflowDisplayValues.has(c)}const tableElements=new Set(["table","td","th"]);function isTableElement(i){return tableElements.has(getNodeName(i))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(i){return topLayerSelectors.some(e=>{try{return i.matches(e)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(i){const e=isWebKit(),s=isElement(i)?getComputedStyle$1(i):i;return transformProperties.some(o=>s[o]?s[o]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!e&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!e&&(s.filter?s.filter!=="none":!1)||willChangeValues.some(o=>(s.willChange||"").includes(o))||containValues.some(o=>(s.contain||"").includes(o))}function getContainingBlock(i){let e=getParentNode(i);for(;isHTMLElement(e)&&!isLastTraversableNode(e);){if(isContainingBlock(e))return e;if(isTopLayer(e))return null;e=getParentNode(e)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(i){return lastTraversableNodeNames.has(getNodeName(i))}function getComputedStyle$1(i){return getWindow(i).getComputedStyle(i)}function getNodeScroll(i){return isElement(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function getParentNode(i){if(getNodeName(i)==="html")return i;const e=i.assignedSlot||i.parentNode||isShadowRoot(i)&&i.host||getDocumentElement(i);return isShadowRoot(e)?e.host:e}function getNearestOverflowAncestor(i){const e=getParentNode(i);return isLastTraversableNode(e)?i.ownerDocument?i.ownerDocument.body:i.body:isHTMLElement(e)&&isOverflowElement(e)?e:getNearestOverflowAncestor(e)}function getOverflowAncestors(i,e,s){var o;e===void 0&&(e=[]),s===void 0&&(s=!0);const c=getNearestOverflowAncestor(i),d=c===((o=i.ownerDocument)==null?void 0:o.body),h=getWindow(c);if(d){const g=getFrameElement(h);return e.concat(h,h.visualViewport||[],isOverflowElement(c)?c:[],g&&s?getOverflowAncestors(g):[])}return e.concat(c,getOverflowAncestors(c,[],s))}function getFrameElement(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function getCssDimensions(i){const e=getComputedStyle$1(i);let s=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const c=isHTMLElement(i),d=c?i.offsetWidth:s,h=c?i.offsetHeight:o,g=round(s)!==d||round(o)!==h;return g&&(s=d,o=h),{width:s,height:o,$:g}}function unwrapElement(i){return isElement(i)?i:i.contextElement}function getScale(i){const e=unwrapElement(i);if(!isHTMLElement(e))return createCoords(1);const s=e.getBoundingClientRect(),{width:o,height:c,$:d}=getCssDimensions(e);let h=(d?round(s.width):s.width)/o,g=(d?round(s.height):s.height)/c;return(!h||!Number.isFinite(h))&&(h=1),(!g||!Number.isFinite(g))&&(g=1),{x:h,y:g}}const noOffsets=createCoords(0);function getVisualOffsets(i){const e=getWindow(i);return!isWebKit()||!e.visualViewport?noOffsets:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function shouldAddVisualOffsets(i,e,s){return e===void 0&&(e=!1),!s||e&&s!==getWindow(i)?!1:e}function getBoundingClientRect(i,e,s,o){e===void 0&&(e=!1),s===void 0&&(s=!1);const c=i.getBoundingClientRect(),d=unwrapElement(i);let h=createCoords(1);e&&(o?isElement(o)&&(h=getScale(o)):h=getScale(i));const g=shouldAddVisualOffsets(d,s,o)?getVisualOffsets(d):createCoords(0);let j=(c.left+g.x)/h.x,_=(c.top+g.y)/h.y,$=c.width/h.x,_e=c.height/h.y;if(d){const st=getWindow(d),rt=o&&isElement(o)?getWindow(o):o;let it=st,nt=getFrameElement(it);for(;nt&&o&&rt!==it;){const lt=getScale(nt),ot=nt.getBoundingClientRect(),at=getComputedStyle$1(nt),ct=ot.left+(nt.clientLeft+parseFloat(at.paddingLeft))*lt.x,ut=ot.top+(nt.clientTop+parseFloat(at.paddingTop))*lt.y;j*=lt.x,_*=lt.y,$*=lt.x,_e*=lt.y,j+=ct,_+=ut,it=getWindow(nt),nt=getFrameElement(it)}}return rectToClientRect({width:$,height:_e,x:j,y:_})}function getWindowScrollBarX(i,e){const s=getNodeScroll(i).scrollLeft;return e?e.left+s:getBoundingClientRect(getDocumentElement(i)).left+s}function getHTMLOffset(i,e){const s=i.getBoundingClientRect(),o=s.left+e.scrollLeft-getWindowScrollBarX(i,s),c=s.top+e.scrollTop;return{x:o,y:c}}function convertOffsetParentRelativeRectToViewportRelativeRect(i){let{elements:e,rect:s,offsetParent:o,strategy:c}=i;const d=c==="fixed",h=getDocumentElement(o),g=e?isTopLayer(e.floating):!1;if(o===h||g&&d)return s;let j={scrollLeft:0,scrollTop:0},_=createCoords(1);const $=createCoords(0),_e=isHTMLElement(o);if((_e||!_e&&!d)&&((getNodeName(o)!=="body"||isOverflowElement(h))&&(j=getNodeScroll(o)),isHTMLElement(o))){const rt=getBoundingClientRect(o);_=getScale(o),$.x=rt.x+o.clientLeft,$.y=rt.y+o.clientTop}const st=h&&!_e&&!d?getHTMLOffset(h,j):createCoords(0);return{width:s.width*_.x,height:s.height*_.y,x:s.x*_.x-j.scrollLeft*_.x+$.x+st.x,y:s.y*_.y-j.scrollTop*_.y+$.y+st.y}}function getClientRects(i){return Array.from(i.getClientRects())}function getDocumentRect(i){const e=getDocumentElement(i),s=getNodeScroll(i),o=i.ownerDocument.body,c=max(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),d=max(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let h=-s.scrollLeft+getWindowScrollBarX(i);const g=-s.scrollTop;return getComputedStyle$1(o).direction==="rtl"&&(h+=max(e.clientWidth,o.clientWidth)-c),{width:c,height:d,x:h,y:g}}const SCROLLBAR_MAX=25;function getViewportRect(i,e){const s=getWindow(i),o=getDocumentElement(i),c=s.visualViewport;let d=o.clientWidth,h=o.clientHeight,g=0,j=0;if(c){d=c.width,h=c.height;const $=isWebKit();(!$||$&&e==="fixed")&&(g=c.offsetLeft,j=c.offsetTop)}const _=getWindowScrollBarX(o);if(_<=0){const $=o.ownerDocument,_e=$.body,st=getComputedStyle(_e),rt=$.compatMode==="CSS1Compat"&&parseFloat(st.marginLeft)+parseFloat(st.marginRight)||0,it=Math.abs(o.clientWidth-_e.clientWidth-rt);it<=SCROLLBAR_MAX&&(d-=it)}else _<=SCROLLBAR_MAX&&(d+=_);return{width:d,height:h,x:g,y:j}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(i,e){const s=getBoundingClientRect(i,!0,e==="fixed"),o=s.top+i.clientTop,c=s.left+i.clientLeft,d=isHTMLElement(i)?getScale(i):createCoords(1),h=i.clientWidth*d.x,g=i.clientHeight*d.y,j=c*d.x,_=o*d.y;return{width:h,height:g,x:j,y:_}}function getClientRectFromClippingAncestor(i,e,s){let o;if(e==="viewport")o=getViewportRect(i,s);else if(e==="document")o=getDocumentRect(getDocumentElement(i));else if(isElement(e))o=getInnerBoundingClientRect(e,s);else{const c=getVisualOffsets(i);o={x:e.x-c.x,y:e.y-c.y,width:e.width,height:e.height}}return rectToClientRect(o)}function hasFixedPositionAncestor(i,e){const s=getParentNode(i);return s===e||!isElement(s)||isLastTraversableNode(s)?!1:getComputedStyle$1(s).position==="fixed"||hasFixedPositionAncestor(s,e)}function getClippingElementAncestors(i,e){const s=e.get(i);if(s)return s;let o=getOverflowAncestors(i,[],!1).filter(g=>isElement(g)&&getNodeName(g)!=="body"),c=null;const d=getComputedStyle$1(i).position==="fixed";let h=d?getParentNode(i):i;for(;isElement(h)&&!isLastTraversableNode(h);){const g=getComputedStyle$1(h),j=isContainingBlock(h);!j&&g.position==="fixed"&&(c=null),(d?!j&&!c:!j&&g.position==="static"&&!!c&&absoluteOrFixed.has(c.position)||isOverflowElement(h)&&!j&&hasFixedPositionAncestor(i,h))?o=o.filter($=>$!==h):c=g,h=getParentNode(h)}return e.set(i,o),o}function getClippingRect(i){let{element:e,boundary:s,rootBoundary:o,strategy:c}=i;const h=[...s==="clippingAncestors"?isTopLayer(e)?[]:getClippingElementAncestors(e,this._c):[].concat(s),o],g=h[0],j=h.reduce((_,$)=>{const _e=getClientRectFromClippingAncestor(e,$,c);return _.top=max(_e.top,_.top),_.right=min(_e.right,_.right),_.bottom=min(_e.bottom,_.bottom),_.left=max(_e.left,_.left),_},getClientRectFromClippingAncestor(e,g,c));return{width:j.right-j.left,height:j.bottom-j.top,x:j.left,y:j.top}}function getDimensions(i){const{width:e,height:s}=getCssDimensions(i);return{width:e,height:s}}function getRectRelativeToOffsetParent(i,e,s){const o=isHTMLElement(e),c=getDocumentElement(e),d=s==="fixed",h=getBoundingClientRect(i,!0,d,e);let g={scrollLeft:0,scrollTop:0};const j=createCoords(0);function _(){j.x=getWindowScrollBarX(c)}if(o||!o&&!d)if((getNodeName(e)!=="body"||isOverflowElement(c))&&(g=getNodeScroll(e)),o){const rt=getBoundingClientRect(e,!0,d,e);j.x=rt.x+e.clientLeft,j.y=rt.y+e.clientTop}else c&&_();d&&!o&&c&&_();const $=c&&!o&&!d?getHTMLOffset(c,g):createCoords(0),_e=h.left+g.scrollLeft-j.x-$.x,st=h.top+g.scrollTop-j.y-$.y;return{x:_e,y:st,width:h.width,height:h.height}}function isStaticPositioned(i){return getComputedStyle$1(i).position==="static"}function getTrueOffsetParent(i,e){if(!isHTMLElement(i)||getComputedStyle$1(i).position==="fixed")return null;if(e)return e(i);let s=i.offsetParent;return getDocumentElement(i)===s&&(s=s.ownerDocument.body),s}function getOffsetParent(i,e){const s=getWindow(i);if(isTopLayer(i))return s;if(!isHTMLElement(i)){let c=getParentNode(i);for(;c&&!isLastTraversableNode(c);){if(isElement(c)&&!isStaticPositioned(c))return c;c=getParentNode(c)}return s}let o=getTrueOffsetParent(i,e);for(;o&&isTableElement(o)&&isStaticPositioned(o);)o=getTrueOffsetParent(o,e);return o&&isLastTraversableNode(o)&&isStaticPositioned(o)&&!isContainingBlock(o)?s:o||getContainingBlock(i)||s}const getElementRects=async function(i){const e=this.getOffsetParent||getOffsetParent,s=this.getDimensions,o=await s(i.floating);return{reference:getRectRelativeToOffsetParent(i.reference,await e(i.floating),i.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function isRTL(i){return getComputedStyle$1(i).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(i,e){return i.x===e.x&&i.y===e.y&&i.width===e.width&&i.height===e.height}function observeMove(i,e){let s=null,o;const c=getDocumentElement(i);function d(){var g;clearTimeout(o),(g=s)==null||g.disconnect(),s=null}function h(g,j){g===void 0&&(g=!1),j===void 0&&(j=1),d();const _=i.getBoundingClientRect(),{left:$,top:_e,width:st,height:rt}=_;if(g||e(),!st||!rt)return;const it=floor(_e),nt=floor(c.clientWidth-($+st)),lt=floor(c.clientHeight-(_e+rt)),ot=floor($),ct={rootMargin:-it+"px "+-nt+"px "+-lt+"px "+-ot+"px",threshold:max(0,min(1,j))||1};let ut=!0;function ht(mt){const xt=mt[0].intersectionRatio;if(xt!==j){if(!ut)return h();xt?h(!1,xt):o=setTimeout(()=>{h(!1,1e-7)},1e3)}xt===1&&!rectsAreEqual(_,i.getBoundingClientRect())&&h(),ut=!1}try{s=new IntersectionObserver(ht,{...ct,root:c.ownerDocument})}catch{s=new IntersectionObserver(ht,ct)}s.observe(i)}return h(!0),d}function autoUpdate(i,e,s,o){o===void 0&&(o={});const{ancestorScroll:c=!0,ancestorResize:d=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:g=typeof IntersectionObserver=="function",animationFrame:j=!1}=o,_=unwrapElement(i),$=c||d?[..._?getOverflowAncestors(_):[],...getOverflowAncestors(e)]:[];$.forEach(ot=>{c&&ot.addEventListener("scroll",s,{passive:!0}),d&&ot.addEventListener("resize",s)});const _e=_&&g?observeMove(_,s):null;let st=-1,rt=null;h&&(rt=new ResizeObserver(ot=>{let[at]=ot;at&&at.target===_&&rt&&(rt.unobserve(e),cancelAnimationFrame(st),st=requestAnimationFrame(()=>{var ct;(ct=rt)==null||ct.observe(e)})),s()}),_&&!j&&rt.observe(_),rt.observe(e));let it,nt=j?getBoundingClientRect(i):null;j&&lt();function lt(){const ot=getBoundingClientRect(i);nt&&!rectsAreEqual(nt,ot)&&s(),nt=ot,it=requestAnimationFrame(lt)}return s(),()=>{var ot;$.forEach(at=>{c&&at.removeEventListener("scroll",s),d&&at.removeEventListener("resize",s)}),_e==null||_e(),(ot=rt)==null||ot.disconnect(),rt=null,j&&cancelAnimationFrame(it)}}const offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(i,e,s)=>{const o=new Map,c={platform,...s},d={...c.platform,_c:o};return computePosition$1(i,e,{...c,platform:d})};var isClient=typeof document<"u",noop$3=function(){},index=isClient?reactExports.useLayoutEffect:noop$3;function deepEqual(i,e){if(i===e)return!0;if(typeof i!=typeof e)return!1;if(typeof i=="function"&&i.toString()===e.toString())return!0;let s,o,c;if(i&&e&&typeof i=="object"){if(Array.isArray(i)){if(s=i.length,s!==e.length)return!1;for(o=s;o--!==0;)if(!deepEqual(i[o],e[o]))return!1;return!0}if(c=Object.keys(i),s=c.length,s!==Object.keys(e).length)return!1;for(o=s;o--!==0;)if(!{}.hasOwnProperty.call(e,c[o]))return!1;for(o=s;o--!==0;){const d=c[o];if(!(d==="_owner"&&i.$$typeof)&&!deepEqual(i[d],e[d]))return!1}return!0}return i!==i&&e!==e}function getDPR(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(i,e){const s=getDPR(i);return Math.round(e*s)/s}function useLatestRef(i){const e=reactExports.useRef(i);return index(()=>{e.current=i}),e}function useFloating(i){i===void 0&&(i={});const{placement:e="bottom",strategy:s="absolute",middleware:o=[],platform:c,elements:{reference:d,floating:h}={},transform:g=!0,whileElementsMounted:j,open:_}=i,[$,_e]=reactExports.useState({x:0,y:0,strategy:s,placement:e,middlewareData:{},isPositioned:!1}),[st,rt]=reactExports.useState(o);deepEqual(st,o)||rt(o);const[it,nt]=reactExports.useState(null),[lt,ot]=reactExports.useState(null),at=reactExports.useCallback(Nt=>{Nt!==mt.current&&(mt.current=Nt,nt(Nt))},[]),ct=reactExports.useCallback(Nt=>{Nt!==xt.current&&(xt.current=Nt,ot(Nt))},[]),ut=d||it,ht=h||lt,mt=reactExports.useRef(null),xt=reactExports.useRef(null),Et=reactExports.useRef($),Tt=j!=null,St=useLatestRef(j),gt=useLatestRef(c),Ct=useLatestRef(_),At=reactExports.useCallback(()=>{if(!mt.current||!xt.current)return;const Nt={placement:e,strategy:s,middleware:st};gt.current&&(Nt.platform=gt.current),computePosition(mt.current,xt.current,Nt).then(Pt=>{const Lt={...Pt,isPositioned:Ct.current!==!1};Rt.current&&!deepEqual(Et.current,Lt)&&(Et.current=Lt,reactDomExports.flushSync(()=>{_e(Lt)}))})},[st,e,s,gt,Ct]);index(()=>{_===!1&&Et.current.isPositioned&&(Et.current.isPositioned=!1,_e(Nt=>({...Nt,isPositioned:!1})))},[_]);const Rt=reactExports.useRef(!1);index(()=>(Rt.current=!0,()=>{Rt.current=!1}),[]),index(()=>{if(ut&&(mt.current=ut),ht&&(xt.current=ht),ut&&ht){if(St.current)return St.current(ut,ht,At);At()}},[ut,ht,At,St,Tt]);const kt=reactExports.useMemo(()=>({reference:mt,floating:xt,setReference:at,setFloating:ct}),[at,ct]),Mt=reactExports.useMemo(()=>({reference:ut,floating:ht}),[ut,ht]),It=reactExports.useMemo(()=>{const Nt={position:s,left:0,top:0};if(!Mt.floating)return Nt;const Pt=roundByDPR(Mt.floating,$.x),Lt=roundByDPR(Mt.floating,$.y);return g?{...Nt,transform:"translate("+Pt+"px, "+Lt+"px)",...getDPR(Mt.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:Pt,top:Lt}},[s,g,Mt.floating,$.x,$.y]);return reactExports.useMemo(()=>({...$,update:At,refs:kt,elements:Mt,floatingStyles:It}),[$,At,kt,Mt,It])}const arrow$1=i=>{function e(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:i,fn(s){const{element:o,padding:c}=typeof i=="function"?i(s):i;return o&&e(o)?o.current!=null?arrow$2({element:o.current,padding:c}).fn(s):{}:o?arrow$2({element:o,padding:c}).fn(s):{}}}},offset=(i,e)=>({...offset$1(i),options:[i,e]}),shift=(i,e)=>({...shift$1(i),options:[i,e]}),limitShift=(i,e)=>({...limitShift$1(i),options:[i,e]}),flip=(i,e)=>({...flip$1(i),options:[i,e]}),size=(i,e)=>({...size$1(i),options:[i,e]}),hide=(i,e)=>({...hide$1(i),options:[i,e]}),arrow=(i,e)=>({...arrow$1(i),options:[i,e]});var NAME$2="Arrow",Arrow$1=reactExports.forwardRef((i,e)=>{const{children:s,width:o=10,height:c=5,...d}=i;return jsxRuntimeExports.jsx(Primitive.svg,{...d,ref:e,width:o,height:c,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:i.asChild?s:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$2;var Root$8=Arrow$1;function useSize(i){const[e,s]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(i){s({width:i.offsetWidth,height:i.offsetHeight});const o=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const d=c[0];let h,g;if("borderBoxSize"in d){const j=d.borderBoxSize,_=Array.isArray(j)?j[0]:j;h=_.inlineSize,g=_.blockSize}else h=i.offsetWidth,g=i.offsetHeight;s({width:h,height:g})});return o.observe(i,{box:"border-box"}),()=>o.unobserve(i)}else s(void 0)},[i]),e}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=i=>{const{__scopePopper:e,children:s}=i,[o,c]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:e,anchor:o,onAnchorChange:c,children:s})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME$1="PopperAnchor",PopperAnchor=reactExports.forwardRef((i,e)=>{const{__scopePopper:s,virtualRef:o,...c}=i,d=usePopperContext(ANCHOR_NAME$1,s),h=reactExports.useRef(null),g=useComposedRefs(e,h),j=reactExports.useRef(null);return reactExports.useEffect(()=>{const _=j.current;j.current=(o==null?void 0:o.current)||h.current,_!==j.current&&d.onAnchorChange(j.current)}),o?null:jsxRuntimeExports.jsx(Primitive.div,{...c,ref:g})});PopperAnchor.displayName=ANCHOR_NAME$1;var CONTENT_NAME$7="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$7),PopperContent=reactExports.forwardRef((i,e)=>{var $t,Zt,Jt,qt,ns,as;const{__scopePopper:s,side:o="bottom",sideOffset:c=0,align:d="center",alignOffset:h=0,arrowPadding:g=0,avoidCollisions:j=!0,collisionBoundary:_=[],collisionPadding:$=0,sticky:_e="partial",hideWhenDetached:st=!1,updatePositionStrategy:rt="optimized",onPlaced:it,...nt}=i,lt=usePopperContext(CONTENT_NAME$7,s),[ot,at]=reactExports.useState(null),ct=useComposedRefs(e,es=>at(es)),[ut,ht]=reactExports.useState(null),mt=useSize(ut),xt=(mt==null?void 0:mt.width)??0,Et=(mt==null?void 0:mt.height)??0,Tt=o+(d!=="center"?"-"+d:""),St=typeof $=="number"?$:{top:0,right:0,bottom:0,left:0,...$},gt=Array.isArray(_)?_:[_],Ct=gt.length>0,At={padding:St,boundary:gt.filter(isNotNull),altBoundary:Ct},{refs:Rt,floatingStyles:kt,placement:Mt,isPositioned:It,middlewareData:Nt}=useFloating({strategy:"fixed",placement:Tt,whileElementsMounted:(...es)=>autoUpdate(...es,{animationFrame:rt==="always"}),elements:{reference:lt.anchor},middleware:[offset({mainAxis:c+Et,alignmentAxis:h}),j&&shift({mainAxis:!0,crossAxis:!1,limiter:_e==="partial"?limitShift():void 0,...At}),j&&flip({...At}),size({...At,apply:({elements:es,rects:us,availableWidth:ys,availableHeight:vs})=>{const{width:nr,height:Pr}=us.reference,eo=es.floating.style;eo.setProperty("--radix-popper-available-width",`${ys}px`),eo.setProperty("--radix-popper-available-height",`${vs}px`),eo.setProperty("--radix-popper-anchor-width",`${nr}px`),eo.setProperty("--radix-popper-anchor-height",`${Pr}px`)}}),ut&&arrow({element:ut,padding:g}),transformOrigin({arrowWidth:xt,arrowHeight:Et}),st&&hide({strategy:"referenceHidden",...At})]}),[Pt,Lt]=getSideAndAlignFromPlacement(Mt),Bt=useCallbackRef$1(it);useLayoutEffect2(()=>{It&&(Bt==null||Bt())},[It,Bt]);const Dt=($t=Nt.arrow)==null?void 0:$t.x,Ht=(Zt=Nt.arrow)==null?void 0:Zt.y,Gt=((Jt=Nt.arrow)==null?void 0:Jt.centerOffset)!==0,[rs,Xt]=reactExports.useState();return useLayoutEffect2(()=>{ot&&Xt(window.getComputedStyle(ot).zIndex)},[ot]),jsxRuntimeExports.jsx("div",{ref:Rt.setFloating,"data-radix-popper-content-wrapper":"",style:{...kt,transform:It?kt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:rs,"--radix-popper-transform-origin":[(qt=Nt.transformOrigin)==null?void 0:qt.x,(ns=Nt.transformOrigin)==null?void 0:ns.y].join(" "),...((as=Nt.hide)==null?void 0:as.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:i.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:s,placedSide:Pt,onArrowChange:ht,arrowX:Dt,arrowY:Ht,shouldHideArrow:Gt,children:jsxRuntimeExports.jsx(Primitive.div,{"data-side":Pt,"data-align":Lt,...nt,ref:ct,style:{...nt.style,animation:It?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$7;var ARROW_NAME$4="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function(e,s){const{__scopePopper:o,...c}=e,d=useContentContext(ARROW_NAME$4,o),h=OPPOSITE_SIDE[d.placedSide];return jsxRuntimeExports.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[h]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$8,{...c,ref:s,style:{...c.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$4;function isNotNull(i){return i!==null}var transformOrigin=i=>({name:"transformOrigin",options:i,fn(e){var lt,ot,at;const{placement:s,rects:o,middlewareData:c}=e,h=((lt=c.arrow)==null?void 0:lt.centerOffset)!==0,g=h?0:i.arrowWidth,j=h?0:i.arrowHeight,[_,$]=getSideAndAlignFromPlacement(s),_e={start:"0%",center:"50%",end:"100%"}[$],st=(((ot=c.arrow)==null?void 0:ot.x)??0)+g/2,rt=(((at=c.arrow)==null?void 0:at.y)??0)+j/2;let it="",nt="";return _==="bottom"?(it=h?_e:`${st}px`,nt=`${-j}px`):_==="top"?(it=h?_e:`${st}px`,nt=`${o.floating.height+j}px`):_==="right"?(it=`${-j}px`,nt=h?_e:`${rt}px`):_==="left"&&(it=`${o.floating.width+j}px`,nt=h?_e:`${rt}px`),{data:{x:it,y:nt}}}});function getSideAndAlignFromPlacement(i){const[e,s="center"]=i.split("-");return[e,s]}var Root2$4=Popper,Anchor=PopperAnchor,Content$2=PopperContent,Arrow=PopperArrow,[createTooltipContext,createTooltipScope]=createContextScope("Tooltip",[createPopperScope]),usePopperScope$2=createPopperScope(),PROVIDER_NAME="TooltipProvider",DEFAULT_DELAY_DURATION=700,TOOLTIP_OPEN="tooltip.open",[TooltipProviderContextProvider,useTooltipProviderContext]=createTooltipContext(PROVIDER_NAME),TooltipProvider$1=i=>{const{__scopeTooltip:e,delayDuration:s=DEFAULT_DELAY_DURATION,skipDelayDuration:o=300,disableHoverableContent:c=!1,children:d}=i,h=reactExports.useRef(!0),g=reactExports.useRef(!1),j=reactExports.useRef(0);return reactExports.useEffect(()=>{const _=j.current;return()=>window.clearTimeout(_)},[]),jsxRuntimeExports.jsx(TooltipProviderContextProvider,{scope:e,isOpenDelayedRef:h,delayDuration:s,onOpen:reactExports.useCallback(()=>{window.clearTimeout(j.current),h.current=!1},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout(j.current),j.current=window.setTimeout(()=>h.current=!0,o)},[o]),isPointerInTransitRef:g,onPointerInTransitChange:reactExports.useCallback(_=>{g.current=_},[]),disableHoverableContent:c,children:d})};TooltipProvider$1.displayName=PROVIDER_NAME;var TOOLTIP_NAME="Tooltip",[TooltipContextProvider,useTooltipContext]=createTooltipContext(TOOLTIP_NAME),TRIGGER_NAME$6="TooltipTrigger",TooltipTrigger=reactExports.forwardRef((i,e)=>{const{__scopeTooltip:s,...o}=i,c=useTooltipContext(TRIGGER_NAME$6,s),d=useTooltipProviderContext(TRIGGER_NAME$6,s),h=usePopperScope$2(s),g=reactExports.useRef(null),j=useComposedRefs(e,g,c.onTriggerChange),_=reactExports.useRef(!1),$=reactExports.useRef(!1),_e=reactExports.useCallback(()=>_.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",_e),[_e]),jsxRuntimeExports.jsx(Anchor,{asChild:!0,...h,children:jsxRuntimeExports.jsx(Primitive.button,{"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute,...o,ref:j,onPointerMove:composeEventHandlers(i.onPointerMove,st=>{st.pointerType!=="touch"&&!$.current&&!d.isPointerInTransitRef.current&&(c.onTriggerEnter(),$.current=!0)}),onPointerLeave:composeEventHandlers(i.onPointerLeave,()=>{c.onTriggerLeave(),$.current=!1}),onPointerDown:composeEventHandlers(i.onPointerDown,()=>{c.open&&c.onClose(),_.current=!0,document.addEventListener("pointerup",_e,{once:!0})}),onFocus:composeEventHandlers(i.onFocus,()=>{_.current||c.onOpen()}),onBlur:composeEventHandlers(i.onBlur,c.onClose),onClick:composeEventHandlers(i.onClick,c.onClose)})})});TooltipTrigger.displayName=TRIGGER_NAME$6;var PORTAL_NAME$5="TooltipPortal",[PortalProvider$2,usePortalContext$2]=createTooltipContext(PORTAL_NAME$5,{forceMount:void 0}),CONTENT_NAME$6="TooltipContent",TooltipContent$1=reactExports.forwardRef((i,e)=>{const s=usePortalContext$2(CONTENT_NAME$6,i.__scopeTooltip),{forceMount:o=s.forceMount,side:c="top",...d}=i,h=useTooltipContext(CONTENT_NAME$6,i.__scopeTooltip);return jsxRuntimeExports.jsx(Presence,{present:o||h.open,children:h.disableHoverableContent?jsxRuntimeExports.jsx(TooltipContentImpl,{side:c,...d,ref:e}):jsxRuntimeExports.jsx(TooltipContentHoverable,{side:c,...d,ref:e})})}),TooltipContentHoverable=reactExports.forwardRef((i,e)=>{const s=useTooltipContext(CONTENT_NAME$6,i.__scopeTooltip),o=useTooltipProviderContext(CONTENT_NAME$6,i.__scopeTooltip),c=reactExports.useRef(null),d=useComposedRefs(e,c),[h,g]=reactExports.useState(null),{trigger:j,onClose:_}=s,$=c.current,{onPointerInTransitChange:_e}=o,st=reactExports.useCallback(()=>{g(null),_e(!1)},[_e]),rt=reactExports.useCallback((it,nt)=>{const lt=it.currentTarget,ot={x:it.clientX,y:it.clientY},at=getExitSideFromRect(ot,lt.getBoundingClientRect()),ct=getPaddedExitPoints(ot,at),ut=getPointsFromRect(nt.getBoundingClientRect()),ht=getHull([...ct,...ut]);g(ht),_e(!0)},[_e]);return reactExports.useEffect(()=>()=>st(),[st]),reactExports.useEffect(()=>{if(j&&$){const it=lt=>rt(lt,$),nt=lt=>rt(lt,j);return j.addEventListener("pointerleave",it),$.addEventListener("pointerleave",nt),()=>{j.removeEventListener("pointerleave",it),$.removeEventListener("pointerleave",nt)}}},[j,$,rt,st]),reactExports.useEffect(()=>{if(h){const it=nt=>{const lt=nt.target,ot={x:nt.clientX,y:nt.clientY},at=(j==null?void 0:j.contains(lt))||($==null?void 0:$.contains(lt)),ct=!isPointInPolygon$1(ot,h);at?st():ct&&(st(),_())};return document.addEventListener("pointermove",it),()=>document.removeEventListener("pointermove",it)}},[j,$,h,_,st]),jsxRuntimeExports.jsx(TooltipContentImpl,{...i,ref:d})}),[VisuallyHiddenContentContextProvider,useVisuallyHiddenContentContext]=createTooltipContext(TOOLTIP_NAME,{isInside:!1}),Slottable$1=createSlottable("TooltipContent"),TooltipContentImpl=reactExports.forwardRef((i,e)=>{const{__scopeTooltip:s,children:o,"aria-label":c,onEscapeKeyDown:d,onPointerDownOutside:h,...g}=i,j=useTooltipContext(CONTENT_NAME$6,s),_=usePopperScope$2(s),{onClose:$}=j;return reactExports.useEffect(()=>(document.addEventListener(TOOLTIP_OPEN,$),()=>document.removeEventListener(TOOLTIP_OPEN,$)),[$]),reactExports.useEffect(()=>{if(j.trigger){const _e=st=>{const rt=st.target;rt!=null&&rt.contains(j.trigger)&&$()};return window.addEventListener("scroll",_e,{capture:!0}),()=>window.removeEventListener("scroll",_e,{capture:!0})}},[j.trigger,$]),jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:_e=>_e.preventDefault(),onDismiss:$,children:jsxRuntimeExports.jsxs(Content$2,{"data-state":j.stateAttribute,..._,...g,ref:e,style:{...g.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[jsxRuntimeExports.jsx(Slottable$1,{children:o}),jsxRuntimeExports.jsx(VisuallyHiddenContentContextProvider,{scope:s,isInside:!0,children:jsxRuntimeExports.jsx(Root$9,{id:j.contentId,role:"tooltip",children:c||o})})]})})});TooltipContent$1.displayName=CONTENT_NAME$6;var ARROW_NAME$3="TooltipArrow",TooltipArrow=reactExports.forwardRef((i,e)=>{const{__scopeTooltip:s,...o}=i,c=usePopperScope$2(s);return useVisuallyHiddenContentContext(ARROW_NAME$3,s).isInside?null:jsxRuntimeExports.jsx(Arrow,{...c,...o,ref:e})});TooltipArrow.displayName=ARROW_NAME$3;function getExitSideFromRect(i,e){const s=Math.abs(e.top-i.y),o=Math.abs(e.bottom-i.y),c=Math.abs(e.right-i.x),d=Math.abs(e.left-i.x);switch(Math.min(s,o,c,d)){case d:return"left";case c:return"right";case s:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function getPaddedExitPoints(i,e,s=5){const o=[];switch(e){case"top":o.push({x:i.x-s,y:i.y+s},{x:i.x+s,y:i.y+s});break;case"bottom":o.push({x:i.x-s,y:i.y-s},{x:i.x+s,y:i.y-s});break;case"left":o.push({x:i.x+s,y:i.y-s},{x:i.x+s,y:i.y+s});break;case"right":o.push({x:i.x-s,y:i.y-s},{x:i.x-s,y:i.y+s});break}return o}function getPointsFromRect(i){const{top:e,right:s,bottom:o,left:c}=i;return[{x:c,y:e},{x:s,y:e},{x:s,y:o},{x:c,y:o}]}function isPointInPolygon$1(i,e){const{x:s,y:o}=i;let c=!1;for(let d=0,h=e.length-1;d<e.length;h=d++){const g=e[d],j=e[h],_=g.x,$=g.y,_e=j.x,st=j.y;$>o!=st>o&&s<(_e-_)*(o-$)/(st-$)+_&&(c=!c)}return c}function getHull(i){const e=i.slice();return e.sort((s,o)=>s.x<o.x?-1:s.x>o.x?1:s.y<o.y?-1:s.y>o.y?1:0),getHullPresorted(e)}function getHullPresorted(i){if(i.length<=1)return i.slice();const e=[];for(let o=0;o<i.length;o++){const c=i[o];for(;e.length>=2;){const d=e[e.length-1],h=e[e.length-2];if((d.x-h.x)*(c.y-h.y)>=(d.y-h.y)*(c.x-h.x))e.pop();else break}e.push(c)}e.pop();const s=[];for(let o=i.length-1;o>=0;o--){const c=i[o];for(;s.length>=2;){const d=s[s.length-1],h=s[s.length-2];if((d.x-h.x)*(c.y-h.y)>=(d.y-h.y)*(c.x-h.x))s.pop();else break}s.push(c)}return s.pop(),e.length===1&&s.length===1&&e[0].x===s[0].x&&e[0].y===s[0].y?e:e.concat(s)}var Provider=TooltipProvider$1,Content2$4=TooltipContent$1;const TooltipProvider=Provider,TooltipContent=reactExports.forwardRef(({className:i,sideOffset:e=4,...s},o)=>jsxRuntimeExports.jsx(Content2$4,{ref:o,sideOffset:e,className:cn("z-50 overflow-hidden rounded-md border border-border/40 bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-lg animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",i),...s}));TooltipContent.displayName=Content2$4.displayName;var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},defaultTimeoutProvider={setTimeout:(i,e)=>setTimeout(i,e),clearTimeout:i=>clearTimeout(i),setInterval:(i,e)=>setInterval(i,e),clearInterval:i=>clearInterval(i)},lo,lE,gE,TimeoutManager=(gE=class{constructor(){ft(this,lo,defaultTimeoutProvider);ft(this,lE,!1)}setTimeoutProvider(i){dt(this,lo,i)}setTimeout(i,e){return et(this,lo).setTimeout(i,e)}clearTimeout(i){et(this,lo).clearTimeout(i)}setInterval(i,e){return et(this,lo).setInterval(i,e)}clearInterval(i){et(this,lo).clearInterval(i)}},lo=new WeakMap,lE=new WeakMap,gE),timeoutManager=new TimeoutManager;function systemSetTimeoutZero(i){setTimeout(i,0)}var isServer=typeof window>"u"||"Deno"in globalThis;function noop$2(){}function functionalUpdate(i,e){return typeof i=="function"?i(e):i}function isValidTimeout(i){return typeof i=="number"&&i>=0&&i!==1/0}function timeUntilStale(i,e){return Math.max(i+(e||0)-Date.now(),0)}function resolveStaleTime(i,e){return typeof i=="function"?i(e):i}function resolveEnabled(i,e){return typeof i=="function"?i(e):i}function matchQuery(i,e){const{type:s="all",exact:o,fetchStatus:c,predicate:d,queryKey:h,stale:g}=i;if(h){if(o){if(e.queryHash!==hashQueryKeyByOptions(h,e.options))return!1}else if(!partialMatchKey(e.queryKey,h))return!1}if(s!=="all"){const j=e.isActive();if(s==="active"&&!j||s==="inactive"&&j)return!1}return!(typeof g=="boolean"&&e.isStale()!==g||c&&c!==e.state.fetchStatus||d&&!d(e))}function matchMutation(i,e){const{exact:s,status:o,predicate:c,mutationKey:d}=i;if(d){if(!e.options.mutationKey)return!1;if(s){if(hashKey(e.options.mutationKey)!==hashKey(d))return!1}else if(!partialMatchKey(e.options.mutationKey,d))return!1}return!(o&&e.state.status!==o||c&&!c(e))}function hashQueryKeyByOptions(i,e){return((e==null?void 0:e.queryKeyHashFn)||hashKey)(i)}function hashKey(i){return JSON.stringify(i,(e,s)=>isPlainObject$1(s)?Object.keys(s).sort().reduce((o,c)=>(o[c]=s[c],o),{}):s)}function partialMatchKey(i,e){return i===e?!0:typeof i!=typeof e?!1:i&&e&&typeof i=="object"&&typeof e=="object"?Object.keys(e).every(s=>partialMatchKey(i[s],e[s])):!1}var hasOwn=Object.prototype.hasOwnProperty;function replaceEqualDeep(i,e){if(i===e)return i;const s=isPlainArray(i)&&isPlainArray(e);if(!s&&!(isPlainObject$1(i)&&isPlainObject$1(e)))return e;const c=(s?i:Object.keys(i)).length,d=s?e:Object.keys(e),h=d.length,g=s?new Array(h):{};let j=0;for(let _=0;_<h;_++){const $=s?_:d[_],_e=i[$],st=e[$];if(_e===st){g[$]=_e,(s?_<c:hasOwn.call(i,$))&&j++;continue}if(_e===null||st===null||typeof _e!="object"||typeof st!="object"){g[$]=st;continue}const rt=replaceEqualDeep(_e,st);g[$]=rt,rt===_e&&j++}return c===h&&j===c?i:g}function isPlainArray(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function isPlainObject$1(i){if(!hasObjectPrototype(i))return!1;const e=i.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!hasObjectPrototype(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function hasObjectPrototype(i){return Object.prototype.toString.call(i)==="[object Object]"}function sleep$1(i){return new Promise(e=>{timeoutManager.setTimeout(e,i)})}function replaceData(i,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(i,e):s.structuralSharing!==!1?replaceEqualDeep(i,e):e}function addToEnd(i,e,s=0){const o=[...i,e];return s&&o.length>s?o.slice(1):o}function addToStart(i,e,s=0){const o=[e,...i];return s&&o.length>s?o.slice(0,-1):o}var skipToken=Symbol();function ensureQueryFn(i,e){return!i.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!i.queryFn||i.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}var Qo,co,Pu,vE,FocusManager=(vE=class extends Subscribable{constructor(){super();ft(this,Qo);ft(this,co);ft(this,Pu);dt(this,Pu,e=>{if(!isServer&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){et(this,co)||this.setEventListener(et(this,Pu))}onUnsubscribe(){var e;this.hasListeners()||((e=et(this,co))==null||e.call(this),dt(this,co,void 0))}setEventListener(e){var s;dt(this,Pu,e),(s=et(this,co))==null||s.call(this),dt(this,co,e(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()}))}setFocused(e){et(this,Qo)!==e&&(dt(this,Qo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof et(this,Qo)=="boolean"?et(this,Qo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Qo=new WeakMap,co=new WeakMap,Pu=new WeakMap,vE),focusManager=new FocusManager;function pendingThenable(){let i,e;const s=new Promise((c,d)=>{i=c,e=d});s.status="pending",s.catch(()=>{});function o(c){Object.assign(s,c),delete s.resolve,delete s.reject}return s.resolve=c=>{o({status:"fulfilled",value:c}),i(c)},s.reject=c=>{o({status:"rejected",reason:c}),e(c)},s}var defaultScheduler=systemSetTimeoutZero;function createNotifyManager(){let i=[],e=0,s=g=>{g()},o=g=>{g()},c=defaultScheduler;const d=g=>{e?i.push(g):c(()=>{s(g)})},h=()=>{const g=i;i=[],g.length&&c(()=>{o(()=>{g.forEach(j=>{s(j)})})})};return{batch:g=>{let j;e++;try{j=g()}finally{e--,e||h()}return j},batchCalls:g=>(...j)=>{d(()=>{g(...j)})},schedule:d,setNotifyFunction:g=>{s=g},setBatchNotifyFunction:g=>{o=g},setScheduler:g=>{c=g}}}var notifyManager=createNotifyManager(),ku,uo,Iu,EE,OnlineManager=(EE=class extends Subscribable{constructor(){super();ft(this,ku,!0);ft(this,uo);ft(this,Iu);dt(this,Iu,e=>{if(!isServer&&window.addEventListener){const s=()=>e(!0),o=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",o,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",o)}}})}onSubscribe(){et(this,uo)||this.setEventListener(et(this,Iu))}onUnsubscribe(){var e;this.hasListeners()||((e=et(this,uo))==null||e.call(this),dt(this,uo,void 0))}setEventListener(e){var s;dt(this,Iu,e),(s=et(this,uo))==null||s.call(this),dt(this,uo,e(this.setOnline.bind(this)))}setOnline(e){et(this,ku)!==e&&(dt(this,ku,e),this.listeners.forEach(o=>{o(e)}))}isOnline(){return et(this,ku)}},ku=new WeakMap,uo=new WeakMap,Iu=new WeakMap,EE),onlineManager=new OnlineManager;function defaultRetryDelay(i){return Math.min(1e3*2**i,3e4)}function canFetch(i){return(i??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(i){super("CancelledError"),this.revert=i==null?void 0:i.revert,this.silent=i==null?void 0:i.silent}};function createRetryer(i){let e=!1,s=0,o;const c=pendingThenable(),d=()=>c.status!=="pending",h=nt=>{var lt;if(!d()){const ot=new CancelledError(nt);st(ot),(lt=i.onCancel)==null||lt.call(i,ot)}},g=()=>{e=!0},j=()=>{e=!1},_=()=>focusManager.isFocused()&&(i.networkMode==="always"||onlineManager.isOnline())&&i.canRun(),$=()=>canFetch(i.networkMode)&&i.canRun(),_e=nt=>{d()||(o==null||o(),c.resolve(nt))},st=nt=>{d()||(o==null||o(),c.reject(nt))},rt=()=>new Promise(nt=>{var lt;o=ot=>{(d()||_())&&nt(ot)},(lt=i.onPause)==null||lt.call(i)}).then(()=>{var nt;o=void 0,d()||(nt=i.onContinue)==null||nt.call(i)}),it=()=>{if(d())return;let nt;const lt=s===0?i.initialPromise:void 0;try{nt=lt??i.fn()}catch(ot){nt=Promise.reject(ot)}Promise.resolve(nt).then(_e).catch(ot=>{var mt;if(d())return;const at=i.retry??(isServer?0:3),ct=i.retryDelay??defaultRetryDelay,ut=typeof ct=="function"?ct(s,ot):ct,ht=at===!0||typeof at=="number"&&s<at||typeof at=="function"&&at(s,ot);if(e||!ht){st(ot);return}s++,(mt=i.onFail)==null||mt.call(i,s,ot),sleep$1(ut).then(()=>_()?void 0:rt()).then(()=>{e?st(ot):it()})})};return{promise:c,status:()=>c.status,cancel:h,continue:()=>(o==null||o(),c),cancelRetry:g,continueRetry:j,canStart:$,start:()=>($()?it():rt().then(it),c)}}var Jo,yE,Removable=(yE=class{constructor(){ft(this,Jo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&dt(this,Jo,timeoutManager.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(isServer?1/0:5*60*1e3))}clearGcTimeout(){et(this,Jo)&&(timeoutManager.clearTimeout(et(this,Jo)),dt(this,Jo,void 0))}},Jo=new WeakMap,yE),Zo,Mu,br,ga,Os,Yp,ba,$r,wn,jE,Query=(jE=class extends Removable{constructor(e){super();ft(this,$r);ft(this,Zo);ft(this,Mu);ft(this,br);ft(this,ga);ft(this,Os);ft(this,Yp);ft(this,ba);dt(this,ba,!1),dt(this,Yp,e.defaultOptions),this.setOptions(e.options),this.observers=[],dt(this,ga,e.client),dt(this,br,et(this,ga).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,dt(this,Zo,getDefaultState$1(this.options)),this.state=e.state??et(this,Zo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=et(this,Os))==null?void 0:e.promise}setOptions(e){if(this.options={...et(this,Yp),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=getDefaultState$1(this.options);s.data!==void 0&&(this.setData(s.data,{updatedAt:s.dataUpdatedAt,manual:!0}),dt(this,Zo,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&et(this,br).remove(this)}setData(e,s){const o=replaceData(this.state.data,e,this.options);return pt(this,$r,wn).call(this,{data:o,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),o}setState(e,s){pt(this,$r,wn).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var o,c;const s=(o=et(this,Os))==null?void 0:o.promise;return(c=et(this,Os))==null||c.cancel(e),s?s.then(noop$2).catch(noop$2):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(et(this,Zo))}isActive(){return this.observers.some(e=>resolveEnabled(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>resolveStaleTime(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!timeUntilStale(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(o=>o.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=et(this,Os))==null||s.continue()}onOnline(){var s;const e=this.observers.find(o=>o.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=et(this,Os))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),et(this,br).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(et(this,Os)&&(et(this,ba)?et(this,Os).cancel({revert:!0}):et(this,Os).cancelRetry()),this.scheduleGc()),et(this,br).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pt(this,$r,wn).call(this,{type:"invalidate"})}async fetch(e,s){var j,_,$,_e,st,rt,it,nt,lt,ot,at,ct;if(this.state.fetchStatus!=="idle"&&((j=et(this,Os))==null?void 0:j.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(et(this,Os))return et(this,Os).continueRetry(),et(this,Os).promise}if(e&&this.setOptions(e),!this.options.queryFn){const ut=this.observers.find(ht=>ht.options.queryFn);ut&&this.setOptions(ut.options)}const o=new AbortController,c=ut=>{Object.defineProperty(ut,"signal",{enumerable:!0,get:()=>(dt(this,ba,!0),o.signal)})},d=()=>{const ut=ensureQueryFn(this.options,s),mt=(()=>{const xt={client:et(this,ga),queryKey:this.queryKey,meta:this.meta};return c(xt),xt})();return dt(this,ba,!1),this.options.persister?this.options.persister(ut,mt,this):ut(mt)},g=(()=>{const ut={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:et(this,ga),state:this.state,fetchFn:d};return c(ut),ut})();(_=this.options.behavior)==null||_.onFetch(g,this),dt(this,Mu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==(($=g.fetchOptions)==null?void 0:$.meta))&&pt(this,$r,wn).call(this,{type:"fetch",meta:(_e=g.fetchOptions)==null?void 0:_e.meta}),dt(this,Os,createRetryer({initialPromise:s==null?void 0:s.initialPromise,fn:g.fetchFn,onCancel:ut=>{ut instanceof CancelledError&&ut.revert&&this.setState({...et(this,Mu),fetchStatus:"idle"}),o.abort()},onFail:(ut,ht)=>{pt(this,$r,wn).call(this,{type:"failed",failureCount:ut,error:ht})},onPause:()=>{pt(this,$r,wn).call(this,{type:"pause"})},onContinue:()=>{pt(this,$r,wn).call(this,{type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay,networkMode:g.options.networkMode,canRun:()=>!0}));try{const ut=await et(this,Os).start();if(ut===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(ut),(rt=(st=et(this,br).config).onSuccess)==null||rt.call(st,ut,this),(nt=(it=et(this,br).config).onSettled)==null||nt.call(it,ut,this.state.error,this),ut}catch(ut){if(ut instanceof CancelledError){if(ut.silent)return et(this,Os).promise;if(ut.revert){if(this.state.data===void 0)throw ut;return this.state.data}}throw pt(this,$r,wn).call(this,{type:"error",error:ut}),(ot=(lt=et(this,br).config).onError)==null||ot.call(lt,ut,this),(ct=(at=et(this,br).config).onSettled)==null||ct.call(at,this.state.data,ut,this),ut}finally{this.scheduleGc()}}},Zo=new WeakMap,Mu=new WeakMap,br=new WeakMap,ga=new WeakMap,Os=new WeakMap,Yp=new WeakMap,ba=new WeakMap,$r=new WeakSet,wn=function(e){const s=o=>{switch(e.type){case"failed":return{...o,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...fetchState(o.data,this.options),fetchMeta:e.meta??null};case"success":const c={...o,data:e.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return dt(this,Mu,e.manual?c:void 0),c;case"error":const d=e.error;return{...o,error:d,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...e.state}}};this.state=s(this.state),notifyManager.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),et(this,br).notify({query:this,type:"updated",action:e})})},jE);function fetchState(i,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(e.networkMode)?"fetching":"paused",...i===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(i){const e=typeof i.initialData=="function"?i.initialData():i.initialData,s=e!==void 0,o=s?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}function infiniteQueryBehavior(i){return{onFetch:(e,s)=>{var $,_e,st,rt,it;const o=e.options,c=(st=(_e=($=e.fetchOptions)==null?void 0:$.meta)==null?void 0:_e.fetchMore)==null?void 0:st.direction,d=((rt=e.state.data)==null?void 0:rt.pages)||[],h=((it=e.state.data)==null?void 0:it.pageParams)||[];let g={pages:[],pageParams:[]},j=0;const _=async()=>{let nt=!1;const lt=ct=>{Object.defineProperty(ct,"signal",{enumerable:!0,get:()=>(e.signal.aborted?nt=!0:e.signal.addEventListener("abort",()=>{nt=!0}),e.signal)})},ot=ensureQueryFn(e.options,e.fetchOptions),at=async(ct,ut,ht)=>{if(nt)return Promise.reject();if(ut==null&&ct.pages.length)return Promise.resolve(ct);const xt=(()=>{const gt={client:e.client,queryKey:e.queryKey,pageParam:ut,direction:ht?"backward":"forward",meta:e.options.meta};return lt(gt),gt})(),Et=await ot(xt),{maxPages:Tt}=e.options,St=ht?addToStart:addToEnd;return{pages:St(ct.pages,Et,Tt),pageParams:St(ct.pageParams,ut,Tt)}};if(c&&d.length){const ct=c==="backward",ut=ct?getPreviousPageParam:getNextPageParam,ht={pages:d,pageParams:h},mt=ut(o,ht);g=await at(ht,mt,ct)}else{const ct=i??d.length;do{const ut=j===0?h[0]??o.initialPageParam:getNextPageParam(o,g);if(j>0&&ut==null)break;g=await at(g,ut),j++}while(j<ct)}return g};e.options.persister?e.fetchFn=()=>{var nt,lt;return(lt=(nt=e.options).persister)==null?void 0:lt.call(nt,_,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=_}}}function getNextPageParam(i,{pages:e,pageParams:s}){const o=e.length-1;return e.length>0?i.getNextPageParam(e[o],e,s[o],s):void 0}function getPreviousPageParam(i,{pages:e,pageParams:s}){var o;return e.length>0?(o=i.getPreviousPageParam)==null?void 0:o.call(i,e[0],e,s[0],s):void 0}var Zr,tr,_a,en,io,bE,Mutation=(bE=class extends Removable{constructor(e){super();ft(this,en);ft(this,Zr);ft(this,tr);ft(this,_a);this.mutationId=e.mutationId,dt(this,tr,e.mutationCache),dt(this,Zr,[]),this.state=e.state||getDefaultState(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){et(this,Zr).includes(e)||(et(this,Zr).push(e),this.clearGcTimeout(),et(this,tr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){dt(this,Zr,et(this,Zr).filter(s=>s!==e)),this.scheduleGc(),et(this,tr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){et(this,Zr).length||(this.state.status==="pending"?this.scheduleGc():et(this,tr).remove(this))}continue(){var e;return((e=et(this,_a))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var d,h,g,j,_,$,_e,st,rt,it,nt,lt,ot,at,ct,ut,ht,mt,xt,Et;const s=()=>{pt(this,en,io).call(this,{type:"continue"})};dt(this,_a,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(Tt,St)=>{pt(this,en,io).call(this,{type:"failed",failureCount:Tt,error:St})},onPause:()=>{pt(this,en,io).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>et(this,tr).canRun(this)}));const o=this.state.status==="pending",c=!et(this,_a).canStart();try{if(o)s();else{pt(this,en,io).call(this,{type:"pending",variables:e,isPaused:c}),await((h=(d=et(this,tr).config).onMutate)==null?void 0:h.call(d,e,this));const St=await((j=(g=this.options).onMutate)==null?void 0:j.call(g,e));St!==this.state.context&&pt(this,en,io).call(this,{type:"pending",context:St,variables:e,isPaused:c})}const Tt=await et(this,_a).start();return await(($=(_=et(this,tr).config).onSuccess)==null?void 0:$.call(_,Tt,e,this.state.context,this)),await((st=(_e=this.options).onSuccess)==null?void 0:st.call(_e,Tt,e,this.state.context)),await((it=(rt=et(this,tr).config).onSettled)==null?void 0:it.call(rt,Tt,null,this.state.variables,this.state.context,this)),await((lt=(nt=this.options).onSettled)==null?void 0:lt.call(nt,Tt,null,e,this.state.context)),pt(this,en,io).call(this,{type:"success",data:Tt}),Tt}catch(Tt){try{throw await((at=(ot=et(this,tr).config).onError)==null?void 0:at.call(ot,Tt,e,this.state.context,this)),await((ut=(ct=this.options).onError)==null?void 0:ut.call(ct,Tt,e,this.state.context)),await((mt=(ht=et(this,tr).config).onSettled)==null?void 0:mt.call(ht,void 0,Tt,this.state.variables,this.state.context,this)),await((Et=(xt=this.options).onSettled)==null?void 0:Et.call(xt,void 0,Tt,e,this.state.context)),Tt}finally{pt(this,en,io).call(this,{type:"error",error:Tt})}}finally{et(this,tr).runNext(this)}}},Zr=new WeakMap,tr=new WeakMap,_a=new WeakMap,en=new WeakSet,io=function(e){const s=o=>{switch(e.type){case"failed":return{...o,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...o,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:e.error,failureCount:o.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),notifyManager.batch(()=>{et(this,Zr).forEach(o=>{o.onMutationUpdate(e)}),et(this,tr).notify({mutation:this,type:"updated",action:e})})},bE);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Sn,Or,Qp,wE,MutationCache=(wE=class extends Subscribable{constructor(e={}){super();ft(this,Sn);ft(this,Or);ft(this,Qp);this.config=e,dt(this,Sn,new Set),dt(this,Or,new Map),dt(this,Qp,0)}build(e,s,o){const c=new Mutation({mutationCache:this,mutationId:++$s(this,Qp)._,options:e.defaultMutationOptions(s),state:o});return this.add(c),c}add(e){et(this,Sn).add(e);const s=scopeFor(e);if(typeof s=="string"){const o=et(this,Or).get(s);o?o.push(e):et(this,Or).set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(et(this,Sn).delete(e)){const s=scopeFor(e);if(typeof s=="string"){const o=et(this,Or).get(s);if(o)if(o.length>1){const c=o.indexOf(e);c!==-1&&o.splice(c,1)}else o[0]===e&&et(this,Or).delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=scopeFor(e);if(typeof s=="string"){const o=et(this,Or).get(s),c=o==null?void 0:o.find(d=>d.state.status==="pending");return!c||c===e}else return!0}runNext(e){var o;const s=scopeFor(e);if(typeof s=="string"){const c=(o=et(this,Or).get(s))==null?void 0:o.find(d=>d!==e&&d.state.isPaused);return(c==null?void 0:c.continue())??Promise.resolve()}else return Promise.resolve()}clear(){notifyManager.batch(()=>{et(this,Sn).forEach(e=>{this.notify({type:"removed",mutation:e})}),et(this,Sn).clear(),et(this,Or).clear()})}getAll(){return Array.from(et(this,Sn))}find(e){const s={exact:!0,...e};return this.getAll().find(o=>matchMutation(s,o))}findAll(e={}){return this.getAll().filter(s=>matchMutation(e,s))}notify(e){notifyManager.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return notifyManager.batch(()=>Promise.all(e.map(s=>s.continue().catch(noop$2))))}},Sn=new WeakMap,Or=new WeakMap,Qp=new WeakMap,wE);function scopeFor(i){var e;return(e=i.options.scope)==null?void 0:e.id}var tn,RE,QueryCache=(RE=class extends Subscribable{constructor(e={}){super();ft(this,tn);this.config=e,dt(this,tn,new Map)}build(e,s,o){const c=s.queryKey,d=s.queryHash??hashQueryKeyByOptions(c,s);let h=this.get(d);return h||(h=new Query({client:e,queryKey:c,queryHash:d,options:e.defaultQueryOptions(s),state:o,defaultOptions:e.getQueryDefaults(c)}),this.add(h)),h}add(e){et(this,tn).has(e.queryHash)||(et(this,tn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=et(this,tn).get(e.queryHash);s&&(e.destroy(),s===e&&et(this,tn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return et(this,tn).get(e)}getAll(){return[...et(this,tn).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(o=>matchQuery(s,o))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(o=>matchQuery(e,o)):s}notify(e){notifyManager.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},tn=new WeakMap,RE),Ss,ho,po,Lu,$u,mo,Ou,Du,_E,QueryClient=(_E=class{constructor(i={}){ft(this,Ss);ft(this,ho);ft(this,po);ft(this,Lu);ft(this,$u);ft(this,mo);ft(this,Ou);ft(this,Du);dt(this,Ss,i.queryCache||new QueryCache),dt(this,ho,i.mutationCache||new MutationCache),dt(this,po,i.defaultOptions||{}),dt(this,Lu,new Map),dt(this,$u,new Map),dt(this,mo,0)}mount(){$s(this,mo)._++,et(this,mo)===1&&(dt(this,Ou,focusManager.subscribe(async i=>{i&&(await this.resumePausedMutations(),et(this,Ss).onFocus())})),dt(this,Du,onlineManager.subscribe(async i=>{i&&(await this.resumePausedMutations(),et(this,Ss).onOnline())})))}unmount(){var i,e;$s(this,mo)._--,et(this,mo)===0&&((i=et(this,Ou))==null||i.call(this),dt(this,Ou,void 0),(e=et(this,Du))==null||e.call(this),dt(this,Du,void 0))}isFetching(i){return et(this,Ss).findAll({...i,fetchStatus:"fetching"}).length}isMutating(i){return et(this,ho).findAll({...i,status:"pending"}).length}getQueryData(i){var s;const e=this.defaultQueryOptions({queryKey:i});return(s=et(this,Ss).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(i){const e=this.defaultQueryOptions(i),s=et(this,Ss).build(this,e),o=s.state.data;return o===void 0?this.fetchQuery(i):(i.revalidateIfStale&&s.isStaleByTime(resolveStaleTime(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(o))}getQueriesData(i){return et(this,Ss).findAll(i).map(({queryKey:e,state:s})=>{const o=s.data;return[e,o]})}setQueryData(i,e,s){const o=this.defaultQueryOptions({queryKey:i}),c=et(this,Ss).get(o.queryHash),d=c==null?void 0:c.state.data,h=functionalUpdate(e,d);if(h!==void 0)return et(this,Ss).build(this,o).setData(h,{...s,manual:!0})}setQueriesData(i,e,s){return notifyManager.batch(()=>et(this,Ss).findAll(i).map(({queryKey:o})=>[o,this.setQueryData(o,e,s)]))}getQueryState(i){var s;const e=this.defaultQueryOptions({queryKey:i});return(s=et(this,Ss).get(e.queryHash))==null?void 0:s.state}removeQueries(i){const e=et(this,Ss);notifyManager.batch(()=>{e.findAll(i).forEach(s=>{e.remove(s)})})}resetQueries(i,e){const s=et(this,Ss);return notifyManager.batch(()=>(s.findAll(i).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...i},e)))}cancelQueries(i,e={}){const s={revert:!0,...e},o=notifyManager.batch(()=>et(this,Ss).findAll(i).map(c=>c.cancel(s)));return Promise.all(o).then(noop$2).catch(noop$2)}invalidateQueries(i,e={}){return notifyManager.batch(()=>(et(this,Ss).findAll(i).forEach(s=>{s.invalidate()}),(i==null?void 0:i.refetchType)==="none"?Promise.resolve():this.refetchQueries({...i,type:(i==null?void 0:i.refetchType)??(i==null?void 0:i.type)??"active"},e)))}refetchQueries(i,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},o=notifyManager.batch(()=>et(this,Ss).findAll(i).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let d=c.fetch(void 0,s);return s.throwOnError||(d=d.catch(noop$2)),c.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(o).then(noop$2)}fetchQuery(i){const e=this.defaultQueryOptions(i);e.retry===void 0&&(e.retry=!1);const s=et(this,Ss).build(this,e);return s.isStaleByTime(resolveStaleTime(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(noop$2).catch(noop$2)}fetchInfiniteQuery(i){return i.behavior=infiniteQueryBehavior(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(noop$2).catch(noop$2)}ensureInfiniteQueryData(i){return i.behavior=infiniteQueryBehavior(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return onlineManager.isOnline()?et(this,ho).resumePausedMutations():Promise.resolve()}getQueryCache(){return et(this,Ss)}getMutationCache(){return et(this,ho)}getDefaultOptions(){return et(this,po)}setDefaultOptions(i){dt(this,po,i)}setQueryDefaults(i,e){et(this,Lu).set(hashKey(i),{queryKey:i,defaultOptions:e})}getQueryDefaults(i){const e=[...et(this,Lu).values()],s={};return e.forEach(o=>{partialMatchKey(i,o.queryKey)&&Object.assign(s,o.defaultOptions)}),s}setMutationDefaults(i,e){et(this,$u).set(hashKey(i),{mutationKey:i,defaultOptions:e})}getMutationDefaults(i){const e=[...et(this,$u).values()],s={};return e.forEach(o=>{partialMatchKey(i,o.mutationKey)&&Object.assign(s,o.defaultOptions)}),s}defaultQueryOptions(i){if(i._defaulted)return i;const e={...et(this,po).queries,...this.getQueryDefaults(i.queryKey),...i,_defaulted:!0};return e.queryHash||(e.queryHash=hashQueryKeyByOptions(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===skipToken&&(e.enabled=!1),e}defaultMutationOptions(i){return i!=null&&i._defaulted?i:{...et(this,po).mutations,...(i==null?void 0:i.mutationKey)&&this.getMutationDefaults(i.mutationKey),...i,_defaulted:!0}}clear(){et(this,Ss).clear(),et(this,ho).clear()}},Ss=new WeakMap,ho=new WeakMap,po=new WeakMap,Lu=new WeakMap,$u=new WeakMap,mo=new WeakMap,Ou=new WeakMap,Du=new WeakMap,_E),QueryClientContext=reactExports.createContext(void 0),QueryClientProvider=({client:i,children:e})=>(reactExports.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:i,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},_extends$2.apply(this,arguments)}var Action$1;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Action$1||(Action$1={}));const PopStateEventType="popstate";function createBrowserHistory(i){i===void 0&&(i={});function e(o,c){let{pathname:d,search:h,hash:g}=o.location;return createLocation("",{pathname:d,search:h,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(o,c){return typeof c=="string"?c:createPath(c)}return getUrlBasedHistory(e,s,null,i)}function invariant$1(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function warning$1(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(i,e){return{usr:i.state,key:i.key,idx:e}}function createLocation(i,e,s,o){return s===void 0&&(s=null),_extends$2({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:s,key:e&&e.key||o||createKey()})}function createPath(i){let{pathname:e="/",search:s="",hash:o=""}=i;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function parsePath(i){let e={};if(i){let s=i.indexOf("#");s>=0&&(e.hash=i.substr(s),i=i.substr(0,s));let o=i.indexOf("?");o>=0&&(e.search=i.substr(o),i=i.substr(0,o)),i&&(e.pathname=i)}return e}function getUrlBasedHistory(i,e,s,o){o===void 0&&(o={});let{window:c=document.defaultView,v5Compat:d=!1}=o,h=c.history,g=Action$1.Pop,j=null,_=$();_==null&&(_=0,h.replaceState(_extends$2({},h.state,{idx:_}),""));function $(){return(h.state||{idx:null}).idx}function _e(){g=Action$1.Pop;let lt=$(),ot=lt==null?null:lt-_;_=lt,j&&j({action:g,location:nt.location,delta:ot})}function st(lt,ot){g=Action$1.Push;let at=createLocation(nt.location,lt,ot);_=$()+1;let ct=getHistoryState(at,_),ut=nt.createHref(at);try{h.pushState(ct,"",ut)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;c.location.assign(ut)}d&&j&&j({action:g,location:nt.location,delta:1})}function rt(lt,ot){g=Action$1.Replace;let at=createLocation(nt.location,lt,ot);_=$();let ct=getHistoryState(at,_),ut=nt.createHref(at);h.replaceState(ct,"",ut),d&&j&&j({action:g,location:nt.location,delta:0})}function it(lt){let ot=c.location.origin!=="null"?c.location.origin:c.location.href,at=typeof lt=="string"?lt:createPath(lt);return at=at.replace(/ $/,"%20"),invariant$1(ot,"No window.location.(origin|href) available to create URL for href: "+at),new URL(at,ot)}let nt={get action(){return g},get location(){return i(c,h)},listen(lt){if(j)throw new Error("A history only accepts one active listener");return c.addEventListener(PopStateEventType,_e),j=lt,()=>{c.removeEventListener(PopStateEventType,_e),j=null}},createHref(lt){return e(c,lt)},createURL:it,encodeLocation(lt){let ot=it(lt);return{pathname:ot.pathname,search:ot.search,hash:ot.hash}},push:st,replace:rt,go(lt){return h.go(lt)}};return nt}var ResultType;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(ResultType||(ResultType={}));function matchRoutes(i,e,s){return s===void 0&&(s="/"),matchRoutesImpl(i,e,s)}function matchRoutesImpl(i,e,s,o){let c=typeof e=="string"?parsePath(e):e,d=stripBasename(c.pathname||"/",s);if(d==null)return null;let h=flattenRoutes(i);rankRouteBranches(h);let g=null;for(let j=0;g==null&&j<h.length;++j){let _=decodePath(d);g=matchRouteBranch(h[j],_)}return g}function flattenRoutes(i,e,s,o){e===void 0&&(e=[]),s===void 0&&(s=[]),o===void 0&&(o="");let c=(d,h,g)=>{let j={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};j.relativePath.startsWith("/")&&(invariant$1(j.relativePath.startsWith(o),'Absolute route path "'+j.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),j.relativePath=j.relativePath.slice(o.length));let _=joinPaths([o,j.relativePath]),$=s.concat(j);d.children&&d.children.length>0&&(invariant$1(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),flattenRoutes(d.children,e,$,_)),!(d.path==null&&!d.index)&&e.push({path:_,score:computeScore(_,d.index),routesMeta:$})};return i.forEach((d,h)=>{var g;if(d.path===""||!((g=d.path)!=null&&g.includes("?")))c(d,h);else for(let j of explodeOptionalSegments(d.path))c(d,h,j)}),e}function explodeOptionalSegments(i){let e=i.split("/");if(e.length===0)return[];let[s,...o]=e,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(o.length===0)return c?[d,""]:[d];let h=explodeOptionalSegments(o.join("/")),g=[];return g.push(...h.map(j=>j===""?d:[d,j].join("/"))),c&&g.push(...h),g.map(j=>i.startsWith("/")&&j===""?"/":j)}function rankRouteBranches(i){i.sort((e,s)=>e.score!==s.score?s.score-e.score:compareIndexes(e.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=i=>i==="*";function computeScore(i,e){let s=i.split("/"),o=s.length;return s.some(isSplat)&&(o+=splatPenalty),e&&(o+=indexRouteValue),s.filter(c=>!isSplat(c)).reduce((c,d)=>c+(paramRe.test(d)?dynamicSegmentValue:d===""?emptySegmentValue:staticSegmentValue),o)}function compareIndexes(i,e){return i.length===e.length&&i.slice(0,-1).every((o,c)=>o===e[c])?i[i.length-1]-e[e.length-1]:0}function matchRouteBranch(i,e,s){let{routesMeta:o}=i,c={},d="/",h=[];for(let g=0;g<o.length;++g){let j=o[g],_=g===o.length-1,$=d==="/"?e:e.slice(d.length)||"/",_e=matchPath({path:j.relativePath,caseSensitive:j.caseSensitive,end:_},$),st=j.route;if(!_e)return null;Object.assign(c,_e.params),h.push({params:c,pathname:joinPaths([d,_e.pathname]),pathnameBase:normalizePathname(joinPaths([d,_e.pathnameBase])),route:st}),_e.pathnameBase!=="/"&&(d=joinPaths([d,_e.pathnameBase]))}return h}function matchPath(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[s,o]=compilePath(i.path,i.caseSensitive,i.end),c=e.match(s);if(!c)return null;let d=c[0],h=d.replace(/(.)\/+$/,"$1"),g=c.slice(1);return{params:o.reduce((_,$,_e)=>{let{paramName:st,isOptional:rt}=$;if(st==="*"){let nt=g[_e]||"";h=d.slice(0,d.length-nt.length).replace(/(.)\/+$/,"$1")}const it=g[_e];return rt&&!it?_[st]=void 0:_[st]=(it||"").replace(/%2F/g,"/"),_},{}),pathname:d,pathnameBase:h,pattern:i}}function compilePath(i,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),warning$1(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let o=[],c="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,j)=>(o.push({paramName:g,isOptional:j!=null}),j?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),c+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":i!==""&&i!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,e?void 0:"i"),o]}function decodePath(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning$1(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function stripBasename(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,o=i.charAt(s);return o&&o!=="/"?null:i.slice(s)||"/"}function resolvePath(i,e){e===void 0&&(e="/");let{pathname:s,search:o="",hash:c=""}=typeof i=="string"?parsePath(i):i;return{pathname:s?s.startsWith("/")?s:resolvePathname(s,e):e,search:normalizeSearch(o),hash:normalizeHash(c)}}function resolvePathname(i,e){let s=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function getInvalidPathError(i,e,s,o){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(i){return i.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(i,e){let s=getPathContributingMatches(i);return e?s.map((o,c)=>c===s.length-1?o.pathname:o.pathnameBase):s.map(o=>o.pathnameBase)}function resolveTo(i,e,s,o){o===void 0&&(o=!1);let c;typeof i=="string"?c=parsePath(i):(c=_extends$2({},i),invariant$1(!c.pathname||!c.pathname.includes("?"),getInvalidPathError("?","pathname","search",c)),invariant$1(!c.pathname||!c.pathname.includes("#"),getInvalidPathError("#","pathname","hash",c)),invariant$1(!c.search||!c.search.includes("#"),getInvalidPathError("#","search","hash",c)));let d=i===""||c.pathname==="",h=d?"/":c.pathname,g;if(h==null)g=s;else{let _e=e.length-1;if(!o&&h.startsWith("..")){let st=h.split("/");for(;st[0]==="..";)st.shift(),_e-=1;c.pathname=st.join("/")}g=_e>=0?e[_e]:"/"}let j=resolvePath(c,g),_=h&&h!=="/"&&h.endsWith("/"),$=(d||h===".")&&s.endsWith("/");return!j.pathname.endsWith("/")&&(_||$)&&(j.pathname+="/"),j}const joinPaths=i=>i.join("/").replace(/\/\/+/g,"/"),normalizePathname=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,normalizeHash=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function isRouteErrorResponse(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(i,e){let{relative:s}=e===void 0?{}:e;useInRouterContext()||invariant$1(!1);let{basename:o,navigator:c}=reactExports.useContext(NavigationContext),{hash:d,pathname:h,search:g}=useResolvedPath(i,{relative:s}),j=h;return o!=="/"&&(j=h==="/"?o:joinPaths([o,h])),c.createHref({pathname:j,search:g,hash:d})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(i){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(i)}function useNavigate(){let{isDataRoute:i}=reactExports.useContext(RouteContext);return i?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let i=reactExports.useContext(DataRouterContext),{basename:e,future:s,navigator:o}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),{pathname:d}=useLocation(),h=JSON.stringify(getResolveToMatches(c,s.v7_relativeSplatPath)),g=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{g.current=!0}),reactExports.useCallback(function(_,$){if($===void 0&&($={}),!g.current)return;if(typeof _=="number"){o.go(_);return}let _e=resolveTo(_,JSON.parse(h),d,$.relative==="path");i==null&&e!=="/"&&(_e.pathname=_e.pathname==="/"?e:joinPaths([e,_e.pathname])),($.replace?o.replace:o.push)(_e,$.state,$)},[e,o,h,d,i])}function useParams(){let{matches:i}=reactExports.useContext(RouteContext),e=i[i.length-1];return e?e.params:{}}function useResolvedPath(i,e){let{relative:s}=e===void 0?{}:e,{future:o}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),{pathname:d}=useLocation(),h=JSON.stringify(getResolveToMatches(c,o.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(i,JSON.parse(h),d,s==="path"),[i,h,d,s])}function useRoutes(i,e){return useRoutesImpl(i,e)}function useRoutesImpl(i,e,s,o){useInRouterContext()||invariant$1(!1);let{navigator:c}=reactExports.useContext(NavigationContext),{matches:d}=reactExports.useContext(RouteContext),h=d[d.length-1],g=h?h.params:{};h&&h.pathname;let j=h?h.pathnameBase:"/";h&&h.route;let _=useLocation(),$;if(e){var _e;let lt=typeof e=="string"?parsePath(e):e;j==="/"||(_e=lt.pathname)!=null&&_e.startsWith(j)||invariant$1(!1),$=lt}else $=_;let st=$.pathname||"/",rt=st;if(j!=="/"){let lt=j.replace(/^\//,"").split("/");rt="/"+st.replace(/^\//,"").split("/").slice(lt.length).join("/")}let it=matchRoutes(i,{pathname:rt}),nt=_renderMatches(it&&it.map(lt=>Object.assign({},lt,{params:Object.assign({},g,lt.params),pathname:joinPaths([j,c.encodeLocation?c.encodeLocation(lt.pathname).pathname:lt.pathname]),pathnameBase:lt.pathnameBase==="/"?j:joinPaths([j,c.encodeLocation?c.encodeLocation(lt.pathnameBase).pathname:lt.pathnameBase])})),d,s,o);return e&&nt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},$),navigationType:Action$1.Pop}},nt):nt}function DefaultErrorComponent(){let i=useRouteError(),e=isRouteErrorResponse(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),s?reactExports.createElement("pre",{style:c},s):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(i){let{routeContext:e,match:s,children:o}=i,c=reactExports.useContext(DataRouterContext);return c&&c.static&&c.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:e},o)}function _renderMatches(i,e,s,o){var c;if(e===void 0&&(e=[]),s===void 0&&(s=null),o===void 0&&(o=null),i==null){var d;if(!s)return null;if(s.errors)i=s.matches;else if((d=o)!=null&&d.v7_partialHydration&&e.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let h=i,g=(c=s)==null?void 0:c.errors;if(g!=null){let $=h.findIndex(_e=>_e.route.id&&(g==null?void 0:g[_e.route.id])!==void 0);$>=0||invariant$1(!1),h=h.slice(0,Math.min(h.length,$+1))}let j=!1,_=-1;if(s&&o&&o.v7_partialHydration)for(let $=0;$<h.length;$++){let _e=h[$];if((_e.route.HydrateFallback||_e.route.hydrateFallbackElement)&&(_=$),_e.route.id){let{loaderData:st,errors:rt}=s,it=_e.route.loader&&st[_e.route.id]===void 0&&(!rt||rt[_e.route.id]===void 0);if(_e.route.lazy||it){j=!0,_>=0?h=h.slice(0,_+1):h=[h[0]];break}}}return h.reduceRight(($,_e,st)=>{let rt,it=!1,nt=null,lt=null;s&&(rt=g&&_e.route.id?g[_e.route.id]:void 0,nt=_e.route.errorElement||defaultErrorElement,j&&(_<0&&st===0?(warningOnce("route-fallback"),it=!0,lt=null):_===st&&(it=!0,lt=_e.route.hydrateFallbackElement||null)));let ot=e.concat(h.slice(0,st+1)),at=()=>{let ct;return rt?ct=nt:it?ct=lt:_e.route.Component?ct=reactExports.createElement(_e.route.Component,null):_e.route.element?ct=_e.route.element:ct=$,reactExports.createElement(RenderedRoute,{match:_e,routeContext:{outlet:$,matches:ot,isDataRoute:s!=null},children:ct})};return s&&(_e.route.ErrorBoundary||_e.route.errorElement||st===0)?reactExports.createElement(RenderErrorBoundary,{location:s.location,revalidation:s.revalidation,component:nt,error:rt,children:at(),routeContext:{outlet:null,matches:ot,isDataRoute:!0}}):at()},null)}var DataRouterHook$1=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(DataRouterHook$1||{}),DataRouterStateHook$1=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(DataRouterStateHook$1||{});function useDataRouterContext(i){let e=reactExports.useContext(DataRouterContext);return e||invariant$1(!1),e}function useDataRouterState(i){let e=reactExports.useContext(DataRouterStateContext);return e||invariant$1(!1),e}function useRouteContext(i){let e=reactExports.useContext(RouteContext);return e||invariant$1(!1),e}function useCurrentRouteId(i){let e=useRouteContext(),s=e.matches[e.matches.length-1];return s.route.id||invariant$1(!1),s.route.id}function useRouteError(){var i;let e=reactExports.useContext(RouteErrorContext),s=useDataRouterState(),o=useCurrentRouteId();return e!==void 0?e:(i=s.errors)==null?void 0:i[o]}function useNavigateStable(){let{router:i}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),s=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{s.current=!0}),reactExports.useCallback(function(c,d){d===void 0&&(d={}),s.current&&(typeof c=="number"?i.navigate(c):i.navigate(c,_extends$1({fromRouteId:e},d)))},[i,e])}const alreadyWarned$1={};function warningOnce(i,e,s){alreadyWarned$1[i]||(alreadyWarned$1[i]=!0)}function logV6DeprecationWarnings(i,e){i==null||i.v7_startTransition,i==null||i.v7_relativeSplatPath}function Navigate(i){let{to:e,replace:s,state:o,relative:c}=i;useInRouterContext()||invariant$1(!1);let{future:d,static:h}=reactExports.useContext(NavigationContext),{matches:g}=reactExports.useContext(RouteContext),{pathname:j}=useLocation(),_=useNavigate(),$=resolveTo(e,getResolveToMatches(g,d.v7_relativeSplatPath),j,c==="path"),_e=JSON.stringify($);return reactExports.useEffect(()=>_(JSON.parse(_e),{replace:s,state:o,relative:c}),[_,_e,c,s,o]),null}function Route(i){invariant$1(!1)}function Router(i){let{basename:e="/",children:s=null,location:o,navigationType:c=Action$1.Pop,navigator:d,static:h=!1,future:g}=i;useInRouterContext()&&invariant$1(!1);let j=e.replace(/^\/*/,"/"),_=reactExports.useMemo(()=>({basename:j,navigator:d,static:h,future:_extends$1({v7_relativeSplatPath:!1},g)}),[j,g,d,h]);typeof o=="string"&&(o=parsePath(o));let{pathname:$="/",search:_e="",hash:st="",state:rt=null,key:it="default"}=o,nt=reactExports.useMemo(()=>{let lt=stripBasename($,j);return lt==null?null:{location:{pathname:lt,search:_e,hash:st,state:rt,key:it},navigationType:c}},[j,$,_e,st,rt,it,c]);return nt==null?null:reactExports.createElement(NavigationContext.Provider,{value:_},reactExports.createElement(LocationContext.Provider,{children:s,value:nt}))}function Routes(i){let{children:e,location:s}=i;return useRoutes(createRoutesFromChildren(e),s)}new Promise(()=>{});function createRoutesFromChildren(i,e){e===void 0&&(e=[]);let s=[];return reactExports.Children.forEach(i,(o,c)=>{if(!reactExports.isValidElement(o))return;let d=[...e,c];if(o.type===reactExports.Fragment){s.push.apply(s,createRoutesFromChildren(o.props.children,d));return}o.type!==Route&&invariant$1(!1),!o.props.index||!o.props.children||invariant$1(!1);let h={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=createRoutesFromChildren(o.props.children,d)),s.push(h)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(i,e){if(i==null)return{};var s={},o=Object.keys(i),c,d;for(d=0;d<o.length;d++)c=o[d],!(e.indexOf(c)>=0)&&(s[c]=i[c]);return s}function isModifiedEvent(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function shouldProcessLinkClick(i,e){return i.button===0&&(!e||e==="_self")&&!isModifiedEvent(i)}function createSearchParams(i){return i===void 0&&(i=""),new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,s)=>{let o=i[s];return e.concat(Array.isArray(o)?o.map(c=>[s,c]):[[s,o]])},[]))}function getSearchParamsForLocation(i,e){let s=createSearchParams(i);return e&&e.forEach((o,c)=>{s.has(c)||e.getAll(c).forEach(d=>{s.append(c,d)})}),s}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$2[START_TRANSITION];function BrowserRouter(i){let{basename:e,children:s,future:o,window:c}=i,d=reactExports.useRef();d.current==null&&(d.current=createBrowserHistory({window:c,v5Compat:!0}));let h=d.current,[g,j]=reactExports.useState({action:h.action,location:h.location}),{v7_startTransition:_}=o||{},$=reactExports.useCallback(_e=>{_&&startTransitionImpl?startTransitionImpl(()=>j(_e)):j(_e)},[j,_]);return reactExports.useLayoutEffect(()=>h.listen($),[h,$]),reactExports.useEffect(()=>logV6DeprecationWarnings(o),[o]),reactExports.createElement(Router,{basename:e,children:s,location:g.location,navigationType:g.action,navigator:h,future:o})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(e,s){let{onClick:o,relative:c,reloadDocument:d,replace:h,state:g,target:j,to:_,preventScrollReset:$,viewTransition:_e}=e,st=_objectWithoutPropertiesLoose(e,_excluded),{basename:rt}=reactExports.useContext(NavigationContext),it,nt=!1;if(typeof _=="string"&&ABSOLUTE_URL_REGEX.test(_)&&(it=_,isBrowser$1))try{let ct=new URL(window.location.href),ut=_.startsWith("//")?new URL(ct.protocol+_):new URL(_),ht=stripBasename(ut.pathname,rt);ut.origin===ct.origin&&ht!=null?_=ht+ut.search+ut.hash:nt=!0}catch{}let lt=useHref(_,{relative:c}),ot=useLinkClickHandler(_,{replace:h,state:g,target:j,preventScrollReset:$,relative:c,viewTransition:_e});function at(ct){o&&o(ct),ct.defaultPrevented||ot(ct)}return reactExports.createElement("a",_extends({},st,{href:it||lt,onClick:nt||d?o:at,ref:s,target:j}))});var DataRouterHook;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(i,e){let{target:s,replace:o,state:c,preventScrollReset:d,relative:h,viewTransition:g}=e===void 0?{}:e,j=useNavigate(),_=useLocation(),$=useResolvedPath(i,{relative:h});return reactExports.useCallback(_e=>{if(shouldProcessLinkClick(_e,s)){_e.preventDefault();let st=o!==void 0?o:createPath(_)===createPath($);j(i,{replace:st,state:c,preventScrollReset:d,relative:h,viewTransition:g})}},[_,j,$,o,c,s,i,d,h,g])}function useSearchParams(i){let e=reactExports.useRef(createSearchParams(i)),s=reactExports.useRef(!1),o=useLocation(),c=reactExports.useMemo(()=>getSearchParamsForLocation(o.search,s.current?null:e.current),[o.search]),d=useNavigate(),h=reactExports.useCallback((g,j)=>{const _=createSearchParams(typeof g=="function"?g(c):g);s.current=!0,d("?"+_,j)},[d,c]);return[c,h]}const scriptRel="modulepreload",assetsURL=function(i){return"/"+i},seen={},__vitePreload=function(e,s,o){let c=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),g=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));c=Promise.allSettled(s.map(j=>{if(j=assetsURL(j),j in seen)return;seen[j]=!0;const _=j.endsWith(".css"),$=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${j}"]${$}`))return;const _e=document.createElement("link");if(_e.rel=_?"stylesheet":scriptRel,_||(_e.as="script"),_e.crossOrigin="",_e.href=j,g&&_e.setAttribute("nonce",g),document.head.appendChild(_e),_)return new Promise((st,rt)=>{_e.addEventListener("load",st),_e.addEventListener("error",()=>rt(new Error(`Unable to preload CSS for ${j}`)))})}))}function d(h){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=h,window.dispatchEvent(g),!g.defaultPrevented)throw h}return c.then(h=>{for(const g of h||[])g.status==="rejected"&&d(g.reason);return e().catch(d)})},resolveFetch$3=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...s)=>__vitePreload(async()=>{const{default:o}=await Promise.resolve().then(()=>browser);return{default:o}},void 0).then(({default:o})=>o(...s)):e=fetch,(...s)=>e(...s)};class FunctionsError extends Error{constructor(e,s="FunctionsError",o){super(e),this.name=s,this.context=o}}class FunctionsFetchError extends FunctionsError{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class FunctionsRelayError extends FunctionsError{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class FunctionsHttpError extends FunctionsError{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var FunctionRegion;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));var __awaiter$a=function(i,e,s,o){function c(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function g($){try{_(o.next($))}catch(_e){h(_e)}}function j($){try{_(o.throw($))}catch(_e){h(_e)}}function _($){$.done?d($.value):c($.value).then(g,j)}_((o=o.apply(i,e||[])).next())})};class FunctionsClient{constructor(e,{headers:s={},customFetch:o,region:c=FunctionRegion.Any}={}){this.url=e,this.headers=s,this.region=c,this.fetch=resolveFetch$3(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var o;return __awaiter$a(this,void 0,void 0,function*(){try{const{headers:c,method:d,body:h}=s;let g={},{region:j}=s;j||(j=this.region);const _=new URL(`${this.url}/${e}`);j&&j!=="any"&&(g["x-region"]=j,_.searchParams.set("forceFunctionRegion",j));let $;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",$=h):typeof h=="string"?(g["Content-Type"]="text/plain",$=h):typeof FormData<"u"&&h instanceof FormData?$=h:(g["Content-Type"]="application/json",$=JSON.stringify(h)));const _e=yield this.fetch(_.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),c),body:$}).catch(nt=>{throw new FunctionsFetchError(nt)}),st=_e.headers.get("x-relay-error");if(st&&st==="true")throw new FunctionsRelayError(_e);if(!_e.ok)throw new FunctionsHttpError(_e);let rt=((o=_e.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),it;return rt==="application/json"?it=yield _e.json():rt==="application/octet-stream"?it=yield _e.blob():rt==="text/event-stream"?it=_e:rt==="multipart/form-data"?it=yield _e.formData():it=yield _e.text(),{data:it,error:null,response:_e}}catch(c){return{data:null,error:c,response:c instanceof FunctionsHttpError||c instanceof FunctionsRelayError?c.context:void 0}}})}}var cjs$4={},PostgrestClient$2={},PostgrestQueryBuilder$2={},PostgrestFilterBuilder$2={},PostgrestTransformBuilder$2={},PostgrestBuilder$2={},getGlobal=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},globalObject=getGlobal();const fetch$1=globalObject.fetch,nodeFetch=globalObject.fetch.bind(globalObject),Headers$1=globalObject.Headers,Request=globalObject.Request,Response$1=globalObject.Response,browser=Object.freeze(Object.defineProperty({__proto__:null,Headers:Headers$1,Request,Response:Response$1,default:nodeFetch,fetch:fetch$1},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(browser);var PostgrestError$2={};Object.defineProperty(PostgrestError$2,"__esModule",{value:!0});let PostgrestError$1=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};PostgrestError$2.default=PostgrestError$1;var __importDefault$j=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(PostgrestBuilder$2,"__esModule",{value:!0});const node_fetch_1=__importDefault$j(require$$0$1),PostgrestError_1$1=__importDefault$j(PostgrestError$2);let PostgrestBuilder$1=class{constructor(e){var s,o;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(s=e.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=e.signal,this.isMaybeSingle=(o=e.isMaybeSingle)!==null&&o!==void 0?o:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=node_fetch_1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=new Headers(this.headers),this.headers.set(e,s),this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,g,j,_;let $=null,_e=null,st=null,rt=d.status,it=d.statusText;if(d.ok){if(this.method!=="HEAD"){const at=await d.text();at===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?_e=at:_e=JSON.parse(at))}const lt=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),ot=(j=d.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");lt&&ot&&ot.length>1&&(st=parseInt(ot[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_e)&&(_e.length>1?($={code:"PGRST116",details:`Results contain ${_e.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_e=null,st=null,rt=406,it="Not Acceptable"):_e.length===1?_e=_e[0]:_e=null)}else{const lt=await d.text();try{$=JSON.parse(lt),Array.isArray($)&&d.status===404&&(_e=[],$=null,rt=200,it="OK")}catch{d.status===404&&lt===""?(rt=204,it="No Content"):$={message:lt}}if($&&this.isMaybeSingle&&(!((_=$==null?void 0:$.details)===null||_===void 0)&&_.includes("0 rows"))&&($=null,rt=200,it="OK"),$&&this.shouldThrowOnError)throw new PostgrestError_1$1.default($)}return{error:$,data:_e,count:st,status:rt,statusText:it}});return this.shouldThrowOnError||(c=c.catch(d=>{var h,g,j;return{error:{message:`${(h=d==null?void 0:d.name)!==null&&h!==void 0?h:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(g=d==null?void 0:d.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(j=d==null?void 0:d.code)!==null&&j!==void 0?j:""}`},data:null,count:null,status:0,statusText:""}})),c.then(e,s)}returns(){return this}overrideTypes(){return this}};PostgrestBuilder$2.default=PostgrestBuilder$1;var __importDefault$i=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(PostgrestTransformBuilder$2,"__esModule",{value:!0});const PostgrestBuilder_1$1=__importDefault$i(PostgrestBuilder$2);let PostgrestTransformBuilder$1=class extends PostgrestBuilder_1$1.default{select(e){let s=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:s=!0,nullsFirst:o,foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.order`:"order",g=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${g?`${g},`:""}${e}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:o=s}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${e}`),this}range(e,s,{foreignTable:o,referencedTable:c=o}={}){const d=typeof c>"u"?"offset":`${c}.offset`,h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${e}`),this.url.searchParams.set(h,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:s=!1,settings:o=!1,buffers:c=!1,wal:d=!1,format:h="text"}={}){var g;const j=[e?"analyze":null,s?"verbose":null,o?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),_=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${_}"; options=${j};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};PostgrestTransformBuilder$2.default=PostgrestTransformBuilder$1;var __importDefault$h=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(PostgrestFilterBuilder$2,"__esModule",{value:!0});const PostgrestTransformBuilder_1$1=__importDefault$h(PostgrestTransformBuilder$2);let PostgrestFilterBuilder$1=class extends PostgrestTransformBuilder_1$1.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const o=Array.from(new Set(s)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(e,`in.(${o})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:o,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const h=o===void 0?"":`(${o})`;return this.url.searchParams.append(e,`${d}fts${h}.${s}`),this}match(e){return Object.entries(e).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(e,s,o){return this.url.searchParams.append(e,`not.${s}.${o}`),this}or(e,{foreignTable:s,referencedTable:o=s}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${e})`),this}filter(e,s,o){return this.url.searchParams.append(e,`${s}.${o}`),this}};PostgrestFilterBuilder$2.default=PostgrestFilterBuilder$1;var __importDefault$g=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(PostgrestQueryBuilder$2,"__esModule",{value:!0});const PostgrestFilterBuilder_1$2=__importDefault$g(PostgrestFilterBuilder$2);let PostgrestQueryBuilder$1=class{constructor(e,{headers:s={},schema:o,fetch:c}){this.url=e,this.headers=new Headers(s),this.schema=o,this.fetch=c}select(e,{head:s=!1,count:o}={}){const c=s?"HEAD":"GET";let d=!1;const h=(e??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",h),o&&this.headers.append("Prefer",`count=${o}`),new PostgrestFilterBuilder_1$2.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:s,defaultToNull:o=!0}={}){var c;const d="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((g,j)=>g.concat(Object.keys(j)),[]);if(h.length>0){const g=[...new Set(h)].map(j=>`"${j}"`);this.url.searchParams.set("columns",g.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(e,{onConflict:s,ignoreDuplicates:o=!1,count:c,defaultToNull:d=!0}={}){var h;const g="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const j=e.reduce((_,$)=>_.concat(Object.keys($)),[]);if(j.length>0){const _=[...new Set(j)].map($=>`"${$}"`);this.url.searchParams.set("columns",_.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(e,{count:s}={}){var o;const c="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new PostgrestFilterBuilder_1$2.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:e}={}){var s;const o="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new PostgrestFilterBuilder_1$2.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};PostgrestQueryBuilder$2.default=PostgrestQueryBuilder$1;var __importDefault$f=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(PostgrestClient$2,"__esModule",{value:!0});const PostgrestQueryBuilder_1$1=__importDefault$f(PostgrestQueryBuilder$2),PostgrestFilterBuilder_1$1=__importDefault$f(PostgrestFilterBuilder$2);let PostgrestClient$1=class AE{constructor(e,{headers:s={},schema:o,fetch:c}={}){this.url=e,this.headers=new Headers(s),this.schemaName=o,this.fetch=c}from(e){const s=new URL(`${this.url}/${e}`);return new PostgrestQueryBuilder_1$1.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new AE(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:o=!1,get:c=!1,count:d}={}){var h;let g;const j=new URL(`${this.url}/rpc/${e}`);let _;o||c?(g=o?"HEAD":"GET",Object.entries(s).filter(([_e,st])=>st!==void 0).map(([_e,st])=>[_e,Array.isArray(st)?`{${st.join(",")}}`:`${st}`]).forEach(([_e,st])=>{j.searchParams.append(_e,st)})):(g="POST",_=s);const $=new Headers(this.headers);return d&&$.set("Prefer",`count=${d}`),new PostgrestFilterBuilder_1$1.default({method:g,url:j,headers:$,schema:this.schemaName,body:_,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};PostgrestClient$2.default=PostgrestClient$1;var __importDefault$e=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(cjs$4,"__esModule",{value:!0});cjs$4.PostgrestError=cjs$4.PostgrestBuilder=cjs$4.PostgrestTransformBuilder=cjs$4.PostgrestFilterBuilder=cjs$4.PostgrestQueryBuilder=cjs$4.PostgrestClient=void 0;const PostgrestClient_1=__importDefault$e(PostgrestClient$2);cjs$4.PostgrestClient=PostgrestClient_1.default;const PostgrestQueryBuilder_1=__importDefault$e(PostgrestQueryBuilder$2);cjs$4.PostgrestQueryBuilder=PostgrestQueryBuilder_1.default;const PostgrestFilterBuilder_1=__importDefault$e(PostgrestFilterBuilder$2);cjs$4.PostgrestFilterBuilder=PostgrestFilterBuilder_1.default;const PostgrestTransformBuilder_1=__importDefault$e(PostgrestTransformBuilder$2);cjs$4.PostgrestTransformBuilder=PostgrestTransformBuilder_1.default;const PostgrestBuilder_1=__importDefault$e(PostgrestBuilder$2);cjs$4.PostgrestBuilder=PostgrestBuilder_1.default;const PostgrestError_1=__importDefault$e(PostgrestError$2);cjs$4.PostgrestError=PostgrestError_1.default;var _default$1=cjs$4.default={PostgrestClient:PostgrestClient_1.default,PostgrestQueryBuilder:PostgrestQueryBuilder_1.default,PostgrestFilterBuilder:PostgrestFilterBuilder_1.default,PostgrestTransformBuilder:PostgrestTransformBuilder_1.default,PostgrestBuilder:PostgrestBuilder_1.default,PostgrestError:PostgrestError_1.default};const{PostgrestClient,PostgrestQueryBuilder,PostgrestFilterBuilder,PostgrestTransformBuilder,PostgrestBuilder,PostgrestError}=_default$1;class WebSocketFactory{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const o=s.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const o=this.getWebSocketConstructor();return new o(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const version$4="2.15.5",DEFAULT_VERSION=`realtime-js/${version$4}`,VSN="1.0.0",DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3,MAX_PUSH_BUFFER_SIZE=100;var SOCKET_STATES;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(i){i.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),o=new TextDecoder;return this._decodeBroadcast(e,s,o)}_decodeBroadcast(e,s,o){const c=s.getUint8(1),d=s.getUint8(2);let h=this.HEADER_LENGTH+2;const g=o.decode(e.slice(h,h+c));h=h+c;const j=o.decode(e.slice(h,h+d));h=h+d;const _=JSON.parse(o.decode(e.slice(h,e.byteLength)));return{ref:null,topic:g,event:j,payload:_}}}class Timer{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(i,e,s={})=>{var o;const c=(o=s.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(e).reduce((d,h)=>(d[h]=convertColumn(h,i,e,c),d),{})},convertColumn=(i,e,s,o)=>{const c=e.find(g=>g.name===i),d=c==null?void 0:c.type,h=s[i];return d&&!o.includes(d)?convertCell(d,h):noop$1(h)},convertCell=(i,e)=>{if(i.charAt(0)==="_"){const s=i.slice(1,i.length);return toArray(e,s)}switch(i){case PostgresTypes.bool:return toBoolean(e);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber(e);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(e);case PostgresTypes.timestamp:return toTimestampString(e);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$1(e);default:return noop$1(e)}},noop$1=i=>i,toBoolean=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},toNumber=i=>{if(typeof i=="string"){const e=parseFloat(i);if(!Number.isNaN(e))return e}return i},toJson=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(e){return console.log(`JSON parse error: ${e}`),i}return i},toArray=(i,e)=>{if(typeof i!="string")return i;const s=i.length-1,o=i[s];if(i[0]==="{"&&o==="}"){let d;const h=i.slice(1,s);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(g=>convertCell(e,g))}return i},toTimestampString=i=>typeof i=="string"?i.replace(" ","T"):i,httpEndpointURL=i=>{let e=i;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Push{constructor(e,s,o={},c=DEFAULT_TIMEOUT){this.channel=e,this.event=s,this.payload=o,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var o;return this._hasReceived(e)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},c=>{const{onJoin:d,onLeave:h,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,c,d,h),this.pendingDiffs.forEach(j=>{this.state=RealtimePresence.syncDiff(this.state,j,d,h)}),this.pendingDiffs=[],g()}),this.channel._on(o.diff,{},c=>{const{onJoin:d,onLeave:h,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=RealtimePresence.syncDiff(this.state,c,d,h),g())}),this.onJoin((c,d,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:h})}),this.onLeave((c,d,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,o,c){const d=this.cloneDeep(e),h=this.transformState(s),g={},j={};return this.map(d,(_,$)=>{h[_]||(j[_]=$)}),this.map(h,(_,$)=>{const _e=d[_];if(_e){const st=$.map(lt=>lt.presence_ref),rt=_e.map(lt=>lt.presence_ref),it=$.filter(lt=>rt.indexOf(lt.presence_ref)<0),nt=_e.filter(lt=>st.indexOf(lt.presence_ref)<0);it.length>0&&(g[_]=it),nt.length>0&&(j[_]=nt)}else g[_]=$}),this.syncDiff(d,{joins:g,leaves:j},o,c)}static syncDiff(e,s,o,c){const{joins:d,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),c||(c=()=>{}),this.map(d,(g,j)=>{var _;const $=(_=e[g])!==null&&_!==void 0?_:[];if(e[g]=this.cloneDeep(j),$.length>0){const _e=e[g].map(rt=>rt.presence_ref),st=$.filter(rt=>_e.indexOf(rt.presence_ref)<0);e[g].unshift(...st)}o(g,$,j)}),this.map(h,(g,j)=>{let _=e[g];if(!_)return;const $=j.map(_e=>_e.presence_ref);_=_.filter(_e=>$.indexOf(_e.presence_ref)<0),e[g]=_,c(g,_,j),_.length===0&&delete e[g]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(o=>s(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,o)=>{const c=e[o];return"metas"in c?s[o]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):s[o]=c,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(e,s={config:{}},o){this.topic=e,this.params=s,this.socket=o,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var o,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==CHANNEL_STATES.closed){const{config:{broadcast:h,presence:g,private:j}}=this.params,_=(c=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(rt=>rt.filter))!==null&&c!==void 0?c:[],$=!!this.bindings[REALTIME_LISTEN_TYPES.PRESENCE]&&this.bindings[REALTIME_LISTEN_TYPES.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,_e={},st={broadcast:h,presence:Object.assign(Object.assign({},g),{enabled:$}),postgres_changes:_,private:j};this.socket.accessTokenValue&&(_e.access_token=this.socket.accessTokenValue),this._onError(rt=>e==null?void 0:e(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,rt)),this._onClose(()=>e==null?void 0:e(REALTIME_SUBSCRIBE_STATES.CLOSED)),this.updateJoinPayload(Object.assign({config:st},_e)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:rt})=>{var it;if(this.socket.setAuth(),rt===void 0){e==null||e(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const nt=this.bindings.postgres_changes,lt=(it=nt==null?void 0:nt.length)!==null&&it!==void 0?it:0,ot=[];for(let at=0;at<lt;at++){const ct=nt[at],{filter:{event:ut,schema:ht,table:mt,filter:xt}}=ct,Et=rt&&rt[at];if(Et&&Et.event===ut&&Et.schema===ht&&Et.table===mt&&Et.filter===xt)ot.push(Object.assign(Object.assign({},ct),{id:Et.id}));else{this.unsubscribe(),this.state=CHANNEL_STATES.errored,e==null||e(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=ot,e&&e(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",rt=>{this.state=CHANNEL_STATES.errored,e==null||e(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(rt).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,o){return this.state===CHANNEL_STATES.joined&&e===REALTIME_LISTEN_TYPES.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,o)}async send(e,s={}){var o,c;if(!this._canPush()&&e.type==="broadcast"){const{event:d,payload:h}=e,j={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const _=await this._fetchWithTimeout(this.broadcastEndpointURL,j,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((c=_.body)===null||c===void 0?void 0:c.cancel()),_.ok?"ok":"error"}catch(_){return _.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,g,j;const _=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((j=(g=(h=this.params)===null||h===void 0?void 0:h.config)===null||g===void 0?void 0:g.broadcast)===null||j===void 0)&&j.ack)&&d("ok"),_.receive("ok",()=>d("ok")),_.receive("error",()=>d("error")),_.receive("timeout",()=>d("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=CHANNEL_STATES.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(c=>{o=new Push(this,CHANNEL_EVENTS.leave,{},e),o.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=CHANNEL_STATES.closed,this.bindings={}}async _fetchWithTimeout(e,s,o){const c=new AbortController,d=setTimeout(()=>c.abort(),o),h=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(d),h}_push(e,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Push(this,e,s,o);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>MAX_PUSH_BUFFER_SIZE){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,o){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,o){var c,d;const h=e.toLocaleLowerCase(),{close:g,error:j,leave:_,join:$}=CHANNEL_EVENTS;if(o&&[g,j,_,$].indexOf(h)>=0&&o!==this._joinRef())return;let st=this._onMessage(h,s,o);if(s&&!st)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(rt=>{var it,nt,lt;return((it=rt.filter)===null||it===void 0?void 0:it.event)==="*"||((lt=(nt=rt.filter)===null||nt===void 0?void 0:nt.event)===null||lt===void 0?void 0:lt.toLocaleLowerCase())===h}).map(rt=>rt.callback(st,o)):(d=this.bindings[h])===null||d===void 0||d.filter(rt=>{var it,nt,lt,ot,at,ct;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in rt){const ut=rt.id,ht=(it=rt.filter)===null||it===void 0?void 0:it.event;return ut&&((nt=s.ids)===null||nt===void 0?void 0:nt.includes(ut))&&(ht==="*"||(ht==null?void 0:ht.toLocaleLowerCase())===((lt=s.data)===null||lt===void 0?void 0:lt.type.toLocaleLowerCase()))}else{const ut=(at=(ot=rt==null?void 0:rt.filter)===null||ot===void 0?void 0:ot.event)===null||at===void 0?void 0:at.toLocaleLowerCase();return ut==="*"||ut===((ct=s==null?void 0:s.event)===null||ct===void 0?void 0:ct.toLocaleLowerCase())}else return rt.type.toLocaleLowerCase()===h}).map(rt=>{if(typeof st=="object"&&"ids"in st){const it=st.data,{schema:nt,table:lt,commit_timestamp:ot,type:at,errors:ct}=it;st=Object.assign(Object.assign({},{schema:nt,table:lt,commit_timestamp:ot,eventType:at,new:{},old:{},errors:ct}),this._getPayloadRecords(it))}rt.callback(st,o)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,o){const c=e.toLocaleLowerCase(),d={type:c,filter:s,callback:o};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(e,s){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===o&&RealtimeChannel.isEqual(c.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const o in e)if(e[o]!==s[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(CHANNEL_EVENTS.close,{},e)}_onError(e){this._on(CHANNEL_EVENTS.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=convertChangeData(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=convertChangeData(e.columns,e.old_record)),s}}const noop=()=>{},CONNECTION_TIMEOUTS={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RECONNECT_INTERVALS=[1e3,2e3,5e3,1e4],DEFAULT_RECONNECT_FALLBACK=1e4,WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor(e,s){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DEFAULT_TIMEOUT,this.transport=null,this.heartbeatIntervalMs=CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=noop,this.ref=0,this.reconnectTimer=null,this.logger=noop,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let d;return c?d=c:typeof fetch>"u"?d=(...h)=>__vitePreload(async()=>{const{default:g}=await Promise.resolve().then(()=>browser);return{default:g}},void 0).then(({default:g})=>g(...h)).catch(g=>{throw new Error(`Failed to load @supabase/node-fetch: ${g.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...h)=>d(...h)},!(!((o=s==null?void 0:s.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WebSocketFactory.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VSN}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,o){this.logger(e,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const o=`realtime:${e}`,c=this.getChannels().find(d=>d.topic===o);if(c)return c;{const d=new RealtimeChannel(`realtime:${e}`,s,this);return this.channels.push(d),d}}push(e){const{topic:s,event:o,payload:c,ref:d}=e,h=()=>{this.encode(e,g=>{var j;(j=this.conn)===null||j===void 0||j.send(g)})};this.log("push",`${s} ${o} (${d})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(WS_CLOSE_NORMAL,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},CONNECTION_TIMEOUTS.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(_){this.log("error","error in heartbeat callback",_)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:c,payload:d,ref:h}=s,g=h?`(${h})`:"",j=d.status||"";this.log("receive",`${j} ${o} ${c} ${g}`.trim(),d),this.channels.filter(_=>_._isMember(o)).forEach(_=>_._trigger(c,d,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(CHANNEL_EVENTS.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const o=e.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${e}${o}${c}`}_workerObjectUrl(e){let s;if(e)s=e;else{const o=new Blob([WORKER_SCRIPT],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const c={access_token:s,version:DEFAULT_VERSION};s&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(CHANNEL_EVENTS.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(s)}catch(c){this.log("error",`error in ${e} callback`,c)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Timer(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},CONNECTION_TIMEOUTS.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,o,c,d,h,g,j,_,$;if(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(o=e==null?void 0:e.timeout)!==null&&o!==void 0?o:DEFAULT_TIMEOUT,this.heartbeatIntervalMs=(c=e==null?void 0:e.heartbeatIntervalMs)!==null&&c!==void 0?c:CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.worker=(d=e==null?void 0:e.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=e==null?void 0:e.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(g=e==null?void 0:e.heartbeatCallback)!==null&&g!==void 0?g:noop,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(j=e==null?void 0:e.reconnectAfterMs)!==null&&j!==void 0?j:_e=>RECONNECT_INTERVALS[_e-1]||DEFAULT_RECONNECT_FALLBACK,this.encode=(_=e==null?void 0:e.encode)!==null&&_!==void 0?_:(_e,st)=>st(JSON.stringify(_e)),this.decode=($=e==null?void 0:e.decode)!==null&&$!==void 0?$:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class StorageError extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class StorageApiError extends StorageError{constructor(e,s,o){super(e),this.name="StorageApiError",this.status=s,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class StorageUnknownError extends StorageError{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var __awaiter$9=function(i,e,s,o){function c(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function g($){try{_(o.next($))}catch(_e){h(_e)}}function j($){try{_(o.throw($))}catch(_e){h(_e)}}function _($){$.done?d($.value):c($.value).then(g,j)}_((o=o.apply(i,e||[])).next())})};const resolveFetch$2=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...s)=>__vitePreload(async()=>{const{default:o}=await Promise.resolve().then(()=>browser);return{default:o}},void 0).then(({default:o})=>o(...s)):e=fetch,(...s)=>e(...s)},resolveResponse=()=>__awaiter$9(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield __vitePreload(()=>Promise.resolve().then(()=>browser),void 0)).Response:Response}),recursiveToCamel=i=>{if(Array.isArray(i))return i.map(s=>recursiveToCamel(s));if(typeof i=="function"||i!==Object(i))return i;const e={};return Object.entries(i).forEach(([s,o])=>{const c=s.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));e[c]=recursiveToCamel(o)}),e},isPlainObject=i=>{if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)};var __awaiter$8=function(i,e,s,o){function c(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function g($){try{_(o.next($))}catch(_e){h(_e)}}function j($){try{_(o.throw($))}catch(_e){h(_e)}}function _($){$.done?d($.value):c($.value).then(g,j)}_((o=o.apply(i,e||[])).next())})};const _getErrorMessage$1=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),handleError$1=(i,e,s)=>__awaiter$8(void 0,void 0,void 0,function*(){const o=yield resolveResponse();i instanceof o&&!(s!=null&&s.noResolveJson)?i.json().then(c=>{const d=i.status||500,h=(c==null?void 0:c.statusCode)||d+"";e(new StorageApiError(_getErrorMessage$1(c),d,h))}).catch(c=>{e(new StorageUnknownError(_getErrorMessage$1(c),c))}):e(new StorageUnknownError(_getErrorMessage$1(i),i))}),_getRequestParams$1=(i,e,s,o)=>{const c={method:i,headers:(e==null?void 0:e.headers)||{}};return i==="GET"||!o?c:(isPlainObject(o)?(c.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),c.body=JSON.stringify(o)):c.body=o,e!=null&&e.duplex&&(c.duplex=e.duplex),Object.assign(Object.assign({},c),s))};function _handleRequest$1(i,e,s,o,c,d){return __awaiter$8(this,void 0,void 0,function*(){return new Promise((h,g)=>{i(s,_getRequestParams$1(e,o,c,d)).then(j=>{if(!j.ok)throw j;return o!=null&&o.noResolveJson?j:j.json()}).then(j=>h(j)).catch(j=>handleError$1(j,g,o))})})}function get(i,e,s,o){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(i,"GET",e,s,o)})}function post(i,e,s,o,c){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(i,"POST",e,o,c,s)})}function put(i,e,s,o,c){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(i,"PUT",e,o,c,s)})}function head(i,e,s,o){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(i,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),o)})}function remove(i,e,s,o,c){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(i,"DELETE",e,o,c,s)})}var __awaiter$7=function(i,e,s,o){function c(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function g($){try{_(o.next($))}catch(_e){h(_e)}}function j($){try{_(o.throw($))}catch(_e){h(_e)}}function _($){$.done?d($.value):c($.value).then(g,j)}_((o=o.apply(i,e||[])).next())})};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor(e,s={},o,c){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=o,this.fetch=resolveFetch$2(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,o,c){return __awaiter$7(this,void 0,void 0,function*(){try{let d;const h=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),c);let g=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(h.upsert)});const j=h.metadata;typeof Blob<"u"&&o instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),j&&d.append("metadata",this.encodeMetadata(j)),d.append("",o)):typeof FormData<"u"&&o instanceof FormData?(d=o,d.append("cacheControl",h.cacheControl),j&&d.append("metadata",this.encodeMetadata(j))):(d=o,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType,j&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(j)))),c!=null&&c.headers&&(g=Object.assign(Object.assign({},g),c.headers));const _=this._removeEmptyFolders(s),$=this._getFinalPath(_),_e=yield(e=="PUT"?put:post)(this.fetch,`${this.url}/object/${$}`,d,Object.assign({headers:g},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:_,id:_e.Id,fullPath:_e.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(isStorageError(d))return{data:null,error:d};throw d}})}upload(e,s,o){return __awaiter$7(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,o)})}uploadToSignedUrl(e,s,o,c){return __awaiter$7(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(e),h=this._getFinalPath(d),g=new URL(this.url+`/object/upload/sign/${h}`);g.searchParams.set("token",s);try{let j;const _=Object.assign({upsert:DEFAULT_FILE_OPTIONS.upsert},c),$=Object.assign(Object.assign({},this.headers),{"x-upsert":String(_.upsert)});typeof Blob<"u"&&o instanceof Blob?(j=new FormData,j.append("cacheControl",_.cacheControl),j.append("",o)):typeof FormData<"u"&&o instanceof FormData?(j=o,j.append("cacheControl",_.cacheControl)):(j=o,$["cache-control"]=`max-age=${_.cacheControl}`,$["content-type"]=_.contentType);const _e=yield put(this.fetch,g.toString(),j,{headers:$});return{data:{path:d,fullPath:_e.Key},error:null}}catch(j){if(this.shouldThrowOnError)throw j;if(isStorageError(j))return{data:null,error:j};throw j}})}createSignedUploadUrl(e,s){return __awaiter$7(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e);const c=Object.assign({},this.headers);s!=null&&s.upsert&&(c["x-upsert"]="true");const d=yield post(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:c}),h=new URL(this.url+d.url),g=h.searchParams.get("token");if(!g)throw new StorageError("No token returned by API");return{data:{signedUrl:h.toString(),path:e,token:g},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}})}update(e,s,o){return __awaiter$7(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,o)})}move(e,s,o){return __awaiter$7(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(isStorageError(c))return{data:null,error:c};throw c}})}copy(e,s,o){return __awaiter$7(this,void 0,void 0,function*(){try{return{data:{path:(yield post(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(isStorageError(c))return{data:null,error:c};throw c}})}createSignedUrl(e,s,o){return __awaiter$7(this,void 0,void 0,function*(){try{let c=this._getFinalPath(e),d=yield post(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:s},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const h=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(isStorageError(c))return{data:null,error:c};throw c}})}createSignedUrls(e,s,o){return __awaiter$7(this,void 0,void 0,function*(){try{const c=yield post(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),d=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:c.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${d}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(isStorageError(c))return{data:null,error:c};throw c}})}download(e,s){return __awaiter$7(this,void 0,void 0,function*(){const c=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),h=d?`?${d}`:"";try{const g=this._getFinalPath(e);return{data:yield(yield get(this.fetch,`${this.url}/${c}/${g}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(isStorageError(g))return{data:null,error:g};throw g}})}info(e){return __awaiter$7(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const o=yield get(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:recursiveToCamel(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}})}exists(e){return __awaiter$7(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield head(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(isStorageError(o)&&o instanceof StorageUnknownError){const c=o.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:o}}throw o}})}getPublicUrl(e,s){const o=this._getFinalPath(e),c=[],d=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";d!==""&&c.push(d);const g=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",j=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});j!==""&&c.push(j);let _=c.join("&");return _!==""&&(_=`?${_}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${o}${_}`)}}}remove(e){return __awaiter$7(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(isStorageError(s))return{data:null,error:s};throw s}})}list(e,s,o){return __awaiter$7(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),s),{prefix:e||""});return{data:yield post(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},o),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(isStorageError(c))return{data:null,error:c};throw c}})}listV2(e,s){return __awaiter$7(this,void 0,void 0,function*(){try{const o=Object.assign({},e);return{data:yield post(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const version$3="2.12.1",DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$3}`};var __awaiter$6=function(i,e,s,o){function c(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function g($){try{_(o.next($))}catch(_e){h(_e)}}function j($){try{_(o.throw($))}catch(_e){h(_e)}}function _($){$.done?d($.value):c($.value).then(g,j)}_((o=o.apply(i,e||[])).next())})};class StorageBucketApi{constructor(e,s={},o,c){this.shouldThrowOnError=!1;const d=new URL(e);c!=null&&c.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),s),this.fetch=resolveFetch$2(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(isStorageError(e))return{data:null,error:e};throw e}})}getBucket(e){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(isStorageError(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}})}updateBucket(e,s){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}})}emptyBucket(e){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(isStorageError(s))return{data:null,error:s};throw s}})}deleteBucket(e){return __awaiter$6(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(isStorageError(s))return{data:null,error:s};throw s}})}}class StorageClient extends StorageBucketApi{constructor(e,s={},o,c){super(e,s,o,c)}from(e){return new StorageFileApi(this.url,this.headers,e,this.fetch)}}const version$2="2.57.4";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS$1={"X-Client-Info":`supabase-js-${JS_ENV}/${version$2}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS$1},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};var __awaiter$5=function(i,e,s,o){function c(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function g($){try{_(o.next($))}catch(_e){h(_e)}}function j($){try{_(o.throw($))}catch(_e){h(_e)}}function _($){$.done?d($.value):c($.value).then(g,j)}_((o=o.apply(i,e||[])).next())})};const resolveFetch$1=i=>{let e;return i?e=i:typeof fetch>"u"?e=nodeFetch:e=fetch,(...s)=>e(...s)},resolveHeadersConstructor=()=>typeof Headers>"u"?Headers$1:Headers,fetchWithAuth=(i,e,s)=>{const o=resolveFetch$1(s),c=resolveHeadersConstructor();return(d,h)=>__awaiter$5(void 0,void 0,void 0,function*(){var g;const j=(g=yield e())!==null&&g!==void 0?g:i;let _=new c(h==null?void 0:h.headers);return _.has("apikey")||_.set("apikey",i),_.has("Authorization")||_.set("Authorization",`Bearer ${j}`),o(d,Object.assign(Object.assign({},h),{headers:_}))})};var __awaiter$4=function(i,e,s,o){function c(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function g($){try{_(o.next($))}catch(_e){h(_e)}}function j($){try{_(o.throw($))}catch(_e){h(_e)}}function _($){$.done?d($.value):c($.value).then(g,j)}_((o=o.apply(i,e||[])).next())})};function ensureTrailingSlash(i){return i.endsWith("/")?i:i+"/"}function applySettingDefaults(i,e){var s,o;const{db:c,auth:d,realtime:h,global:g}=i,{db:j,auth:_,realtime:$,global:_e}=e,st={db:Object.assign(Object.assign({},j),c),auth:Object.assign(Object.assign({},_),d),realtime:Object.assign(Object.assign({},$),h),storage:{},global:Object.assign(Object.assign(Object.assign({},_e),g),{headers:Object.assign(Object.assign({},(s=_e==null?void 0:_e.headers)!==null&&s!==void 0?s:{}),(o=g==null?void 0:g.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>__awaiter$4(this,void 0,void 0,function*(){return""})};return i.accessToken?st.accessToken=i.accessToken:delete st.accessToken,st}function validateSupabaseUrl(i){const e=i==null?void 0:i.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ensureTrailingSlash(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const version$1="2.71.1",AUTO_REFRESH_TICK_DURATION_MS=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3,EXPIRY_MARGIN_MS=AUTO_REFRESH_TICK_THRESHOLD*AUTO_REFRESH_TICK_DURATION_MS,GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS={"X-Client-Info":`gotrue-js/${version$1}`},API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BASE64URL_REGEX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JWKS_TTL=10*60*1e3;class AuthError extends Error{constructor(e,s,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function isAuthError(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class AuthApiError extends AuthError{constructor(e,s,o){super(e,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function isAuthApiError(i){return isAuthError(i)&&i.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class CustomAuthError extends AuthError{constructor(e,s,o,c){super(e,o,c),this.name=s,this.status=o}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(i){return isAuthError(i)&&i.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError(i){return isAuthError(i)&&i.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function isAuthRetryableFetchError(i){return isAuthError(i)&&i.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor(e,s,o){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class AuthInvalidJwtError extends CustomAuthError{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const TO_BASE64URL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IGNORE_BASE64URL=` 	
\r=`.split(""),FROM_BASE64URL=(()=>{const i=new Array(128);for(let e=0;e<i.length;e+=1)i[e]=-1;for(let e=0;e<IGNORE_BASE64URL.length;e+=1)i[IGNORE_BASE64URL[e].charCodeAt(0)]=-2;for(let e=0;e<TO_BASE64URL.length;e+=1)i[TO_BASE64URL[e].charCodeAt(0)]=e;return i})();function byteToBase64URL(i,e,s){if(i!==null)for(e.queue=e.queue<<8|i,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;s(TO_BASE64URL[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;s(TO_BASE64URL[o]),e.queuedBits-=6}}function byteFromBase64URL(i,e,s){const o=FROM_BASE64URL[i];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function stringFromBase64URL(i){const e=[],s=h=>{e.push(String.fromCodePoint(h))},o={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=h=>{stringFromUTF8(h,o,s)};for(let h=0;h<i.length;h+=1)byteFromBase64URL(i.charCodeAt(h),c,d);return e.join("")}function codepointToUTF8(i,e){if(i<=127){e(i);return}else if(i<=2047){e(192|i>>6),e(128|i&63);return}else if(i<=65535){e(224|i>>12),e(128|i>>6&63),e(128|i&63);return}else if(i<=1114111){e(240|i>>18),e(128|i>>12&63),e(128|i>>6&63),e(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function stringToUTF8(i,e){for(let s=0;s<i.length;s+=1){let o=i.charCodeAt(s);if(o>55295&&o<=56319){const c=(o-55296)*1024&65535;o=(i.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}codepointToUTF8(o,e)}}function stringFromUTF8(i,e,s){if(e.utf8seq===0){if(i<=127){s(i);return}for(let o=1;o<6;o+=1)if(!(i>>7-o&1)){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=i&31;else if(e.utf8seq===3)e.codepoint=i&15;else if(e.utf8seq===4)e.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|i&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function base64UrlToUint8Array(i){const e=[],s={queue:0,queuedBits:0},o=c=>{e.push(c)};for(let c=0;c<i.length;c+=1)byteFromBase64URL(i.charCodeAt(c),s,o);return new Uint8Array(e)}function stringToUint8Array(i){const e=[];return stringToUTF8(i,s=>e.push(s)),new Uint8Array(e)}function bytesToBase64URL(i){const e=[],s={queue:0,queuedBits:0},o=c=>{e.push(c)};return i.forEach(c=>byteToBase64URL(c,s,o)),byteToBase64URL(null,s,o),e.join("")}function expiresAt(i){return Math.round(Date.now()/1e3)+i}function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const e=Math.random()*16|0;return(i=="x"?e:e&3|8).toString(16)})}const isBrowser=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(i){const e={},s=new URL(i);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,d)=>{e[d]=c})}catch{}return s.searchParams.forEach((o,c)=>{e[c]=o}),e}const resolveFetch=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...s)=>__vitePreload(async()=>{const{default:o}=await Promise.resolve().then(()=>browser);return{default:o}},void 0).then(({default:o})=>o(...s)):e=fetch,(...s)=>e(...s)},looksLikeFetchResponse=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",setItemAsync=async(i,e,s)=>{await i.setItem(e,JSON.stringify(s))},getItemAsync=async(i,e)=>{const s=await i.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},removeItemAsync=async(i,e)=>{await i.removeItem(e)};class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Deferred.promiseConstructor=Promise;function decodeJWT(i){const e=i.split(".");if(e.length!==3)throw new AuthInvalidJwtError("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!BASE64URL_REGEX.test(e[o]))throw new AuthInvalidJwtError("JWT not in base64url format");return{header:JSON.parse(stringFromBase64URL(e[0])),payload:JSON.parse(stringFromBase64URL(e[1])),signature:base64UrlToUint8Array(e[2]),raw:{header:e[0],payload:e[1]}}}async function sleep(i){return await new Promise(e=>{setTimeout(()=>e(null),i)})}function retryable(i,e){return new Promise((o,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await i(d);if(!e(d,null,h)){o(h);return}}catch(h){if(!e(d,h)){c(h);return}}})()})}function dec2hex(i){return("0"+i.toString(16)).substr(-2)}function generatePKCEVerifier(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let c="";for(let d=0;d<56;d++)c+=s.charAt(Math.floor(Math.random()*o));return c}return crypto.getRandomValues(e),Array.from(e,dec2hex).join("")}async function sha256(i){const s=new TextEncoder().encode(i),o=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(o);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function generatePKCEChallenge(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const s=await sha256(i);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function getCodeChallengeAndMethod(i,e,s=!1){const o=generatePKCEVerifier();let c=o;s&&(c+="/PASSWORD_RECOVERY"),await setItemAsync(i,`${e}-code-verifier`,c);const d=await generatePKCEChallenge(o);return[d,o===d?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(i){const e=i.headers.get(API_VERSION_HEADER_NAME);if(!e||!e.match(API_VERSION_REGEX))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function validateExp(i){if(!i)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(i<=e)throw new Error("JWT has expired")}function getAlgorithm(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UUID_REGEX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function validateUUID(i){if(!UUID_REGEX.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function userNotAvailableProxy(){const i={};return new Proxy(i,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function deepClone(i){return JSON.parse(JSON.stringify(i))}var __rest$7=function(i,e){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&e.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(i);c<o.length;c++)e.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(i,o[c])&&(s[o[c]]=i[o[c]]);return s};const _getErrorMessage=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),NETWORK_ERROR_CODES=[502,503,504];async function handleError(i){var e;if(!looksLikeFetchResponse(i))throw new AuthRetryableFetchError(_getErrorMessage(i),0);if(NETWORK_ERROR_CODES.includes(i.status))throw new AuthRetryableFetchError(_getErrorMessage(i),i.status);let s;try{s=await i.json()}catch(d){throw new AuthUnknownError(_getErrorMessage(d),d)}let o;const c=parseResponseAPIVersion(i);if(c&&c.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(s),i.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new AuthSessionMissingError}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(s),i.status,s.weak_password.reasons);throw new AuthApiError(_getErrorMessage(s),i.status||500,o)}const _getRequestParams=(i,e,s,o)=>{const c={method:i,headers:(e==null?void 0:e.headers)||{}};return i==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),c.body=JSON.stringify(o),Object.assign(Object.assign({},c),s))};async function _request(i,e,s,o){var c;const d=Object.assign({},o==null?void 0:o.headers);d[API_VERSION_HEADER_NAME]||(d[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),o!=null&&o.jwt&&(d.Authorization=`Bearer ${o.jwt}`);const h=(c=o==null?void 0:o.query)!==null&&c!==void 0?c:{};o!=null&&o.redirectTo&&(h.redirect_to=o.redirectTo);const g=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",j=await _handleRequest(i,e,s+g,{headers:d,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(j):{data:Object.assign({},j),error:null}}async function _handleRequest(i,e,s,o,c,d){const h=_getRequestParams(e,o,c,d);let g;try{g=await i(s,Object.assign({},h))}catch(j){throw console.error(j),new AuthRetryableFetchError(_getErrorMessage(j),0)}if(g.ok||await handleError(g),o!=null&&o.noResolveJson)return g;try{return await g.json()}catch(j){await handleError(j)}}function _sessionResponse(i){var e;let s=null;hasSession(i)&&(s=Object.assign({},i),i.expires_at||(s.expires_at=expiresAt(i.expires_in)));const o=(e=i.user)!==null&&e!==void 0?e:i;return{data:{session:s,user:o},error:null}}function _sessionResponsePassword(i){const e=_sessionResponse(i);return!e.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(e.data.weak_password=i.weak_password),e}function _userResponse(i){var e;return{data:{user:(e=i.user)!==null&&e!==void 0?e:i},error:null}}function _ssoResponse(i){return{data:i,error:null}}function _generateLinkResponse(i){const{action_link:e,email_otp:s,hashed_token:o,redirect_to:c,verification_type:d}=i,h=__rest$7(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:e,email_otp:s,hashed_token:o,redirect_to:c,verification_type:d},j=Object.assign({},h);return{data:{properties:g,user:j},error:null}}function _noResolveJsonResponse(i){return i}function hasSession(i){return i.access_token&&i.refresh_token&&i.expires_in}const SIGN_OUT_SCOPES=["global","local","others"];var __rest$6=function(i,e){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&e.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(i);c<o.length;c++)e.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(i,o[c])&&(s[o[c]]=i[o[c]]);return s};class GoTrueAdminApi{constructor({url:e="",headers:s={},fetch:o}){this.url=e,this.headers=s,this.fetch=resolveFetch(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=SIGN_OUT_SCOPES[0]){if(SIGN_OUT_SCOPES.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${SIGN_OUT_SCOPES.join(", ")}`);try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,s={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:_userResponse})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:s}=e,o=__rest$6(e,["options"]),c=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(c.new_email=o==null?void 0:o.newEmail,delete c.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:_generateLinkResponse,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(isAuthError(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_userResponse})}catch(s){if(isAuthError(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,o,c,d,h,g,j;try{const _={nextPage:null,lastPage:0,total:0},$=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(d=(c=e==null?void 0:e.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:_noResolveJsonResponse});if($.error)throw $.error;const _e=await $.json(),st=(h=$.headers.get("x-total-count"))!==null&&h!==void 0?h:0,rt=(j=(g=$.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&j!==void 0?j:[];return rt.length>0&&(rt.forEach(it=>{const nt=parseInt(it.split(";")[0].split("=")[1].substring(0,1)),lt=JSON.parse(it.split(";")[1].split("=")[1]);_[`${lt}Page`]=nt}),_.total=parseInt(st)),{data:Object.assign(Object.assign({},_e),_),error:null}}catch(_){if(isAuthError(_))return{data:{users:[]},error:_};throw _}}async getUserById(e){validateUUID(e);try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_userResponse})}catch(s){if(isAuthError(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){validateUUID(e);try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:_userResponse})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,s=!1){validateUUID(e);try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:_userResponse})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){validateUUID(e.userId);try{const{data:s,error:o}=await _request(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:o}}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}async _deleteFactor(e){validateUUID(e.userId),validateUUID(e.id);try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}}function memoryLocalStorageAdapter(i={}){return{getItem:e=>i[e]||null,setItem:(e,s)=>{i[e]=s},removeItem:e=>{delete i[e]}}}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(i,e,s){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async c=>{if(c){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,c.name);try{return await s()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,c.name)}}else{if(e===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(internals.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lockNoOp(i,e,s){return await s()}const GLOBAL_JWKS={};class GoTrueClient{constructor(e){var s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=GoTrueClient.nextInstanceID,GoTrueClient.nextInstanceID+=1,this.instanceID>0&&isBrowser()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},DEFAULT_OPTIONS),e);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new GoTrueAdminApi({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=resolveFetch(c.fetch),this.lock=c.lock||lockNoOp,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:isBrowser()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:supportsLocalStorage()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=GLOBAL_JWKS[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=GLOBAL_JWKS[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${version$1}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=parseParametersFromURL(window.location.href);let o="none";if(this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce"),isBrowser()&&this.detectSessionInUrl&&o!=="none"){const{data:c,error:d}=await this._getSessionFromURL(s,o);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),isAuthImplicitGrantRedirectError(d)){const j=(e=d.details)===null||e===void 0?void 0:e.code;if(j==="identity_already_exists"||j==="identity_not_found"||j==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:h,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",g),await this._saveSession(h),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return isAuthError(s)?{error:s}:{error:new AuthUnknownError("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,o,c;try{const d=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(c=e==null?void 0:e.options)===null||c===void 0?void 0:c.captchaToken}},xform:_sessionResponse}),{data:h,error:g}=d;if(g||!h)return{data:{user:null,session:null},error:g};const j=h.session,_=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",j)),{data:{user:_,session:j},error:null}}catch(d){if(isAuthError(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(e){var s,o,c;try{let d;if("email"in e){const{email:$,password:_e,options:st}=e;let rt=null,it=null;this.flowType==="pkce"&&([rt,it]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),d=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:st==null?void 0:st.emailRedirectTo,body:{email:$,password:_e,data:(s=st==null?void 0:st.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:st==null?void 0:st.captchaToken},code_challenge:rt,code_challenge_method:it},xform:_sessionResponse})}else if("phone"in e){const{phone:$,password:_e,options:st}=e;d=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:$,password:_e,data:(o=st==null?void 0:st.data)!==null&&o!==void 0?o:{},channel:(c=st==null?void 0:st.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:st==null?void 0:st.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:h,error:g}=d;if(g||!h)return{data:{user:null,session:null},error:g};const j=h.session,_=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",j)),{data:{user:_,session:j},error:null}}catch(d){if(isAuthError(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(e){try{let s;if("email"in e){const{email:d,password:h,options:g}=e;s=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in e){const{phone:d,password:h,options:g}=e;s=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:o,error:c}=s;return c?{data:{user:null,session:null},error:c}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:c})}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,o,c,d;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=e.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,o,c,d,h,g,j,_,$,_e,st,rt;let it,nt;if("message"in e)it=e.message,nt=e.signature;else{const{chain:lt,wallet:ot,statement:at,options:ct}=e;let ut;if(isBrowser())if(typeof ot=="object")ut=ot;else{const mt=window;if("solana"in mt&&typeof mt.solana=="object"&&("signIn"in mt.solana&&typeof mt.solana.signIn=="function"||"signMessage"in mt.solana&&typeof mt.solana.signMessage=="function"))ut=mt.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof ot!="object"||!(ct!=null&&ct.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ut=ot}const ht=new URL((s=ct==null?void 0:ct.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in ut&&ut.signIn){const mt=await ut.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},ct==null?void 0:ct.signInWithSolana),{version:"1",domain:ht.host,uri:ht.href}),at?{statement:at}:null));let xt;if(Array.isArray(mt)&&mt[0]&&typeof mt[0]=="object")xt=mt[0];else if(mt&&typeof mt=="object"&&"signedMessage"in mt&&"signature"in mt)xt=mt;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in xt&&"signature"in xt&&(typeof xt.signedMessage=="string"||xt.signedMessage instanceof Uint8Array)&&xt.signature instanceof Uint8Array)it=typeof xt.signedMessage=="string"?xt.signedMessage:new TextDecoder().decode(xt.signedMessage),nt=xt.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ut)||typeof ut.signMessage!="function"||!("publicKey"in ut)||typeof ut!="object"||!ut.publicKey||!("toBase58"in ut.publicKey)||typeof ut.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");it=[`${ht.host} wants you to sign in with your Solana account:`,ut.publicKey.toBase58(),...at?["",at,""]:[""],"Version: 1",`URI: ${ht.href}`,`Issued At: ${(c=(o=ct==null?void 0:ct.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=ct==null?void 0:ct.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${ct.signInWithSolana.notBefore}`]:[],...!((h=ct==null?void 0:ct.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${ct.signInWithSolana.expirationTime}`]:[],...!((g=ct==null?void 0:ct.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${ct.signInWithSolana.chainId}`]:[],...!((j=ct==null?void 0:ct.signInWithSolana)===null||j===void 0)&&j.nonce?[`Nonce: ${ct.signInWithSolana.nonce}`]:[],...!((_=ct==null?void 0:ct.signInWithSolana)===null||_===void 0)&&_.requestId?[`Request ID: ${ct.signInWithSolana.requestId}`]:[],...!((_e=($=ct==null?void 0:ct.signInWithSolana)===null||$===void 0?void 0:$.resources)===null||_e===void 0)&&_e.length?["Resources",...ct.signInWithSolana.resources.map(xt=>`- ${xt}`)]:[]].join(`
`);const mt=await ut.signMessage(new TextEncoder().encode(it),"utf8");if(!mt||!(mt instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");nt=mt}}try{const{data:lt,error:ot}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:it,signature:bytesToBase64URL(nt)},!((st=e.options)===null||st===void 0)&&st.captchaToken?{gotrue_meta_security:{captcha_token:(rt=e.options)===null||rt===void 0?void 0:rt.captchaToken}}:null),xform:_sessionResponse});if(ot)throw ot;return!lt||!lt.session||!lt.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(lt.session&&(await this._saveSession(lt.session),await this._notifyAllSubscribers("SIGNED_IN",lt.session)),{data:Object.assign({},lt),error:ot})}catch(lt){if(isAuthError(lt))return{data:{user:null,session:null},error:lt};throw lt}}async _exchangeCodeForSession(e){const s=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[o,c]=(s??"").split("/");try{const{data:d,error:h}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new AuthInvalidTokenResponseError}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:h})}catch(d){if(isAuthError(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(e){try{const{options:s,provider:o,token:c,access_token:d,nonce:h}=e,g=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:c,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:_sessionResponse}),{data:j,error:_}=g;return _?{data:{user:null,session:null},error:_}:!j||!j.session||!j.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:j,error:_})}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,o,c,d,h;try{if("email"in e){const{email:g,options:j}=e;let _=null,$=null;this.flowType==="pkce"&&([_,$]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:_e}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(s=j==null?void 0:j.data)!==null&&s!==void 0?s:{},create_user:(o=j==null?void 0:j.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:_,code_challenge_method:$},redirectTo:j==null?void 0:j.emailRedirectTo});return{data:{user:null,session:null},error:_e}}if("phone"in e){const{phone:g,options:j}=e,{data:_,error:$}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=j==null?void 0:j.data)!==null&&c!==void 0?c:{},create_user:(d=j==null?void 0:j.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},channel:(h=j==null?void 0:j.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:_==null?void 0:_.message_id},error:$}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(g){if(isAuthError(g))return{data:{user:null,session:null},error:g};throw g}}async verifyOtp(e){var s,o;try{let c,d;"options"in e&&(c=(s=e.options)===null||s===void 0?void 0:s.redirectTo,d=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:h,error:g}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:_sessionResponse});if(g)throw g;if(!h)throw new Error("An error occurred on token verification.");const j=h.session,_=h.user;return j!=null&&j.access_token&&(await this._saveSession(j),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",j)),{data:{user:_,session:j},error:null}}catch(c){if(isAuthError(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(e){var s,o,c;try{let d=null,h=null;return this.flowType==="pkce"&&([d,h]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((c=e==null?void 0:e.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:_ssoResponse})}catch(d){if(isAuthError(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:o}=e;if(o)throw o;if(!s)throw new AuthSessionMissingError;const{error:c}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:c}})}catch(e){if(isAuthError(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:o,type:c,options:d}=e,{error:h}=await _request(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in e){const{phone:o,type:c,options:d}=e,{data:h,error:g}=await _request(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:g}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<EXPIRY_MARGIN_MS:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const h=await getItemAsync(this.userStorage,this.storageKey+"-user");h!=null&&h.user?e.user=h.user:e.user=userNotAvailableProxy()}if(this.storage.isServer&&e.user){let h=this.suppressGetSessionWarning;e=new Proxy(e,{get:(j,_,$)=>(!h&&_==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(j,_,$))})}return{data:{session:e},error:null}}const{session:c,error:d}=await this._callRefreshToken(e.refresh_token);return d?{data:{session:null},error:d}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_userResponse}):await this._useSession(async s=>{var o,c,d;const{data:h,error:g}=s;if(g)throw g;return!(!((o=h.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:_userResponse})})}catch(s){if(isAuthError(s))return isAuthSessionMissingError(s)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async o=>{const{data:c,error:d}=o;if(d)throw d;if(!c.session)throw new AuthSessionMissingError;const h=c.session;let g=null,j=null;this.flowType==="pkce"&&e.email!=null&&([g,j]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:_,error:$}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:g,code_challenge_method:j}),jwt:h.access_token,xform:_userResponse});if($)throw $;return h.user=_.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(o){if(isAuthError(o))return{data:{user:null},error:o};throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new AuthSessionMissingError;const s=Date.now()/1e3;let o=s,c=!0,d=null;const{payload:h}=decodeJWT(e.access_token);if(h.exp&&(o=h.exp,c=o<=s),c){const{session:g,error:j}=await this._callRefreshToken(e.refresh_token);if(j)return{data:{user:null,session:null},error:j};if(!g)return{data:{user:null,session:null},error:null};d=g}else{const{data:g,error:j}=await this._getUser(e.access_token);if(j)throw j;d={access_token:e.access_token,refresh_token:e.refresh_token,user:g.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(s){if(isAuthError(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var o;if(!e){const{data:h,error:g}=s;if(g)throw g;e=(o=h.session)!==null&&o!==void 0?o:void 0}if(!(e!=null&&e.refresh_token))throw new AuthSessionMissingError;const{session:c,error:d}=await this._callRefreshToken(e.refresh_token);return d?{data:{user:null,session:null},error:d}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if(e.error||e.error_description||e.error_code)throw new AuthImplicitGrantRedirectError(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:at,error:ct}=await this._exchangeCodeForSession(e.code);if(ct)throw ct;const ut=new URL(window.location.href);return ut.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ut.toString()),{data:{session:at.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:c,access_token:d,refresh_token:h,expires_in:g,expires_at:j,token_type:_}=e;if(!d||!g||!h||!_)throw new AuthImplicitGrantRedirectError("No session defined in URL");const $=Math.round(Date.now()/1e3),_e=parseInt(g);let st=$+_e;j&&(st=parseInt(j));const rt=st-$;rt*1e3<=AUTO_REFRESH_TICK_DURATION_MS&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${rt}s, should have been closer to ${_e}s`);const it=st-_e;$-it>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",it,st,$):$-it<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",it,st,$);const{data:nt,error:lt}=await this._getUser(d);if(lt)throw lt;const ot={provider_token:o,provider_refresh_token:c,access_token:d,expires_in:_e,expires_at:st,refresh_token:h,token_type:_,user:nt.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:ot,redirectType:e.type},error:null}}catch(o){if(isAuthError(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:c,error:d}=s;if(d)return{error:d};const h=(o=c.session)===null||o===void 0?void 0:o.access_token;if(h){const{error:g}=await this.admin.signOut(h,e);if(g&&!(isAuthApiError(g)&&(g.status===404||g.status===401||g.status===403)))return{error:g}}return e!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=uuid(),o={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async s=>{var o,c;try{const{data:{session:d},error:h}=s;if(h)throw h;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",e,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(e))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",d),console.error(d)}})}async resetPasswordForEmail(e,s={}){let o=null,c=null;this.flowType==="pkce"&&([o,c]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(d){if(isAuthError(d))return{data:null,error:d};throw d}}async getUserIdentities(){var e;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:o,error:c}=await this._useSession(async d=>{var h,g,j,_,$;const{data:_e,error:st}=d;if(st)throw st;const rt=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(h=e.options)===null||h===void 0?void 0:h.redirectTo,scopes:(g=e.options)===null||g===void 0?void 0:g.scopes,queryParams:(j=e.options)===null||j===void 0?void 0:j.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",rt,{headers:this.headers,jwt:($=(_=_e.session)===null||_===void 0?void 0:_.access_token)!==null&&$!==void 0?$:void 0})});if(c)throw c;return isBrowser()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:e.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(isAuthError(o))return{data:{provider:e.provider,url:null},error:o};throw o}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var o,c;const{data:d,error:h}=s;if(h)throw h;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(c=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await retryable(async c=>(c>0&&await sleep(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_sessionResponse})),(c,d)=>{const h=200*Math.pow(2,c);return d&&isAuthRetryableFetchError(d)&&Date.now()+h-o<AUTO_REFRESH_TICK_DURATION_MS})}catch(o){if(this._debug(s,"error",o),isAuthError(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",o),isBrowser()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const c=await getItemAsync(this.storage,this.storageKey);if(c&&this.userStorage){let h=await getItemAsync(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await setItemAsync(this.userStorage,this.storageKey+"-user",h)),c.user=(e=h==null?void 0:h.user)!==null&&e!==void 0?e:userNotAvailableProxy()}else if(c&&!c.user&&!c.user){const h=await getItemAsync(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(c.user=h.user,await removeItemAsync(this.storage,this.storageKey+"-user"),await setItemAsync(this.storage,this.storageKey,c)):c.user=userNotAvailableProxy()}if(this._debug(o,"session from storage",c),!this._isValidSession(c)){this._debug(o,"session is not valid"),c!==null&&await this._removeSession();return}const d=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<EXPIRY_MARGIN_MS;if(this._debug(o,`session has${d?"":" not"} expired with margin of ${EXPIRY_MARGIN_MS}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),isAuthRetryableFetchError(h)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:g}=await this._getUser(c.access_token);!g&&(h!=null&&h.user)?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(o,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(o,"error",c),console.error(c);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var s,o;if(!e)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Deferred;const{data:d,error:h}=await this._refreshAccessToken(e);if(h)throw h;if(!d.session)throw new AuthSessionMissingError;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const g={session:d.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(d){if(this._debug(c,"error",d),isAuthError(d)){const h={session:null,error:d};return isAuthRetryableFetchError(d)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(e,s,o=!0){const c=`#_notifyAllSubscribers(${e})`;this._debug(c,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:s});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(e,s)}catch(j){d.push(j)}});if(await Promise.all(h),d.length>0){for(let g=0;g<d.length;g+=1)console.error(d[g]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await setItemAsync(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const d=deepClone(c);await setItemAsync(this.storage,this.storageKey,d)}else{const c=deepClone(s);await setItemAsync(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await removeItemAsync(this.storage,this.storageKey),await removeItemAsync(this.storage,this.storageKey+"-code-verifier"),await removeItemAsync(this.storage,this.storageKey+"-user"),this.userStorage&&await removeItemAsync(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&isBrowser()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION_MS);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((o.expires_at*1e3-e)/AUTO_REFRESH_TICK_DURATION_MS);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION_MS}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),c<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,o){const c=[`provider=${encodeURIComponent(s)}`];if(o!=null&&o.redirectTo&&c.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&c.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[d,h]=await getCodeChallengeAndMethod(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(g.toString())}if(o!=null&&o.queryParams){const d=new URLSearchParams(o.queryParams);c.push(d.toString())}return o!=null&&o.skipBrowserRedirect&&c.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${c.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var o;const{data:c,error:d}=s;return d?{data:null,error:d}:await _request(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var o,c;const{data:d,error:h}=s;if(h)return{data:null,error:h};const g=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:j,error:_}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(o=d==null?void 0:d.session)===null||o===void 0?void 0:o.access_token});return _?{data:null,error:_}:(e.factorType==="totp"&&(!((c=j==null?void 0:j.totp)===null||c===void 0)&&c.qr_code)&&(j.totp.qr_code=`data:image/svg+xml;utf-8,${j.totp.qr_code}`),{data:j,error:null})})}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:c,error:d}=s;if(d)return{data:null,error:d};const{data:h,error:g}=await _request(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:g})})}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:c,error:d}=s;return d?{data:null,error:d}:await _request(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:o}=await this._challenge({factorId:e.factorId});return o?{data:null,error:o}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const o=(e==null?void 0:e.factors)||[],c=o.filter(h=>h.factor_type==="totp"&&h.status==="verified"),d=o.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:o,totp:c,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,o;const{data:{session:c},error:d}=e;if(d)return{data:null,error:d};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=decodeJWT(c.access_token);let g=null;h.aal&&(g=h.aal);let j=g;((o=(s=c.user.factors)===null||s===void 0?void 0:s.filter(_e=>_e.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(j="aal2");const $=h.amr||[];return{data:{currentLevel:g,nextLevel:j,currentAuthenticationMethods:$},error:null}}))}async fetchJwk(e,s={keys:[]}){let o=s.keys.find(g=>g.kid===e);if(o)return o;const c=Date.now();if(o=this.jwks.keys.find(g=>g.kid===e),o&&this.jwks_cached_at+JWKS_TTL>c)return o;const{data:d,error:h}=await _request(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,o=d.keys.find(g=>g.kid===e),!o)?null:o}async getClaims(e,s={}){try{let o=e;if(!o){const{data:rt,error:it}=await this.getSession();if(it||!rt.session)return{data:null,error:it};o=rt.session.access_token}const{header:c,payload:d,signature:h,raw:{header:g,payload:j}}=decodeJWT(o);s!=null&&s.allowExpired||validateExp(d.exp);const _=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!_){const{error:rt}=await this.getUser(o);if(rt)throw rt;return{data:{claims:d,header:c,signature:h},error:null}}const $=getAlgorithm(c.alg),_e=await crypto.subtle.importKey("jwk",_,$,!0,["verify"]);if(!await crypto.subtle.verify($,_e,h,stringToUint8Array(`${g}.${j}`)))throw new AuthInvalidJwtError("Invalid JWT signature");return{data:{claims:d,header:c,signature:h},error:null}}catch(o){if(isAuthError(o))return{data:null,error:o};throw o}}}GoTrueClient.nextInstanceID=0;const AuthClient=GoTrueClient;class SupabaseAuthClient extends AuthClient{constructor(e){super(e)}}var __awaiter$3=function(i,e,s,o){function c(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function g($){try{_(o.next($))}catch(_e){h(_e)}}function j($){try{_(o.throw($))}catch(_e){h(_e)}}function _($){$.done?d($.value):c($.value).then(g,j)}_((o=o.apply(i,e||[])).next())})};class SupabaseClient{constructor(e,s,o){var c,d,h;this.supabaseUrl=e,this.supabaseKey=s;const g=validateSupabaseUrl(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const j=`sb-${g.hostname.split(".")[0]}-auth-token`,_={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:DEFAULT_GLOBAL_OPTIONS},$=applySettingDefaults(o??{},_);this.storageKey=(c=$.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=$.global.headers)!==null&&d!==void 0?d:{},$.accessToken?(this.accessToken=$.accessToken,this.auth=new Proxy({},{get:(_e,st)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(st)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=$.auth)!==null&&h!==void 0?h:{},this.headers,$.global.fetch),this.fetch=fetchWithAuth(s,this._getAccessToken.bind(this),$.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},$.realtime)),this.rest=new PostgrestClient(new URL("rest/v1",g).href,{headers:this.headers,schema:$.db.schema,fetch:this.fetch}),this.storage=new StorageClient(this.storageUrl.href,this.headers,this.fetch,o==null?void 0:o.storage),$.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},o={}){return this.rest.rpc(e,s,o)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return __awaiter$3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(s=(e=o.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:o,storage:c,userStorage:d,storageKey:h,flowType:g,lock:j,debug:_},$,_e){const st={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},st),$),storageKey:h,autoRefreshToken:e,persistSession:s,detectSessionInUrl:o,storage:c,userStorage:d,flowType:g,lock:j,debug:_,fetch:_e,hasCustomAuthorizationHeader:Object.keys(this.headers).some(rt=>rt.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,o)=>{this._handleTokenChanged(s,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(e,s,o){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const createClient=(i,e,s)=>new SupabaseClient(i,e,s);function shouldShowDeprecationWarning(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const e=i.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}shouldShowDeprecationWarning()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const SUPABASE_URL$1="https://vjpqqsrdtepbvckihekl.supabase.co",SUPABASE_ANON$1="sb_publishable_LVqfD06tBkUTGT6vfB5hNw_gis6tnm0",supabase$1=createClient(SUPABASE_URL$1,SUPABASE_ANON$1,{auth:{persistSession:!0,autoRefreshToken:!0}}),buttonVariants=cva("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:i,variant:e,size:s,asChild:o=!1,...c},d)=>{const h=o?Slot$3:"button";return jsxRuntimeExports.jsx(h,{className:cn(buttonVariants({variant:e,size:s,className:i})),ref:d,...c})});Button.displayName="Button";const Input=reactExports.forwardRef(({className:i,type:e,...s},o)=>jsxRuntimeExports.jsx("input",{type:e,className:cn("flex h-10 w-full rounded-md border border-border/60 bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),ref:o,...s}));Input.displayName="Input";var DirectionContext=reactExports.createContext(void 0);function useDirection(i){const e=reactExports.useContext(DirectionContext);return i||e||"ltr"}var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},GROUP_NAME$3="RovingFocusGroup",[Collection$2,useCollection$2,createCollectionScope$2]=createCollection(GROUP_NAME$3),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME$3,[createCollectionScope$2]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME$3),RovingFocusGroup=reactExports.forwardRef((i,e)=>jsxRuntimeExports.jsx(Collection$2.Provider,{scope:i.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection$2.Slot,{scope:i.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...i,ref:e})})}));RovingFocusGroup.displayName=GROUP_NAME$3;var RovingFocusGroupImpl=reactExports.forwardRef((i,e)=>{const{__scopeRovingFocusGroup:s,orientation:o,loop:c=!1,dir:d,currentTabStopId:h,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:j,onEntryFocus:_,preventScrollOnEntryFocus:$=!1,..._e}=i,st=reactExports.useRef(null),rt=useComposedRefs(e,st),it=useDirection(d),[nt,lt]=useControllableState({prop:h,defaultProp:g??null,onChange:j,caller:GROUP_NAME$3}),[ot,at]=reactExports.useState(!1),ct=useCallbackRef$1(_),ut=useCollection$2(s),ht=reactExports.useRef(!1),[mt,xt]=reactExports.useState(0);return reactExports.useEffect(()=>{const Et=st.current;if(Et)return Et.addEventListener(ENTRY_FOCUS,ct),()=>Et.removeEventListener(ENTRY_FOCUS,ct)},[ct]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:s,orientation:o,dir:it,loop:c,currentTabStopId:nt,onItemFocus:reactExports.useCallback(Et=>lt(Et),[lt]),onItemShiftTab:reactExports.useCallback(()=>at(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>xt(Et=>Et+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>xt(Et=>Et-1),[]),children:jsxRuntimeExports.jsx(Primitive.div,{tabIndex:ot||mt===0?-1:0,"data-orientation":o,..._e,ref:rt,style:{outline:"none",...i.style},onMouseDown:composeEventHandlers(i.onMouseDown,()=>{ht.current=!0}),onFocus:composeEventHandlers(i.onFocus,Et=>{const Tt=!ht.current;if(Et.target===Et.currentTarget&&Tt&&!ot){const St=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS$1);if(Et.currentTarget.dispatchEvent(St),!St.defaultPrevented){const gt=ut().filter(Mt=>Mt.focusable),Ct=gt.find(Mt=>Mt.active),At=gt.find(Mt=>Mt.id===nt),kt=[Ct,At,...gt].filter(Boolean).map(Mt=>Mt.ref.current);focusFirst$2(kt,$)}}ht.current=!1}),onBlur:composeEventHandlers(i.onBlur,()=>at(!1))})})}),ITEM_NAME$3="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((i,e)=>{const{__scopeRovingFocusGroup:s,focusable:o=!0,active:c=!1,tabStopId:d,children:h,...g}=i,j=useId(),_=d||j,$=useRovingFocusContext(ITEM_NAME$3,s),_e=$.currentTabStopId===_,st=useCollection$2(s),{onFocusableItemAdd:rt,onFocusableItemRemove:it,currentTabStopId:nt}=$;return reactExports.useEffect(()=>{if(o)return rt(),()=>it()},[o,rt,it]),jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:s,id:_,focusable:o,active:c,children:jsxRuntimeExports.jsx(Primitive.span,{tabIndex:_e?0:-1,"data-orientation":$.orientation,...g,ref:e,onMouseDown:composeEventHandlers(i.onMouseDown,lt=>{o?$.onItemFocus(_):lt.preventDefault()}),onFocus:composeEventHandlers(i.onFocus,()=>$.onItemFocus(_)),onKeyDown:composeEventHandlers(i.onKeyDown,lt=>{if(lt.key==="Tab"&&lt.shiftKey){$.onItemShiftTab();return}if(lt.target!==lt.currentTarget)return;const ot=getFocusIntent(lt,$.orientation,$.dir);if(ot!==void 0){if(lt.metaKey||lt.ctrlKey||lt.altKey||lt.shiftKey)return;lt.preventDefault();let ct=st().filter(ut=>ut.focusable).map(ut=>ut.ref.current);if(ot==="last")ct.reverse();else if(ot==="prev"||ot==="next"){ot==="prev"&&ct.reverse();const ut=ct.indexOf(lt.currentTarget);ct=$.loop?wrapArray$2(ct,ut+1):ct.slice(ut+1)}setTimeout(()=>focusFirst$2(ct))}}),children:typeof h=="function"?h({isCurrentTabStop:_e,hasTabStop:nt!=null}):h})})});RovingFocusGroupItem.displayName=ITEM_NAME$3;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(i,e){return e!=="rtl"?i:i==="ArrowLeft"?"ArrowRight":i==="ArrowRight"?"ArrowLeft":i}function getFocusIntent(i,e,s){const o=getDirectionAwareKey(i.key,s);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return MAP_KEY_TO_FOCUS_INTENT[o]}function focusFirst$2(i,e=!1){const s=document.activeElement;for(const o of i)if(o===s||(o.focus({preventScroll:e}),document.activeElement!==s))return}function wrapArray$2(i,e){return i.map((s,o)=>i[(e+o)%i.length])}var Root$7=RovingFocusGroup,Item$1=RovingFocusGroupItem,TABS_NAME="Tabs",[createTabsContext,createTabsScope]=createContextScope(TABS_NAME,[createRovingFocusGroupScope]),useRovingFocusGroupScope$1=createRovingFocusGroupScope(),[TabsProvider,useTabsContext]=createTabsContext(TABS_NAME),Tabs$1=reactExports.forwardRef((i,e)=>{const{__scopeTabs:s,value:o,onValueChange:c,defaultValue:d,orientation:h="horizontal",dir:g,activationMode:j="automatic",..._}=i,$=useDirection(g),[_e,st]=useControllableState({prop:o,onChange:c,defaultProp:d??"",caller:TABS_NAME});return jsxRuntimeExports.jsx(TabsProvider,{scope:s,baseId:useId(),value:_e,onValueChange:st,orientation:h,dir:$,activationMode:j,children:jsxRuntimeExports.jsx(Primitive.div,{dir:$,"data-orientation":h,..._,ref:e})})});Tabs$1.displayName=TABS_NAME;var TAB_LIST_NAME="TabsList",TabsList$1=reactExports.forwardRef((i,e)=>{const{__scopeTabs:s,loop:o=!0,...c}=i,d=useTabsContext(TAB_LIST_NAME,s),h=useRovingFocusGroupScope$1(s);return jsxRuntimeExports.jsx(Root$7,{asChild:!0,...h,orientation:d.orientation,dir:d.dir,loop:o,children:jsxRuntimeExports.jsx(Primitive.div,{role:"tablist","aria-orientation":d.orientation,...c,ref:e})})});TabsList$1.displayName=TAB_LIST_NAME;var TRIGGER_NAME$5="TabsTrigger",TabsTrigger$1=reactExports.forwardRef((i,e)=>{const{__scopeTabs:s,value:o,disabled:c=!1,...d}=i,h=useTabsContext(TRIGGER_NAME$5,s),g=useRovingFocusGroupScope$1(s),j=makeTriggerId(h.baseId,o),_=makeContentId(h.baseId,o),$=o===h.value;return jsxRuntimeExports.jsx(Item$1,{asChild:!0,...g,focusable:!c,active:$,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"tab","aria-selected":$,"aria-controls":_,"data-state":$?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:j,...d,ref:e,onMouseDown:composeEventHandlers(i.onMouseDown,_e=>{!c&&_e.button===0&&_e.ctrlKey===!1?h.onValueChange(o):_e.preventDefault()}),onKeyDown:composeEventHandlers(i.onKeyDown,_e=>{[" ","Enter"].includes(_e.key)&&h.onValueChange(o)}),onFocus:composeEventHandlers(i.onFocus,()=>{const _e=h.activationMode!=="manual";!$&&!c&&_e&&h.onValueChange(o)})})})});TabsTrigger$1.displayName=TRIGGER_NAME$5;var CONTENT_NAME$5="TabsContent",TabsContent$1=reactExports.forwardRef((i,e)=>{const{__scopeTabs:s,value:o,forceMount:c,children:d,...h}=i,g=useTabsContext(CONTENT_NAME$5,s),j=makeTriggerId(g.baseId,o),_=makeContentId(g.baseId,o),$=o===g.value,_e=reactExports.useRef($);return reactExports.useEffect(()=>{const st=requestAnimationFrame(()=>_e.current=!1);return()=>cancelAnimationFrame(st)},[]),jsxRuntimeExports.jsx(Presence,{present:c||$,children:({present:st})=>jsxRuntimeExports.jsx(Primitive.div,{"data-state":$?"active":"inactive","data-orientation":g.orientation,role:"tabpanel","aria-labelledby":j,hidden:!st,id:_,tabIndex:0,...h,ref:e,style:{...i.style,animationDuration:_e.current?"0s":void 0},children:st&&d})})});TabsContent$1.displayName=CONTENT_NAME$5;function makeTriggerId(i,e){return`${i}-trigger-${e}`}function makeContentId(i,e){return`${i}-content-${e}`}var Root2$3=Tabs$1,List=TabsList$1,Trigger$3=TabsTrigger$1,Content$1=TabsContent$1;const Tabs=Root2$3,TabsList=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(List,{ref:s,className:cn("inline-flex h-10 items-center justify-center rounded-md bg-muted/50 p-1 text-muted-foreground",i),...e}));TabsList.displayName=List.displayName;const TabsTrigger=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Trigger$3,{ref:s,className:cn("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm hover:text-foreground",i),...e}));TabsTrigger.displayName=Trigger$3.displayName;const TabsContent=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Content$1,{ref:s,className:cn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 animate-in fade-in-0 data-[state=inactive]:animate-out data-[state=inactive]:fade-out-0 duration-200",i),...e}));TabsContent.displayName=Content$1.displayName;const TeamMatch$1=()=>{const i=useNavigate(),[e,s]=reactExports.useState(""),[o,c]=reactExports.useState([]),[d,h]=reactExports.useState(!0);if(reactExports.useEffect(()=>{(async()=>{try{const{data:_,error:$}=await supabase$1.from("teams").select("*");if($)throw $;c(_||[])}catch(_){console.error("Error fetching teams:",_)}finally{h(!1)}})()},[]),d)return jsxRuntimeExports.jsx("div",{className:"p-6",children:"Loading teams..."});const g=o.filter(j=>{var _;return(_=j.name)==null?void 0:_.toLowerCase().includes(e.toLowerCase())});return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50",children:[jsxRuntimeExports.jsx("div",{className:"bg-white border-b",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>i("/"),className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"Back"]}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Find Your Perfect Team"})]})})}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-8",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search teams...",value:e,onChange:j=>s(j.target.value),className:"pl-10"})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-6",children:g.map(j=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:j.name||"Unnamed Team"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:j.description||"No description provided yet."}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"select",className:"mt-4",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"select",children:"Select Team"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"details",children:"View Details"})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"select",children:[jsxRuntimeExports.jsxs("div",{className:"mt-3 space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:j.hourly_rate?`$${j.hourly_rate}/hr`:"Rate not set"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:j.availability_status||"Availability not set"}),j.skills&&j.skills.length>0&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Skills: ",j.skills.join(", ")]})]}),jsxRuntimeExports.jsx(Button,{className:"mt-4",onClick:()=>i(`/hire/${j.id}`),children:"Select Team"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"details",children:jsxRuntimeExports.jsxs("div",{className:"mt-3 space-y-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Credentials: ",j.credentials||"Not uploaded"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Past Projects: ",j.past_projects||"Not uploaded"]})]})})]})]},j.id))}),g.length===0&&!d&&jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No teams found."})})]})]})};var NAME$1="Label",Label$3=reactExports.forwardRef((i,e)=>jsxRuntimeExports.jsx(Primitive.label,{...i,ref:e,onMouseDown:s=>{var c;s.target.closest("button, input, select, textarea")||((c=i.onMouseDown)==null||c.call(i,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Label$3.displayName=NAME$1;var Root$6=Label$3;const labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",{variants:{variant:{default:"text-foreground",muted:"text-muted-foreground",accent:"text-primary"},size:{default:"text-sm",xs:"text-xs",sm:"text-sm",lg:"text-base"}},defaultVariants:{variant:"default",size:"default"}}),Label$2=reactExports.forwardRef(({className:i,variant:e,size:s,...o},c)=>jsxRuntimeExports.jsx(Root$6,{ref:c,className:cn(labelVariants({variant:e,size:s}),i),...o}));Label$2.displayName=Root$6.displayName;const Card=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx("div",{ref:s,className:cn("rounded-lg border border-border/40 bg-background shadow-sm",i),...e}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx("div",{ref:s,className:cn("flex flex-col space-y-1.5 p-6",i),...e}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx("h3",{ref:s,className:cn("text-2xl font-semibold leading-none tracking-tight text-foreground",i),...e}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx("p",{ref:s,className:cn("text-sm text-muted-foreground",i),...e}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx("div",{ref:s,className:cn("p-6 pt-0",i),...e}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx("div",{ref:s,className:cn("flex items-center p-6 pt-0",i),...e}));CardFooter.displayName="CardFooter";const testAuthRedirectUrls=()=>{console.log("Testing authentication redirect URLs..."),[{next:null,intent:null,expected:"/start"},{next:"/dashboard",intent:"team",expected:"/dashboard"},{next:"/projects",intent:"client",expected:"/projects"},{next:null,intent:"team",expected:"/start"}].forEach((e,s)=>{const o=new URLSearchParams;e.next&&o.set("next",e.next),e.intent&&o.set("intent",e.intent),o.toString()&&`${o.toString()}`;const c=o.get("next")||"/start",d=o.get("intent")||"",h=`${window.location.origin}/auth/callback?next=${encodeURIComponent(c)}&intent=${d}`;console.log(`Test ${s+1}:`,{input:e,redirectTo:h,nextParam:c,intentParam:d})}),console.log("Authentication redirect URL tests completed!")},getDefaultRouteForRole=i=>{switch(i){case"client":return"/projects";case"team":return"/team-dashboard";case"admin":return"/admin";default:return"/"}},Login=()=>{const[i,e]=reactExports.useState("magic"),[s,o]=reactExports.useState(""),[c,d]=reactExports.useState(""),[h,g]=reactExports.useState(!1),j=useNavigate(),_=useLocation(),{toast:$}=useToast(),_e=reactExports.useMemo(()=>new URLSearchParams(_.search),[_.search]),st=_e.get("next")||"/start",rt=_e.get("intent")||"",it=`${window.location.origin}/auth/callback?next=${encodeURIComponent(st)}&intent=${rt}`,nt=`/signup?next=${encodeURIComponent(st)}&intent=${rt}`,lt=`/forgot-password?next=${encodeURIComponent(st)}&intent=${rt}`;async function ot(){const{error:ut}=await supabase$1.auth.signInWithOtp({email:s,options:{emailRedirectTo:it}});if(ut)throw ut;$({title:"Check your email!",description:"We sent you a magic link to sign in."})}async function at(){const{data:ut,error:ht}=await supabase$1.auth.signInWithPassword({email:s,password:c});if(ht)throw ht;let mt=null;if(ut.user){const{data:gt}=await supabase$1.from("profiles").select("role").eq("id",ut.user.id).single();mt=gt}const xt=new URLSearchParams(_.search),Et=xt.get("next"),Tt=xt.get("intent"),St=Et||(Tt==="team"?"/team-profile/create":Tt==="client"?"/projects?open=post-project":getDefaultRouteForRole(mt==null?void 0:mt.role));j(St,{replace:!0})}const ct=async ut=>{ut.preventDefault(),g(!0);try{i==="magic"?await ot():await at()}catch(ht){$({title:"Login failed",description:(ht==null?void 0:ht.message)||"Something went wrong.",variant:"destructive"})}finally{g(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"mx-auto mb-4",children:jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"LinkUp"})}),jsxRuntimeExports.jsx(CardTitle,{children:"Welcome back"}),jsxRuntimeExports.jsx(CardDescription,{children:"Sign in to your account"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:i==="magic"?"default":"outline",onClick:()=>e("magic"),children:"Magic link"}),jsxRuntimeExports.jsx(Button,{type:"button",variant:i==="password"?"default":"outline",onClick:()=>e("password"),children:"Email & password"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:ct,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"email",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",value:s,onChange:ut=>o(ut.target.value),required:!0,placeholder:"you@example.com"})]}),i==="password"&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"password",children:"Password"}),jsxRuntimeExports.jsx(Input,{id:"password",type:"password",autoComplete:"current-password",value:c,onChange:ut=>d(ut.target.value),required:!0})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full",disabled:h,children:h?i==="magic"?"Sending magic link...":"Signing in...":i==="magic"?"Sign in with magic link":"Sign in"})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-center",children:jsxRuntimeExports.jsx(Link,{to:lt,className:"text-sm text-blue-600 hover:underline",children:"Forgot password?"})}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-center",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",jsxRuntimeExports.jsx(Link,{to:nt,className:"text-blue-600 hover:underline font-medium",children:"Create one"})]})})]})]})})},useAuth=()=>{const[i,e]=reactExports.useState(null),[s,o]=reactExports.useState(!0);return reactExports.useEffect(()=>{(async()=>{const{data:{session:h}}=await supabase$1.auth.getSession();e((h==null?void 0:h.user)??null),o(!1)})();const{data:{subscription:d}}=supabase$1.auth.onAuthStateChange(async(h,g)=>{e((g==null?void 0:g.user)??null),o(!1)});return()=>d.unsubscribe()},[]),{user:i,loading:s,isAuthenticated:!!i&&!s}},SUPABASE_URL="https://vjpqqsrdtepbvckihekl.supabase.co",SUPABASE_ANON="sb_publishable_LVqfD06tBkUTGT6vfB5hNw_gis6tnm0",supabase=createClient(SUPABASE_URL,SUPABASE_ANON),SignUp=()=>{const i=useNavigate(),{isAuthenticated:e,setUser:s}=useAuth(),[o,c]=reactExports.useState("magic"),[d,h]=reactExports.useState(!1),[g,j]=reactExports.useState({fullName:"",email:"",password:"",confirm:""});reactExports.useEffect(()=>{e&&i("/",{replace:!0})},[e,i]);async function _(){const{error:st}=await supabase.auth.signInWithOtp({email:g.email,options:{emailRedirectTo:window.location.origin}});if(st)throw st;toast({title:"Check your email",description:"Magic link sent!"})}async function $(){if(g.password.length<8)throw new Error("Password must be at least 8 characters");if(g.password!==g.confirm)throw new Error("Passwords do not match");const{data:st,error:rt}=await supabase.auth.signUp({email:g.email,password:g.password});if(rt)throw rt;if(!st.user)throw new Error("Failed to create auth user");const it=st.user.id,{error:nt}=await supabase.from("users").insert([{id:it,email:g.email,full_name:g.fullName,account_type:"client"}]);if(nt)throw nt;s==null||s(st.user),toast({title:"Account created",description:"You are now signed up!"}),i("/",{replace:!0})}const _e=async st=>{st.preventDefault(),h(!0);try{o==="magic"?await _():await $()}catch(rt){toast({title:"Sign-up error",description:(rt==null?void 0:rt.message)||"Something went wrong",variant:"destructive"})}finally{h(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Create account"}),jsxRuntimeExports.jsx(CardDescription,{children:"Join LinkUp and start collaborating"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:o==="magic"?"default":"outline",onClick:()=>c("magic"),children:"Magic link"}),jsxRuntimeExports.jsx(Button,{type:"button",variant:o==="password"?"default":"outline",onClick:()=>c("password"),children:"Email & password"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:_e,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"fullName",children:"Full Name"}),jsxRuntimeExports.jsx(Input,{id:"fullName",type:"text",value:g.fullName,onChange:st=>j({...g,fullName:st.target.value}),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"email",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",value:g.email,onChange:st=>j({...g,email:st.target.value}),required:!0})]}),o==="password"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"password",children:"Password"}),jsxRuntimeExports.jsx(Input,{id:"password",type:"password",value:g.password,onChange:st=>j({...g,password:st.target.value}),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"confirm",children:"Confirm Password"}),jsxRuntimeExports.jsx(Input,{id:"confirm",type:"password",value:g.confirm,onChange:st=>j({...g,confirm:st.target.value}),required:!0})]})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full",disabled:d,children:d?"Creating account...":"Create account"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 text-center text-sm text-gray-600",children:["Already have an account?"," ",jsxRuntimeExports.jsx(Link,{to:"/signin",className:"text-blue-600 hover:underline",children:"Sign in"})]})]})]})})},badgeVariants=cva("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-all focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border-border",success:"border-transparent bg-green-500/20 text-green-700 dark:text-green-300 border-green-500/30",warning:"border-transparent bg-yellow-500/20 text-yellow-700 dark:text-yellow-300 border-yellow-500/30",info:"border-transparent bg-primary/10 text-primary border-primary/30"},size:{default:"px-2.5 py-0.5 text-xs",sm:"px-2 py-0.5 text-[10px]",lg:"px-3 py-0.5 text-sm"}},defaultVariants:{variant:"default",size:"default"}});function Badge({className:i,variant:e,size:s,...o}){return jsxRuntimeExports.jsx("div",{className:cn(badgeVariants({variant:e,size:s}),i),...o})}const useAnalytics=()=>{const[i,e]=reactExports.useState([{industry:"Software Development",avgCompletionTime:14.5,avgRating:4.7,projectCount:156,topPractices:["Agile methodology","Daily standups","Code reviews"]},{industry:"Design",avgCompletionTime:8.2,avgRating:4.8,projectCount:89,topPractices:["User research","Prototyping","Design systems"]}]),[s,o]=reactExports.useState([]),[c,d]=reactExports.useState(!1);return{metrics:i,trainingModules:s,loading:c,generateInsights:async()=>{d(!0),setTimeout(()=>d(!1),1e3)},generateTrainingContent:async _=>{const $={id:Date.now().toString(),title:`Best Practices for ${_}`,industry:_,content:`AI-generated training module for ${_} teams.`,practices:["Structured workflows","Performance tracking","Clear communication"],aiGenerated:!0,approved:!1};o(_e=>[..._e,$])},approveTrainingModule:async _=>{o($=>$.map(_e=>_e.id===_?{..._e,approved:!0}:_e))}}},AnalyticsDashboard=()=>{const{metrics:i,loading:e,generateInsights:s}=useAnalytics();return e?jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(o=>jsxRuntimeExports.jsx("div",{className:"h-48 bg-gray-200 rounded"},o))})]})}):jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"AI Analytics Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"Privacy-focused performance insights"})]}),jsxRuntimeExports.jsxs(Button,{onClick:s,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Brain,{className:"w-4 h-4"}),"Refresh Insights"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 bg-green-50 p-3 rounded-lg",children:[jsxRuntimeExports.jsx(Shield,{className:"w-4 h-4"}),"All data is anonymized and aggregated to protect team privacy"]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:i.map((o,c)=>jsxRuntimeExports.jsxs(Card,{className:"hover:shadow-lg transition-shadow",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:[o.industry,jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:[o.projectCount," projects"]})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-blue-500"}),jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["Avg: ",o.avgCompletionTime," days"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 text-yellow-500"}),jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["Rating: ",o.avgRating,"/5.0"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Top Practices:"}),jsxRuntimeExports.jsx("div",{className:"space-y-1",children:o.topPractices.map((d,h)=>jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:d},h))})]})]})]},c))})]})};function clamp(i,[e,s]){return Math.min(s,Math.max(e,i))}var count=0;function useFocusGuards(){reactExports.useEffect(()=>{const i=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",i[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",i[1]??createFocusGuard()),count++,()=>{count===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),count--}},[])}function createFocusGuard(){const i=document.createElement("span");return i.setAttribute("data-radix-focus-guard",""),i.tabIndex=0,i.style.outline="none",i.style.opacity="0",i.style.position="fixed",i.style.pointerEvents="none",i}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((i,e)=>{const{loop:s=!1,trapped:o=!1,onMountAutoFocus:c,onUnmountAutoFocus:d,...h}=i,[g,j]=reactExports.useState(null),_=useCallbackRef$1(c),$=useCallbackRef$1(d),_e=reactExports.useRef(null),st=useComposedRefs(e,nt=>j(nt)),rt=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(o){let nt=function(ct){if(rt.paused||!g)return;const ut=ct.target;g.contains(ut)?_e.current=ut:focus(_e.current,{select:!0})},lt=function(ct){if(rt.paused||!g)return;const ut=ct.relatedTarget;ut!==null&&(g.contains(ut)||focus(_e.current,{select:!0}))},ot=function(ct){if(document.activeElement===document.body)for(const ht of ct)ht.removedNodes.length>0&&focus(g)};document.addEventListener("focusin",nt),document.addEventListener("focusout",lt);const at=new MutationObserver(ot);return g&&at.observe(g,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",nt),document.removeEventListener("focusout",lt),at.disconnect()}}},[o,g,rt.paused]),reactExports.useEffect(()=>{if(g){focusScopesStack.add(rt);const nt=document.activeElement;if(!g.contains(nt)){const ot=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS);g.addEventListener(AUTOFOCUS_ON_MOUNT,_),g.dispatchEvent(ot),ot.defaultPrevented||(focusFirst$1(removeLinks(getTabbableCandidates(g)),{select:!0}),document.activeElement===nt&&focus(g))}return()=>{g.removeEventListener(AUTOFOCUS_ON_MOUNT,_),setTimeout(()=>{const ot=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS);g.addEventListener(AUTOFOCUS_ON_UNMOUNT,$),g.dispatchEvent(ot),ot.defaultPrevented||focus(nt??document.body,{select:!0}),g.removeEventListener(AUTOFOCUS_ON_UNMOUNT,$),focusScopesStack.remove(rt)},0)}}},[g,_,$,rt]);const it=reactExports.useCallback(nt=>{if(!s&&!o||rt.paused)return;const lt=nt.key==="Tab"&&!nt.altKey&&!nt.ctrlKey&&!nt.metaKey,ot=document.activeElement;if(lt&&ot){const at=nt.currentTarget,[ct,ut]=getTabbableEdges(at);ct&&ut?!nt.shiftKey&&ot===ut?(nt.preventDefault(),s&&focus(ct,{select:!0})):nt.shiftKey&&ot===ct&&(nt.preventDefault(),s&&focus(ut,{select:!0})):ot===at&&nt.preventDefault()}},[s,o,rt.paused]);return jsxRuntimeExports.jsx(Primitive.div,{tabIndex:-1,...h,ref:st,onKeyDown:it})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst$1(i,{select:e=!1}={}){const s=document.activeElement;for(const o of i)if(focus(o,{select:e}),document.activeElement!==s)return}function getTabbableEdges(i){const e=getTabbableCandidates(i),s=findVisible(e,i),o=findVisible(e.reverse(),i);return[s,o]}function getTabbableCandidates(i){const e=[],s=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const c=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||c?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)e.push(s.currentNode);return e}function findVisible(i,e){for(const s of i)if(!isHidden(s,{upTo:e}))return s}function isHidden(i,{upTo:e}){if(getComputedStyle(i).visibility==="hidden")return!0;for(;i;){if(e!==void 0&&i===e)return!1;if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1}function isSelectableInput(i){return i instanceof HTMLInputElement&&"select"in i}function focus(i,{select:e=!1}={}){if(i&&i.focus){const s=document.activeElement;i.focus({preventScroll:!0}),i!==s&&isSelectableInput(i)&&e&&i.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let i=[];return{add(e){const s=i[0];e!==s&&(s==null||s.pause()),i=arrayRemove(i,e),i.unshift(e)},remove(e){var s;i=arrayRemove(i,e),(s=i[0])==null||s.resume()}}}function arrayRemove(i,e){const s=[...i],o=s.indexOf(e);return o!==-1&&s.splice(o,1),s}function removeLinks(i){return i.filter(e=>e.tagName!=="A")}function usePrevious(i){const e=reactExports.useRef({value:i,previous:i});return reactExports.useMemo(()=>(e.current.value!==i&&(e.current.previous=e.current.value,e.current.value=i),e.current.previous),[i])}var getDefaultParent=function(i){if(typeof document>"u")return null;var e=Array.isArray(i)?i[0]:i;return e.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(i){return i&&(i.host||unwrapHost(i.parentNode))},correctTargets=function(i,e){return e.map(function(s){if(i.contains(s))return s;var o=unwrapHost(s);return o&&i.contains(o)?o:(console.error("aria-hidden",s,"in not contained inside",i,". Doing nothing"),null)}).filter(function(s){return!!s})},applyAttributeToOthers=function(i,e,s,o){var c=correctTargets(e,Array.isArray(i)?i:[i]);markerMap[s]||(markerMap[s]=new WeakMap);var d=markerMap[s],h=[],g=new Set,j=new Set(c),_=function(_e){!_e||g.has(_e)||(g.add(_e),_(_e.parentNode))};c.forEach(_);var $=function(_e){!_e||j.has(_e)||Array.prototype.forEach.call(_e.children,function(st){if(g.has(st))$(st);else try{var rt=st.getAttribute(o),it=rt!==null&&rt!=="false",nt=(counterMap.get(st)||0)+1,lt=(d.get(st)||0)+1;counterMap.set(st,nt),d.set(st,lt),h.push(st),nt===1&&it&&uncontrolledNodes.set(st,!0),lt===1&&st.setAttribute(s,"true"),it||st.setAttribute(o,"true")}catch(ot){console.error("aria-hidden: cannot operate on ",st,ot)}})};return $(e),g.clear(),lockCount++,function(){h.forEach(function(_e){var st=counterMap.get(_e)-1,rt=d.get(_e)-1;counterMap.set(_e,st),d.set(_e,rt),st||(uncontrolledNodes.has(_e)||_e.removeAttribute(o),uncontrolledNodes.delete(_e)),rt||_e.removeAttribute(s)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(i,e,s){s===void 0&&(s="data-aria-hidden");var o=Array.from(Array.isArray(i)?i:[i]),c=getDefaultParent(i);return c?(o.push.apply(o,Array.from(c.querySelectorAll("[aria-live], script"))),applyAttributeToOthers(o,c,s,"aria-hidden")):function(){return null}},__assign=function(){return __assign=Object.assign||function(e){for(var s,o=1,c=arguments.length;o<c;o++){s=arguments[o];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(e[d]=s[d])}return e},__assign.apply(this,arguments)};function __rest$5(i,e){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&e.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(i);c<o.length;c++)e.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(i,o[c])&&(s[o[c]]=i[o[c]]);return s}function __spreadArray(i,e,s){if(s||arguments.length===2)for(var o=0,c=e.length,d;o<c;o++)(d||!(o in e))&&(d||(d=Array.prototype.slice.call(e,0,o)),d[o]=e[o]);return i.concat(d||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(i,e){return typeof i=="function"?i(e):i&&(i.current=e),i}function useCallbackRef(i,e){var s=reactExports.useState(function(){return{value:i,callback:e,facade:{get current(){return s.value},set current(o){var c=s.value;c!==o&&(s.value=o,s.callback(o,c))}}}})[0];return s.callback=e,s.facade}var useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(i,e){var s=useCallbackRef(null,function(o){return i.forEach(function(c){return assignRef(c,o)})});return useIsomorphicLayoutEffect(function(){var o=currentValues.get(s);if(o){var c=new Set(o),d=new Set(i),h=s.current;c.forEach(function(g){d.has(g)||assignRef(g,null)}),d.forEach(function(g){c.has(g)||assignRef(g,h)})}currentValues.set(s,i)},[i]),s}function ItoI(i){return i}function innerCreateMedium(i,e){e===void 0&&(e=ItoI);var s=[],o=!1,c={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:i},useMedium:function(d){var h=e(d,o);return s.push(h),function(){s=s.filter(function(g){return g!==h})}},assignSyncMedium:function(d){for(o=!0;s.length;){var h=s;s=[],h.forEach(d)}s={push:function(g){return d(g)},filter:function(){return s}}},assignMedium:function(d){o=!0;var h=[];if(s.length){var g=s;s=[],g.forEach(d),h=s}var j=function(){var $=h;h=[],$.forEach(d)},_=function(){return Promise.resolve().then(j)};_(),s={push:function($){h.push($),_()},filter:function($){return h=h.filter($),s}}}};return c}function createSidecarMedium(i){i===void 0&&(i={});var e=innerCreateMedium(null);return e.options=__assign({async:!0,ssr:!1},i),e}var SideCar$1=function(i){var e=i.sideCar,s=__rest$5(i,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return reactExports.createElement(o,__assign({},s))};SideCar$1.isSideCarExport=!0;function exportSidecar(i,e){return i.useMedium(e),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(i,e){var s=reactExports.useRef(null),o=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),c=o[0],d=o[1],h=i.forwardProps,g=i.children,j=i.className,_=i.removeScrollBar,$=i.enabled,_e=i.shards,st=i.sideCar,rt=i.noRelative,it=i.noIsolation,nt=i.inert,lt=i.allowPinchZoom,ot=i.as,at=ot===void 0?"div":ot,ct=i.gapMode,ut=__rest$5(i,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),ht=st,mt=useMergeRefs([s,e]),xt=__assign(__assign({},ut),c);return reactExports.createElement(reactExports.Fragment,null,$&&reactExports.createElement(ht,{sideCar:effectCar,removeScrollBar:_,shards:_e,noRelative:rt,noIsolation:it,inert:nt,setCallbacks:d,allowPinchZoom:!!lt,lockRef:s,gapMode:ct}),h?reactExports.cloneElement(reactExports.Children.only(g),__assign(__assign({},xt),{ref:mt})):reactExports.createElement(at,__assign({},xt,{className:j,ref:mt}),g))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var i=document.createElement("style");i.type="text/css";var e=getNonce();return e&&i.setAttribute("nonce",e),i}function injectStyles(i,e){i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}function insertStyleTag(i){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(i)}var stylesheetSingleton=function(){var i=0,e=null;return{add:function(s){i==0&&(e=makeStyleTag())&&(injectStyles(e,s),insertStyleTag(e)),i++},remove:function(){i--,!i&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},styleHookSingleton=function(){var i=stylesheetSingleton();return function(e,s){reactExports.useEffect(function(){return i.add(e),function(){i.remove()}},[e&&s])}},styleSingleton=function(){var i=styleHookSingleton(),e=function(s){var o=s.styles,c=s.dynamic;return i(o,c),null};return e},zeroGap={left:0,top:0,right:0,gap:0},parse=function(i){return parseInt(i||"",10)||0},getOffset=function(i){var e=window.getComputedStyle(document.body),s=e[i==="padding"?"paddingLeft":"marginLeft"],o=e[i==="padding"?"paddingTop":"marginTop"],c=e[i==="padding"?"paddingRight":"marginRight"];return[parse(s),parse(o),parse(c)]},getGapWidth=function(i){if(i===void 0&&(i="margin"),typeof window>"u")return zeroGap;var e=getOffset(i),s=document.documentElement.clientWidth,o=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,o-s+e[2]-e[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(i,e,s,o){var c=i.left,d=i.top,h=i.right,g=i.gap;return s===void 0&&(s="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(g,"px ").concat(o,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(o,";"),s==="margin"&&`
    padding-left: `.concat(c,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(g,"px ").concat(o,`;
    `),s==="padding"&&"padding-right: ".concat(g,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(g,"px ").concat(o,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(g,"px ").concat(o,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(g,`px;
  }
`)},getCurrentUseCounter=function(){var i=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(i)?i:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var i=getCurrentUseCounter()-1;i<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,i.toString())}},[])},RemoveScrollBar=function(i){var e=i.noRelative,s=i.noImportant,o=i.gapMode,c=o===void 0?"margin":o;useLockAttribute();var d=reactExports.useMemo(function(){return getGapWidth(c)},[c]);return reactExports.createElement(Style,{styles:getStyles(d,!e,c,s?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(i){return i.tagName==="TEXTAREA"},elementCanBeScrolled=function(i,e){if(!(i instanceof Element))return!1;var s=window.getComputedStyle(i);return s[e]!=="hidden"&&!(s.overflowY===s.overflowX&&!alwaysContainsScroll(i)&&s[e]==="visible")},elementCouldBeVScrolled=function(i){return elementCanBeScrolled(i,"overflowY")},elementCouldBeHScrolled=function(i){return elementCanBeScrolled(i,"overflowX")},locationCouldBeScrolled=function(i,e){var s=e.ownerDocument,o=e;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var c=elementCouldBeScrolled(i,o);if(c){var d=getScrollVariables(i,o),h=d[1],g=d[2];if(h>g)return!0}o=o.parentNode}while(o&&o!==s.body);return!1},getVScrollVariables=function(i){var e=i.scrollTop,s=i.scrollHeight,o=i.clientHeight;return[e,s,o]},getHScrollVariables=function(i){var e=i.scrollLeft,s=i.scrollWidth,o=i.clientWidth;return[e,s,o]},elementCouldBeScrolled=function(i,e){return i==="v"?elementCouldBeVScrolled(e):elementCouldBeHScrolled(e)},getScrollVariables=function(i,e){return i==="v"?getVScrollVariables(e):getHScrollVariables(e)},getDirectionFactor=function(i,e){return i==="h"&&e==="rtl"?-1:1},handleScroll=function(i,e,s,o,c){var d=getDirectionFactor(i,window.getComputedStyle(e).direction),h=d*o,g=s.target,j=e.contains(g),_=!1,$=h>0,_e=0,st=0;do{if(!g)break;var rt=getScrollVariables(i,g),it=rt[0],nt=rt[1],lt=rt[2],ot=nt-lt-d*it;(it||ot)&&elementCouldBeScrolled(i,g)&&(_e+=ot,st+=it);var at=g.parentNode;g=at&&at.nodeType===Node.DOCUMENT_FRAGMENT_NODE?at.host:at}while(!j&&g!==document.body||j&&(e.contains(g)||e===g));return($&&Math.abs(_e)<1||!$&&Math.abs(st)<1)&&(_=!0),_},getTouchXY=function(i){return"changedTouches"in i?[i.changedTouches[0].clientX,i.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(i){return[i.deltaX,i.deltaY]},extractRef=function(i){return i&&"current"in i?i.current:i},deltaCompare=function(i,e){return i[0]===e[0]&&i[1]===e[1]},generateStyle=function(i){return`
  .block-interactivity-`.concat(i,` {pointer-events: none;}
  .allow-interactivity-`).concat(i,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(i){var e=reactExports.useRef([]),s=reactExports.useRef([0,0]),o=reactExports.useRef(),c=reactExports.useState(idCounter++)[0],d=reactExports.useState(styleSingleton)[0],h=reactExports.useRef(i);reactExports.useEffect(function(){h.current=i},[i]),reactExports.useEffect(function(){if(i.inert){document.body.classList.add("block-interactivity-".concat(c));var nt=__spreadArray([i.lockRef.current],(i.shards||[]).map(extractRef),!0).filter(Boolean);return nt.forEach(function(lt){return lt.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),nt.forEach(function(lt){return lt.classList.remove("allow-interactivity-".concat(c))})}}},[i.inert,i.lockRef.current,i.shards]);var g=reactExports.useCallback(function(nt,lt){if("touches"in nt&&nt.touches.length===2||nt.type==="wheel"&&nt.ctrlKey)return!h.current.allowPinchZoom;var ot=getTouchXY(nt),at=s.current,ct="deltaX"in nt?nt.deltaX:at[0]-ot[0],ut="deltaY"in nt?nt.deltaY:at[1]-ot[1],ht,mt=nt.target,xt=Math.abs(ct)>Math.abs(ut)?"h":"v";if("touches"in nt&&xt==="h"&&mt.type==="range")return!1;var Et=locationCouldBeScrolled(xt,mt);if(!Et)return!0;if(Et?ht=xt:(ht=xt==="v"?"h":"v",Et=locationCouldBeScrolled(xt,mt)),!Et)return!1;if(!o.current&&"changedTouches"in nt&&(ct||ut)&&(o.current=ht),!ht)return!0;var Tt=o.current||ht;return handleScroll(Tt,lt,nt,Tt==="h"?ct:ut)},[]),j=reactExports.useCallback(function(nt){var lt=nt;if(!(!lockStack.length||lockStack[lockStack.length-1]!==d)){var ot="deltaY"in lt?getDeltaXY(lt):getTouchXY(lt),at=e.current.filter(function(ht){return ht.name===lt.type&&(ht.target===lt.target||lt.target===ht.shadowParent)&&deltaCompare(ht.delta,ot)})[0];if(at&&at.should){lt.cancelable&&lt.preventDefault();return}if(!at){var ct=(h.current.shards||[]).map(extractRef).filter(Boolean).filter(function(ht){return ht.contains(lt.target)}),ut=ct.length>0?g(lt,ct[0]):!h.current.noIsolation;ut&&lt.cancelable&&lt.preventDefault()}}},[]),_=reactExports.useCallback(function(nt,lt,ot,at){var ct={name:nt,delta:lt,target:ot,should:at,shadowParent:getOutermostShadowParent(ot)};e.current.push(ct),setTimeout(function(){e.current=e.current.filter(function(ut){return ut!==ct})},1)},[]),$=reactExports.useCallback(function(nt){s.current=getTouchXY(nt),o.current=void 0},[]),_e=reactExports.useCallback(function(nt){_(nt.type,getDeltaXY(nt),nt.target,g(nt,i.lockRef.current))},[]),st=reactExports.useCallback(function(nt){_(nt.type,getTouchXY(nt),nt.target,g(nt,i.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(d),i.setCallbacks({onScrollCapture:_e,onWheelCapture:_e,onTouchMoveCapture:st}),document.addEventListener("wheel",j,nonPassive),document.addEventListener("touchmove",j,nonPassive),document.addEventListener("touchstart",$,nonPassive),function(){lockStack=lockStack.filter(function(nt){return nt!==d}),document.removeEventListener("wheel",j,nonPassive),document.removeEventListener("touchmove",j,nonPassive),document.removeEventListener("touchstart",$,nonPassive)}},[]);var rt=i.removeScrollBar,it=i.inert;return reactExports.createElement(reactExports.Fragment,null,it?reactExports.createElement(d,{styles:generateStyle(c)}):null,rt?reactExports.createElement(RemoveScrollBar,{noRelative:i.noRelative,gapMode:i.gapMode}):null)}function getOutermostShadowParent(i){for(var e=null;i!==null;)i instanceof ShadowRoot&&(e=i.host,i=i.host),i=i.parentNode;return e}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(i,e){return reactExports.createElement(RemoveScroll,__assign({},i,{ref:e,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS$1=[" ","Enter"],SELECT_NAME="Select",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(SELECT_NAME),[createSelectContext,createSelectScope]=createContextScope(SELECT_NAME,[createCollectionScope$1,createPopperScope]),usePopperScope$1=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext(SELECT_NAME),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext(SELECT_NAME),Select$1=i=>{const{__scopeSelect:e,children:s,open:o,defaultOpen:c,onOpenChange:d,value:h,defaultValue:g,onValueChange:j,dir:_,name:$,autoComplete:_e,disabled:st,required:rt,form:it}=i,nt=usePopperScope$1(e),[lt,ot]=reactExports.useState(null),[at,ct]=reactExports.useState(null),[ut,ht]=reactExports.useState(!1),mt=useDirection(_),[xt,Et]=useControllableState({prop:o,defaultProp:c??!1,onChange:d,caller:SELECT_NAME}),[Tt,St]=useControllableState({prop:h,defaultProp:g,onChange:j,caller:SELECT_NAME}),gt=reactExports.useRef(null),Ct=lt?it||!!lt.closest("form"):!0,[At,Rt]=reactExports.useState(new Set),kt=Array.from(At).map(Mt=>Mt.props.value).join(";");return jsxRuntimeExports.jsx(Root2$4,{...nt,children:jsxRuntimeExports.jsxs(SelectProvider,{required:rt,scope:e,trigger:lt,onTriggerChange:ot,valueNode:at,onValueNodeChange:ct,valueNodeHasChildren:ut,onValueNodeHasChildrenChange:ht,contentId:useId(),value:Tt,onValueChange:St,open:xt,onOpenChange:Et,dir:mt,triggerPointerDownPosRef:gt,disabled:st,children:[jsxRuntimeExports.jsx(Collection$1.Provider,{scope:e,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:i.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(Mt=>{Rt(It=>new Set(It).add(Mt))},[]),onNativeOptionRemove:reactExports.useCallback(Mt=>{Rt(It=>{const Nt=new Set(It);return Nt.delete(Mt),Nt})},[]),children:s})}),Ct?jsxRuntimeExports.jsxs(SelectBubbleInput,{"aria-hidden":!0,required:rt,tabIndex:-1,name:$,autoComplete:_e,value:Tt,onChange:Mt=>St(Mt.target.value),disabled:st,form:it,children:[Tt===void 0?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(At)]},kt):null]})})};Select$1.displayName=SELECT_NAME;var TRIGGER_NAME$4="SelectTrigger",SelectTrigger$1=reactExports.forwardRef((i,e)=>{const{__scopeSelect:s,disabled:o=!1,...c}=i,d=usePopperScope$1(s),h=useSelectContext(TRIGGER_NAME$4,s),g=h.disabled||o,j=useComposedRefs(e,h.onTriggerChange),_=useCollection$1(s),$=reactExports.useRef("touch"),[_e,st,rt]=useTypeaheadSearch(nt=>{const lt=_().filter(ct=>!ct.disabled),ot=lt.find(ct=>ct.value===h.value),at=findNextItem(lt,nt,ot);at!==void 0&&h.onValueChange(at.value)}),it=nt=>{g||(h.onOpenChange(!0),rt()),nt&&(h.triggerPointerDownPosRef.current={x:Math.round(nt.pageX),y:Math.round(nt.pageY)})};return jsxRuntimeExports.jsx(Anchor,{asChild:!0,...d,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"combobox","aria-controls":h.contentId,"aria-expanded":h.open,"aria-required":h.required,"aria-autocomplete":"none",dir:h.dir,"data-state":h.open?"open":"closed",disabled:g,"data-disabled":g?"":void 0,"data-placeholder":shouldShowPlaceholder(h.value)?"":void 0,...c,ref:j,onClick:composeEventHandlers(c.onClick,nt=>{nt.currentTarget.focus(),$.current!=="mouse"&&it(nt)}),onPointerDown:composeEventHandlers(c.onPointerDown,nt=>{$.current=nt.pointerType;const lt=nt.target;lt.hasPointerCapture(nt.pointerId)&&lt.releasePointerCapture(nt.pointerId),nt.button===0&&nt.ctrlKey===!1&&nt.pointerType==="mouse"&&(it(nt),nt.preventDefault())}),onKeyDown:composeEventHandlers(c.onKeyDown,nt=>{const lt=_e.current!=="";!(nt.ctrlKey||nt.altKey||nt.metaKey)&&nt.key.length===1&&st(nt.key),!(lt&&nt.key===" ")&&OPEN_KEYS.includes(nt.key)&&(it(),nt.preventDefault())})})})});SelectTrigger$1.displayName=TRIGGER_NAME$4;var VALUE_NAME="SelectValue",SelectValue$1=reactExports.forwardRef((i,e)=>{const{__scopeSelect:s,className:o,style:c,children:d,placeholder:h="",...g}=i,j=useSelectContext(VALUE_NAME,s),{onValueNodeHasChildrenChange:_}=j,$=d!==void 0,_e=useComposedRefs(e,j.onValueNodeChange);return useLayoutEffect2(()=>{_($)},[_,$]),jsxRuntimeExports.jsx(Primitive.span,{...g,ref:_e,style:{pointerEvents:"none"},children:shouldShowPlaceholder(j.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:h}):d})});SelectValue$1.displayName=VALUE_NAME;var ICON_NAME="SelectIcon",SelectIcon=reactExports.forwardRef((i,e)=>{const{__scopeSelect:s,children:o,...c}=i;return jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...c,ref:e,children:o||""})});SelectIcon.displayName=ICON_NAME;var PORTAL_NAME$4="SelectPortal",SelectPortal=i=>jsxRuntimeExports.jsx(Portal$3,{asChild:!0,...i});SelectPortal.displayName=PORTAL_NAME$4;var CONTENT_NAME$4="SelectContent",SelectContent$1=reactExports.forwardRef((i,e)=>{const s=useSelectContext(CONTENT_NAME$4,i.__scopeSelect),[o,c]=reactExports.useState();if(useLayoutEffect2(()=>{c(new DocumentFragment)},[]),!s.open){const d=o;return d?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:i.__scopeSelect,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:i.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:i.children})})}),d):null}return jsxRuntimeExports.jsx(SelectContentImpl,{...i,ref:e})});SelectContent$1.displayName=CONTENT_NAME$4;var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext(CONTENT_NAME$4),CONTENT_IMPL_NAME="SelectContentImpl",Slot$2=createSlot("SelectContent.RemoveScroll"),SelectContentImpl=reactExports.forwardRef((i,e)=>{const{__scopeSelect:s,position:o="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,side:g,sideOffset:j,align:_,alignOffset:$,arrowPadding:_e,collisionBoundary:st,collisionPadding:rt,sticky:it,hideWhenDetached:nt,avoidCollisions:lt,...ot}=i,at=useSelectContext(CONTENT_NAME$4,s),[ct,ut]=reactExports.useState(null),[ht,mt]=reactExports.useState(null),xt=useComposedRefs(e,$t=>ut($t)),[Et,Tt]=reactExports.useState(null),[St,gt]=reactExports.useState(null),Ct=useCollection$1(s),[At,Rt]=reactExports.useState(!1),kt=reactExports.useRef(!1);reactExports.useEffect(()=>{if(ct)return hideOthers(ct)},[ct]),useFocusGuards();const Mt=reactExports.useCallback($t=>{const[Zt,...Jt]=Ct().map(as=>as.ref.current),[qt]=Jt.slice(-1),ns=document.activeElement;for(const as of $t)if(as===ns||(as==null||as.scrollIntoView({block:"nearest"}),as===Zt&&ht&&(ht.scrollTop=0),as===qt&&ht&&(ht.scrollTop=ht.scrollHeight),as==null||as.focus(),document.activeElement!==ns))return},[Ct,ht]),It=reactExports.useCallback(()=>Mt([Et,ct]),[Mt,Et,ct]);reactExports.useEffect(()=>{At&&It()},[At,It]);const{onOpenChange:Nt,triggerPointerDownPosRef:Pt}=at;reactExports.useEffect(()=>{if(ct){let $t={x:0,y:0};const Zt=qt=>{var ns,as;$t={x:Math.abs(Math.round(qt.pageX)-(((ns=Pt.current)==null?void 0:ns.x)??0)),y:Math.abs(Math.round(qt.pageY)-(((as=Pt.current)==null?void 0:as.y)??0))}},Jt=qt=>{$t.x<=10&&$t.y<=10?qt.preventDefault():ct.contains(qt.target)||Nt(!1),document.removeEventListener("pointermove",Zt),Pt.current=null};return Pt.current!==null&&(document.addEventListener("pointermove",Zt),document.addEventListener("pointerup",Jt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Zt),document.removeEventListener("pointerup",Jt,{capture:!0})}}},[ct,Nt,Pt]),reactExports.useEffect(()=>{const $t=()=>Nt(!1);return window.addEventListener("blur",$t),window.addEventListener("resize",$t),()=>{window.removeEventListener("blur",$t),window.removeEventListener("resize",$t)}},[Nt]);const[Lt,Bt]=useTypeaheadSearch($t=>{const Zt=Ct().filter(ns=>!ns.disabled),Jt=Zt.find(ns=>ns.ref.current===document.activeElement),qt=findNextItem(Zt,$t,Jt);qt&&setTimeout(()=>qt.ref.current.focus())}),Dt=reactExports.useCallback(($t,Zt,Jt)=>{const qt=!kt.current&&!Jt;(at.value!==void 0&&at.value===Zt||qt)&&(Tt($t),qt&&(kt.current=!0))},[at.value]),Ht=reactExports.useCallback(()=>ct==null?void 0:ct.focus(),[ct]),Gt=reactExports.useCallback(($t,Zt,Jt)=>{const qt=!kt.current&&!Jt;(at.value!==void 0&&at.value===Zt||qt)&&gt($t)},[at.value]),rs=o==="popper"?SelectPopperPosition:SelectItemAlignedPosition,Xt=rs===SelectPopperPosition?{side:g,sideOffset:j,align:_,alignOffset:$,arrowPadding:_e,collisionBoundary:st,collisionPadding:rt,sticky:it,hideWhenDetached:nt,avoidCollisions:lt}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:s,content:ct,viewport:ht,onViewportChange:mt,itemRefCallback:Dt,selectedItem:Et,onItemLeave:Ht,itemTextRefCallback:Gt,focusSelectedItem:It,selectedItemText:St,position:o,isPositioned:At,searchRef:Lt,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$2,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:at.open,onMountAutoFocus:$t=>{$t.preventDefault()},onUnmountAutoFocus:composeEventHandlers(c,$t=>{var Zt;(Zt=at.trigger)==null||Zt.focus({preventScroll:!0}),$t.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:$t=>$t.preventDefault(),onDismiss:()=>at.onOpenChange(!1),children:jsxRuntimeExports.jsx(rs,{role:"listbox",id:at.contentId,"data-state":at.open?"open":"closed",dir:at.dir,onContextMenu:$t=>$t.preventDefault(),...ot,...Xt,onPlaced:()=>Rt(!0),ref:xt,style:{display:"flex",flexDirection:"column",outline:"none",...ot.style},onKeyDown:composeEventHandlers(ot.onKeyDown,$t=>{const Zt=$t.ctrlKey||$t.altKey||$t.metaKey;if($t.key==="Tab"&&$t.preventDefault(),!Zt&&$t.key.length===1&&Bt($t.key),["ArrowUp","ArrowDown","Home","End"].includes($t.key)){let qt=Ct().filter(ns=>!ns.disabled).map(ns=>ns.ref.current);if(["ArrowUp","End"].includes($t.key)&&(qt=qt.slice().reverse()),["ArrowUp","ArrowDown"].includes($t.key)){const ns=$t.target,as=qt.indexOf(ns);qt=qt.slice(as+1)}setTimeout(()=>Mt(qt)),$t.preventDefault()}})})})})})})});SelectContentImpl.displayName=CONTENT_IMPL_NAME;var ITEM_ALIGNED_POSITION_NAME="SelectItemAlignedPosition",SelectItemAlignedPosition=reactExports.forwardRef((i,e)=>{const{__scopeSelect:s,onPlaced:o,...c}=i,d=useSelectContext(CONTENT_NAME$4,s),h=useSelectContentContext(CONTENT_NAME$4,s),[g,j]=reactExports.useState(null),[_,$]=reactExports.useState(null),_e=useComposedRefs(e,xt=>$(xt)),st=useCollection$1(s),rt=reactExports.useRef(!1),it=reactExports.useRef(!0),{viewport:nt,selectedItem:lt,selectedItemText:ot,focusSelectedItem:at}=h,ct=reactExports.useCallback(()=>{if(d.trigger&&d.valueNode&&g&&_&&nt&&lt&&ot){const xt=d.trigger.getBoundingClientRect(),Et=_.getBoundingClientRect(),Tt=d.valueNode.getBoundingClientRect(),St=ot.getBoundingClientRect();if(d.dir!=="rtl"){const ns=St.left-Et.left,as=Tt.left-ns,es=xt.left-as,us=xt.width+es,ys=Math.max(us,Et.width),vs=window.innerWidth-CONTENT_MARGIN,nr=clamp(as,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,vs-ys)]);g.style.minWidth=us+"px",g.style.left=nr+"px"}else{const ns=Et.right-St.right,as=window.innerWidth-Tt.right-ns,es=window.innerWidth-xt.right-as,us=xt.width+es,ys=Math.max(us,Et.width),vs=window.innerWidth-CONTENT_MARGIN,nr=clamp(as,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,vs-ys)]);g.style.minWidth=us+"px",g.style.right=nr+"px"}const gt=st(),Ct=window.innerHeight-CONTENT_MARGIN*2,At=nt.scrollHeight,Rt=window.getComputedStyle(_),kt=parseInt(Rt.borderTopWidth,10),Mt=parseInt(Rt.paddingTop,10),It=parseInt(Rt.borderBottomWidth,10),Nt=parseInt(Rt.paddingBottom,10),Pt=kt+Mt+At+Nt+It,Lt=Math.min(lt.offsetHeight*5,Pt),Bt=window.getComputedStyle(nt),Dt=parseInt(Bt.paddingTop,10),Ht=parseInt(Bt.paddingBottom,10),Gt=xt.top+xt.height/2-CONTENT_MARGIN,rs=Ct-Gt,Xt=lt.offsetHeight/2,$t=lt.offsetTop+Xt,Zt=kt+Mt+$t,Jt=Pt-Zt;if(Zt<=Gt){const ns=gt.length>0&&lt===gt[gt.length-1].ref.current;g.style.bottom="0px";const as=_.clientHeight-nt.offsetTop-nt.offsetHeight,es=Math.max(rs,Xt+(ns?Ht:0)+as+It),us=Zt+es;g.style.height=us+"px"}else{const ns=gt.length>0&&lt===gt[0].ref.current;g.style.top="0px";const es=Math.max(Gt,kt+nt.offsetTop+(ns?Dt:0)+Xt)+Jt;g.style.height=es+"px",nt.scrollTop=Zt-Gt+nt.offsetTop}g.style.margin=`${CONTENT_MARGIN}px 0`,g.style.minHeight=Lt+"px",g.style.maxHeight=Ct+"px",o==null||o(),requestAnimationFrame(()=>rt.current=!0)}},[st,d.trigger,d.valueNode,g,_,nt,lt,ot,d.dir,o]);useLayoutEffect2(()=>ct(),[ct]);const[ut,ht]=reactExports.useState();useLayoutEffect2(()=>{_&&ht(window.getComputedStyle(_).zIndex)},[_]);const mt=reactExports.useCallback(xt=>{xt&&it.current===!0&&(ct(),at==null||at(),it.current=!1)},[ct,at]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:s,contentWrapper:g,shouldExpandOnScrollRef:rt,onScrollButtonChange:mt,children:jsxRuntimeExports.jsx("div",{ref:j,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:ut},children:jsxRuntimeExports.jsx(Primitive.div,{...c,ref:_e,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});SelectItemAlignedPosition.displayName=ITEM_ALIGNED_POSITION_NAME;var POPPER_POSITION_NAME="SelectPopperPosition",SelectPopperPosition=reactExports.forwardRef((i,e)=>{const{__scopeSelect:s,align:o="start",collisionPadding:c=CONTENT_MARGIN,...d}=i,h=usePopperScope$1(s);return jsxRuntimeExports.jsx(Content$2,{...h,...d,ref:e,align:o,collisionPadding:c,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName=POPPER_POSITION_NAME;var[SelectViewportProvider,useSelectViewportContext]=createSelectContext(CONTENT_NAME$4,{}),VIEWPORT_NAME$1="SelectViewport",SelectViewport=reactExports.forwardRef((i,e)=>{const{__scopeSelect:s,nonce:o,...c}=i,d=useSelectContentContext(VIEWPORT_NAME$1,s),h=useSelectViewportContext(VIEWPORT_NAME$1,s),g=useComposedRefs(e,d.onViewportChange),j=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),jsxRuntimeExports.jsx(Collection$1.Slot,{scope:s,children:jsxRuntimeExports.jsx(Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:g,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:composeEventHandlers(c.onScroll,_=>{const $=_.currentTarget,{contentWrapper:_e,shouldExpandOnScrollRef:st}=h;if(st!=null&&st.current&&_e){const rt=Math.abs(j.current-$.scrollTop);if(rt>0){const it=window.innerHeight-CONTENT_MARGIN*2,nt=parseFloat(_e.style.minHeight),lt=parseFloat(_e.style.height),ot=Math.max(nt,lt);if(ot<it){const at=ot+rt,ct=Math.min(it,at),ut=at-ct;_e.style.height=ct+"px",_e.style.bottom==="0px"&&($.scrollTop=ut>0?ut:0,_e.style.justifyContent="flex-end")}}}j.current=$.scrollTop})})})]})});SelectViewport.displayName=VIEWPORT_NAME$1;var GROUP_NAME$2="SelectGroup",[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext(GROUP_NAME$2),SelectGroup=reactExports.forwardRef((i,e)=>{const{__scopeSelect:s,...o}=i,c=useId();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:s,id:c,children:jsxRuntimeExports.jsx(Primitive.div,{role:"group","aria-labelledby":c,...o,ref:e})})});SelectGroup.displayName=GROUP_NAME$2;var LABEL_NAME$2="SelectLabel",SelectLabel$1=reactExports.forwardRef((i,e)=>{const{__scopeSelect:s,...o}=i,c=useSelectGroupContext(LABEL_NAME$2,s);return jsxRuntimeExports.jsx(Primitive.div,{id:c.id,...o,ref:e})});SelectLabel$1.displayName=LABEL_NAME$2;var ITEM_NAME$2="SelectItem",[SelectItemContextProvider,useSelectItemContext]=createSelectContext(ITEM_NAME$2),SelectItem$1=reactExports.forwardRef((i,e)=>{const{__scopeSelect:s,value:o,disabled:c=!1,textValue:d,...h}=i,g=useSelectContext(ITEM_NAME$2,s),j=useSelectContentContext(ITEM_NAME$2,s),_=g.value===o,[$,_e]=reactExports.useState(d??""),[st,rt]=reactExports.useState(!1),it=useComposedRefs(e,at=>{var ct;return(ct=j.itemRefCallback)==null?void 0:ct.call(j,at,o,c)}),nt=useId(),lt=reactExports.useRef("touch"),ot=()=>{c||(g.onValueChange(o),g.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:s,value:o,disabled:c,textId:nt,isSelected:_,onItemTextChange:reactExports.useCallback(at=>{_e(ct=>ct||((at==null?void 0:at.textContent)??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:s,value:o,disabled:c,textValue:$,children:jsxRuntimeExports.jsx(Primitive.div,{role:"option","aria-labelledby":nt,"data-highlighted":st?"":void 0,"aria-selected":_&&st,"data-state":_?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...h,ref:it,onFocus:composeEventHandlers(h.onFocus,()=>rt(!0)),onBlur:composeEventHandlers(h.onBlur,()=>rt(!1)),onClick:composeEventHandlers(h.onClick,()=>{lt.current!=="mouse"&&ot()}),onPointerUp:composeEventHandlers(h.onPointerUp,()=>{lt.current==="mouse"&&ot()}),onPointerDown:composeEventHandlers(h.onPointerDown,at=>{lt.current=at.pointerType}),onPointerMove:composeEventHandlers(h.onPointerMove,at=>{var ct;lt.current=at.pointerType,c?(ct=j.onItemLeave)==null||ct.call(j):lt.current==="mouse"&&at.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers(h.onPointerLeave,at=>{var ct;at.currentTarget===document.activeElement&&((ct=j.onItemLeave)==null||ct.call(j))}),onKeyDown:composeEventHandlers(h.onKeyDown,at=>{var ut;((ut=j.searchRef)==null?void 0:ut.current)!==""&&at.key===" "||(SELECTION_KEYS$1.includes(at.key)&&ot(),at.key===" "&&at.preventDefault())})})})})});SelectItem$1.displayName=ITEM_NAME$2;var ITEM_TEXT_NAME="SelectItemText",SelectItemText=reactExports.forwardRef((i,e)=>{const{__scopeSelect:s,className:o,style:c,...d}=i,h=useSelectContext(ITEM_TEXT_NAME,s),g=useSelectContentContext(ITEM_TEXT_NAME,s),j=useSelectItemContext(ITEM_TEXT_NAME,s),_=useSelectNativeOptionsContext(ITEM_TEXT_NAME,s),[$,_e]=reactExports.useState(null),st=useComposedRefs(e,ot=>_e(ot),j.onItemTextChange,ot=>{var at;return(at=g.itemTextRefCallback)==null?void 0:at.call(g,ot,j.value,j.disabled)}),rt=$==null?void 0:$.textContent,it=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:j.value,disabled:j.disabled,children:rt},j.value),[j.disabled,j.value,rt]),{onNativeOptionAdd:nt,onNativeOptionRemove:lt}=_;return useLayoutEffect2(()=>(nt(it),()=>lt(it)),[nt,lt,it]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive.span,{id:j.textId,...d,ref:st}),j.isSelected&&h.valueNode&&!h.valueNodeHasChildren?reactDomExports.createPortal(d.children,h.valueNode):null]})});SelectItemText.displayName=ITEM_TEXT_NAME;var ITEM_INDICATOR_NAME$1="SelectItemIndicator",SelectItemIndicator=reactExports.forwardRef((i,e)=>{const{__scopeSelect:s,...o}=i;return useSelectItemContext(ITEM_INDICATOR_NAME$1,s).isSelected?jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...o,ref:e}):null});SelectItemIndicator.displayName=ITEM_INDICATOR_NAME$1;var SCROLL_UP_BUTTON_NAME="SelectScrollUpButton",SelectScrollUpButton$1=reactExports.forwardRef((i,e)=>{const s=useSelectContentContext(SCROLL_UP_BUTTON_NAME,i.__scopeSelect),o=useSelectViewportContext(SCROLL_UP_BUTTON_NAME,i.__scopeSelect),[c,d]=reactExports.useState(!1),h=useComposedRefs(e,o.onScrollButtonChange);return useLayoutEffect2(()=>{if(s.viewport&&s.isPositioned){let g=function(){const _=j.scrollTop>0;d(_)};const j=s.viewport;return g(),j.addEventListener("scroll",g),()=>j.removeEventListener("scroll",g)}},[s.viewport,s.isPositioned]),c?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...i,ref:h,onAutoScroll:()=>{const{viewport:g,selectedItem:j}=s;g&&j&&(g.scrollTop=g.scrollTop-j.offsetHeight)}}):null});SelectScrollUpButton$1.displayName=SCROLL_UP_BUTTON_NAME;var SCROLL_DOWN_BUTTON_NAME="SelectScrollDownButton",SelectScrollDownButton$1=reactExports.forwardRef((i,e)=>{const s=useSelectContentContext(SCROLL_DOWN_BUTTON_NAME,i.__scopeSelect),o=useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME,i.__scopeSelect),[c,d]=reactExports.useState(!1),h=useComposedRefs(e,o.onScrollButtonChange);return useLayoutEffect2(()=>{if(s.viewport&&s.isPositioned){let g=function(){const _=j.scrollHeight-j.clientHeight,$=Math.ceil(j.scrollTop)<_;d($)};const j=s.viewport;return g(),j.addEventListener("scroll",g),()=>j.removeEventListener("scroll",g)}},[s.viewport,s.isPositioned]),c?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...i,ref:h,onAutoScroll:()=>{const{viewport:g,selectedItem:j}=s;g&&j&&(g.scrollTop=g.scrollTop+j.offsetHeight)}}):null});SelectScrollDownButton$1.displayName=SCROLL_DOWN_BUTTON_NAME;var SelectScrollButtonImpl=reactExports.forwardRef((i,e)=>{const{__scopeSelect:s,onAutoScroll:o,...c}=i,d=useSelectContentContext("SelectScrollButton",s),h=reactExports.useRef(null),g=useCollection$1(s),j=reactExports.useCallback(()=>{h.current!==null&&(window.clearInterval(h.current),h.current=null)},[]);return reactExports.useEffect(()=>()=>j(),[j]),useLayoutEffect2(()=>{var $;const _=g().find(_e=>_e.ref.current===document.activeElement);($=_==null?void 0:_.ref.current)==null||$.scrollIntoView({block:"nearest"})},[g]),jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...c,ref:e,style:{flexShrink:0,...c.style},onPointerDown:composeEventHandlers(c.onPointerDown,()=>{h.current===null&&(h.current=window.setInterval(o,50))}),onPointerMove:composeEventHandlers(c.onPointerMove,()=>{var _;(_=d.onItemLeave)==null||_.call(d),h.current===null&&(h.current=window.setInterval(o,50))}),onPointerLeave:composeEventHandlers(c.onPointerLeave,()=>{j()})})}),SEPARATOR_NAME$2="SelectSeparator",SelectSeparator$1=reactExports.forwardRef((i,e)=>{const{__scopeSelect:s,...o}=i;return jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...o,ref:e})});SelectSeparator$1.displayName=SEPARATOR_NAME$2;var ARROW_NAME$2="SelectArrow",SelectArrow=reactExports.forwardRef((i,e)=>{const{__scopeSelect:s,...o}=i,c=usePopperScope$1(s),d=useSelectContext(ARROW_NAME$2,s),h=useSelectContentContext(ARROW_NAME$2,s);return d.open&&h.position==="popper"?jsxRuntimeExports.jsx(Arrow,{...c,...o,ref:e}):null});SelectArrow.displayName=ARROW_NAME$2;var BUBBLE_INPUT_NAME$2="SelectBubbleInput",SelectBubbleInput=reactExports.forwardRef(({__scopeSelect:i,value:e,...s},o)=>{const c=reactExports.useRef(null),d=useComposedRefs(o,c),h=usePrevious(e);return reactExports.useEffect(()=>{const g=c.current;if(!g)return;const j=window.HTMLSelectElement.prototype,$=Object.getOwnPropertyDescriptor(j,"value").set;if(h!==e&&$){const _e=new Event("change",{bubbles:!0});$.call(g,e),g.dispatchEvent(_e)}},[h,e]),jsxRuntimeExports.jsx(Primitive.select,{...s,style:{...VISUALLY_HIDDEN_STYLES,...s.style},ref:d,defaultValue:e})});SelectBubbleInput.displayName=BUBBLE_INPUT_NAME$2;function shouldShowPlaceholder(i){return i===""||i===void 0}function useTypeaheadSearch(i){const e=useCallbackRef$1(i),s=reactExports.useRef(""),o=reactExports.useRef(0),c=reactExports.useCallback(h=>{const g=s.current+h;e(g),function j(_){s.current=_,window.clearTimeout(o.current),_!==""&&(o.current=window.setTimeout(()=>j(""),1e3))}(g)},[e]),d=reactExports.useCallback(()=>{s.current="",window.clearTimeout(o.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(o.current),[]),[s,c,d]}function findNextItem(i,e,s){const c=e.length>1&&Array.from(e).every(_=>_===e[0])?e[0]:e,d=s?i.indexOf(s):-1;let h=wrapArray$1(i,Math.max(d,0));c.length===1&&(h=h.filter(_=>_!==s));const j=h.find(_=>_.textValue.toLowerCase().startsWith(c.toLowerCase()));return j!==s?j:void 0}function wrapArray$1(i,e){return i.map((s,o)=>i[(e+o)%i.length])}var Root2$2=Select$1,Trigger$2=SelectTrigger$1,Value=SelectValue$1,Icon=SelectIcon,Portal$2=SelectPortal,Content2$3=SelectContent$1,Viewport$1=SelectViewport,Label$1=SelectLabel$1,Item=SelectItem$1,ItemText=SelectItemText,ItemIndicator$1=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton$1,ScrollDownButton=SelectScrollDownButton$1,Separator$3=SelectSeparator$1;const Select=Root2$2,SelectValue=Value,SelectTrigger=reactExports.forwardRef(({className:i,children:e,...s},o)=>jsxRuntimeExports.jsxs(Trigger$2,{ref:o,className:cn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 transition-colors",i),...s,children:[e,jsxRuntimeExports.jsx(Icon,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 opacity-50 transition-transform duration-200 ease-in-out group-data-[state=open]:rotate-180"})})]}));SelectTrigger.displayName=Trigger$2.displayName;const SelectScrollUpButton=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(ScrollUpButton,{ref:s,className:cn("flex cursor-default items-center justify-center py-1 text-muted-foreground",i),...e,children:jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"})}));SelectScrollUpButton.displayName=ScrollUpButton.displayName;const SelectScrollDownButton=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(ScrollDownButton,{ref:s,className:cn("flex cursor-default items-center justify-center py-1 text-muted-foreground",i),...e,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})}));SelectScrollDownButton.displayName=ScrollDownButton.displayName;const SelectContent=reactExports.forwardRef(({className:i,children:e,position:s="popper",...o},c)=>jsxRuntimeExports.jsx(Portal$2,{children:jsxRuntimeExports.jsxs(Content2$3,{ref:c,className:cn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border/40 bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 duration-200",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",i),position:s,...o,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport$1,{className:cn("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})}));SelectContent.displayName=Content2$3.displayName;const SelectLabel=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Label$1,{ref:s,className:cn("py-1.5 pl-8 pr-2 text-sm font-medium text-muted-foreground",i),...e}));SelectLabel.displayName=Label$1.displayName;const SelectItem=reactExports.forwardRef(({className:i,children:e,...s},o)=>jsxRuntimeExports.jsxs(Item,{ref:o,className:cn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent/50 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 transition-colors",i),...s,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator$1,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4 text-primary"})})}),jsxRuntimeExports.jsx(ItemText,{children:e})]}));SelectItem.displayName=Item.displayName;const SelectSeparator=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Separator$3,{ref:s,className:cn("-mx-1 my-1 h-px bg-muted",i),...e}));SelectSeparator.displayName=Separator$3.displayName;const AIInsightsDashboard=()=>{const[i,e]=reactExports.useState("30d"),[s,o]=reactExports.useState(null),[c,d]=reactExports.useState(!1),h=[{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"},{value:"90d",label:"Last 3 months"},{value:"1y",label:"Last year"}],g=async()=>{d(!0);try{const{data:_,error:$}=await supabase$1.functions.invoke("analytics-insights",{body:{action:"analyze_performance",timeRange:i}});if($)throw $;o(_)}catch(_){console.error("Analytics error:",_)}finally{d(!1)}},j=s?(s.platformData.completedProjects/s.platformData.totalProjects*100).toFixed(1):0;return jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Brain,{className:"h-5 w-5"}),"AI-Powered Platform Analytics"]}),jsxRuntimeExports.jsx(CardDescription,{children:"GPT-4o insights with OpenAI Embeddings for trend analysis"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsxs(Select,{value:i,onValueChange:e,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-48",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select time range"})}),jsxRuntimeExports.jsx(SelectContent,{children:h.map(_=>jsxRuntimeExports.jsx(SelectItem,{value:_.value,children:_.label},_.value))})]}),jsxRuntimeExports.jsxs(Button,{onClick:g,disabled:c,children:[c?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin mr-2"}):null,"Generate AI Insights"]})]}),s&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"h-4 w-4 text-blue-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Total Projects"})]}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:s.platformData.totalProjects})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"h-4 w-4 text-green-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Completion Rate"})]}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold",children:[j,"%"]})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Avg Rating"})}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold",children:[s.platformData.avgRating,"/5"]})]})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Avg Time"})}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold",children:[s.platformData.avgCompletionTime,"d"]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Industry Performance Analysis"}),jsxRuntimeExports.jsxs(CardDescription,{children:["Processed with OpenAI Embeddings (",s.embeddings," vectors)"]})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-3",children:Object.entries(s.platformData.industryBreakdown).map(([_,$])=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:_}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[$.projects," projects  ",$.avgTime," days avg"]})]}),jsxRuntimeExports.jsxs(Badge,{variant:"outline",children:[$.avgRating,"/5"]})]},_))})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"h-5 w-5"}),"GPT-4o Generated Insights"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"prose prose-sm max-w-none",children:jsxRuntimeExports.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:s.insights})})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Top Performance Factors"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:s.platformData.topPerformanceFactors.map((_,$)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:["#",$+1]}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:_})]},$))})})]})]})]})]})})},AdminAnalytics=()=>{const[i,e]=reactExports.useState(""),[s,o]=reactExports.useState(null),[c,d]=reactExports.useState(!1),[h,g]=reactExports.useState(!1),j=["Software Development","Design","Marketing","Content Creation","Data Science"],_=async()=>{if(i){d(!0);try{const{data:_e,error:st}=await supabase$1.functions.invoke("analytics-insights",{body:{action:"analyze_teams",industry:i}});if(st)throw st;o(_e)}catch(_e){console.error("Analytics error:",_e)}finally{d(!1)}}},$=async()=>{if(s){g(!0);try{const{data:_e,error:st}=await supabase$1.functions.invoke("analytics-insights",{body:{action:"create_training",industry:i,teamData:s}});if(st)throw st;const{error:rt}=await supabase$1.from("training_modules").insert([_e]);if(rt)throw rt;alert("Training module created successfully!")}catch(_e){console.error("Training creation error:",_e)}finally{g(!1)}}};return jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsxs(Tabs,{defaultValue:"platform-insights",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-2",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"platform-insights",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Brain,{className:"h-4 w-4"}),"Platform Insights"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"team-analysis",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"h-4 w-4"}),"Team Analysis"]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"platform-insights",children:jsxRuntimeExports.jsx(AIInsightsDashboard,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"team-analysis",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"h-5 w-5"}),"AI Team Performance Analytics"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Analyze top-performing teams and generate training insights"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsxs(Select,{value:i,onValueChange:e,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-64",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select industry"})}),jsxRuntimeExports.jsx(SelectContent,{children:j.map(_e=>jsxRuntimeExports.jsx(SelectItem,{value:_e,children:_e},_e))})]}),jsxRuntimeExports.jsxs(Button,{onClick:_,disabled:!i||c,children:[c?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin mr-2"}):null,"Analyze Teams"]})]}),s&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"h-5 w-5"}),"Top Performing Teams - ",s.industry]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:s.topTeams.map((_e,st)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:["#",st+1]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:_e.name}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[_e.avgTime," days avg  ",_e.completionRate,"% completion"]})]})]}),jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Award,{className:"h-3 w-3"}),_e.rating,"/5"]})]},_e.name))})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"AI-Generated Insights"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:s.insights}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsxs(Button,{onClick:$,disabled:h,children:[h?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin mr-2"}):null,"Create Training Module"]})})]})]})]})]})]})})]})})},AIAnalyticsDashboard=()=>{const[i,e]=reactExports.useState([]),[s,o]=reactExports.useState([]),[c,d]=reactExports.useState([]),[h,g]=reactExports.useState(!1),[j,_]=reactExports.useState("insights"),$=async()=>{g(!0);try{const{data:lt}=await supabase$1.from("projects").select("id, title, description, status, created_at, skills_required, user_id"),{data:ot}=await supabase$1.from("teams").select("id, name, description, skills, rating, created_at, user_id"),{data:at,error:ct}=await supabase$1.functions.invoke("analytics-insights",{body:{action:"generateInsights",data:{projects:lt,teams:ot}}});if(ct)throw ct;const ut=rt(at.insights);e(ut)}catch(lt){console.error("Error generating insights:",lt)}finally{g(!1)}},_e=async()=>{g(!0);try{const{data:lt}=await supabase$1.from("teams").select("id, name, description, skills, rating, created_at, user_id"),{data:ot,error:at}=await supabase$1.functions.invoke("analytics-insights",{body:{action:"clusterTeams",data:{teams:lt}}});if(at)throw at;const ct=it(ot.clusters);o(ct)}catch(lt){console.error("Error clustering teams:",lt)}finally{g(!1)}},st=async()=>{g(!0);try{const{data:lt}=await supabase$1.from("projects").select("*, teams(*)").eq("status","completed").gte("rating",4.5),{data:ot,error:at}=await supabase$1.functions.invoke("analytics-insights",{body:{action:"extractWorkflows",data:lt}});if(at)throw at;const ct=nt(ot.workflows);d(ct)}catch(lt){console.error("Error extracting workflows:",lt)}finally{g(!1)}},rt=lt=>lt.split(`
`).filter(at=>at.trim()).slice(0,5).map((at,ct)=>({id:`insight-${ct}`,type:ct%3===0?"trend":ct%3===1?"performance":"recommendation",title:at.substring(0,50)+"...",description:at,confidence:.8+Math.random()*.2,actionable:Math.random()>.5})),it=lt=>[{industry:"E-commerce",teams:[],avgRating:4.8,successRate:92,topSkills:["React","Node.js","AWS"]},{industry:"Healthcare",teams:[],avgRating:4.6,successRate:88,topSkills:["HIPAA","Security","Database"]}],nt=lt=>[{id:"workflow-1",title:"High-Performance E-commerce Development",steps:["Requirements Analysis","MVP Development","User Testing","Optimization"],successRate:95,avgDuration:"6 weeks"}];return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"AI Analytics Dashboard"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{onClick:$,disabled:h,variant:"outline",children:[jsxRuntimeExports.jsx(Brain,{className:"w-4 h-4 mr-2"}),"Generate Insights"]}),jsxRuntimeExports.jsxs(Button,{onClick:_e,disabled:h,variant:"outline",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4 mr-2"}),"Cluster Teams"]}),jsxRuntimeExports.jsxs(Button,{onClick:st,disabled:h,variant:"outline",children:[jsxRuntimeExports.jsx(Workflow,{className:"w-4 h-4 mr-2"}),"Extract Workflows"]})]})]}),jsxRuntimeExports.jsxs(Tabs,{value:j,onValueChange:_,children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"insights",children:"AI Insights"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"clusters",children:"Team Clusters"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"workflows",children:"Best Practices"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"insights",className:"space-y-4",children:h?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center py-8",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-6 h-6 animate-spin mr-2"}),"Analyzing data with AI..."]}):jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:i.map(lt=>jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:lt.title}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Badge,{variant:lt.type==="trend"?"default":lt.type==="performance"?"secondary":"outline",children:lt.type}),jsxRuntimeExports.jsxs(Badge,{variant:"outline",children:[Math.round(lt.confidence*100),"% confidence"]})]})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:lt.description}),lt.actionable&&jsxRuntimeExports.jsxs(Button,{size:"sm",className:"mt-3",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-3 h-3 mr-1"}),"Create Training Module"]})]})]},lt.id))})}),jsxRuntimeExports.jsx(TabsContent,{value:"clusters",className:"space-y-4",children:jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:s.map((lt,ot)=>jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-5 h-5"}),lt.industry," Teams"]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-green-600",children:lt.avgRating}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Avg Rating"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[lt.successRate,"%"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Success Rate"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-purple-600",children:lt.topSkills.length}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Top Skills"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:lt.topSkills.map((at,ct)=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:at},ct))})]})]},ot))})}),jsxRuntimeExports.jsx(TabsContent,{value:"workflows",className:"space-y-4",children:jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:c.map(lt=>jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Workflow,{className:"w-5 h-5"}),lt.title]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"text-lg font-semibold text-green-600",children:[lt.successRate,"%"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Success Rate"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-lg font-semibold text-blue-600",children:lt.avgDuration}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Avg Duration"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:"Workflow Steps:"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:lt.steps.map((ot,at)=>jsxRuntimeExports.jsxs(Badge,{variant:"outline",children:[at+1,". ",ot]},at))})]}),jsxRuntimeExports.jsxs(Button,{className:"mt-4",size:"sm",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-3 h-3 mr-1"}),"Publish as Training Module"]})]})]},lt.id))})})]})]})};var SELECTION_KEYS=["Enter"," "],FIRST_KEYS=["ArrowDown","PageUp","Home"],LAST_KEYS=["ArrowUp","PageDown","End"],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],SUB_OPEN_KEYS={ltr:[...SELECTION_KEYS,"ArrowRight"],rtl:[...SELECTION_KEYS,"ArrowLeft"]},SUB_CLOSE_KEYS={ltr:["ArrowLeft"],rtl:["ArrowRight"]},MENU_NAME="Menu",[Collection,useCollection,createCollectionScope]=createCollection(MENU_NAME),[createMenuContext,createMenuScope]=createContextScope(MENU_NAME,[createCollectionScope,createPopperScope,createRovingFocusGroupScope]),usePopperScope=createPopperScope(),useRovingFocusGroupScope=createRovingFocusGroupScope(),[MenuProvider,useMenuContext]=createMenuContext(MENU_NAME),[MenuRootProvider,useMenuRootContext]=createMenuContext(MENU_NAME),Menu=i=>{const{__scopeMenu:e,open:s=!1,children:o,dir:c,onOpenChange:d,modal:h=!0}=i,g=usePopperScope(e),[j,_]=reactExports.useState(null),$=reactExports.useRef(!1),_e=useCallbackRef$1(d),st=useDirection(c);return reactExports.useEffect(()=>{const rt=()=>{$.current=!0,document.addEventListener("pointerdown",it,{capture:!0,once:!0}),document.addEventListener("pointermove",it,{capture:!0,once:!0})},it=()=>$.current=!1;return document.addEventListener("keydown",rt,{capture:!0}),()=>{document.removeEventListener("keydown",rt,{capture:!0}),document.removeEventListener("pointerdown",it,{capture:!0}),document.removeEventListener("pointermove",it,{capture:!0})}},[]),jsxRuntimeExports.jsx(Root2$4,{...g,children:jsxRuntimeExports.jsx(MenuProvider,{scope:e,open:s,onOpenChange:_e,content:j,onContentChange:_,children:jsxRuntimeExports.jsx(MenuRootProvider,{scope:e,onClose:reactExports.useCallback(()=>_e(!1),[_e]),isUsingKeyboardRef:$,dir:st,modal:h,children:o})})})};Menu.displayName=MENU_NAME;var ANCHOR_NAME="MenuAnchor",MenuAnchor=reactExports.forwardRef((i,e)=>{const{__scopeMenu:s,...o}=i,c=usePopperScope(s);return jsxRuntimeExports.jsx(Anchor,{...c,...o,ref:e})});MenuAnchor.displayName=ANCHOR_NAME;var PORTAL_NAME$3="MenuPortal",[PortalProvider$1,usePortalContext$1]=createMenuContext(PORTAL_NAME$3,{forceMount:void 0}),MenuPortal=i=>{const{__scopeMenu:e,forceMount:s,children:o,container:c}=i,d=useMenuContext(PORTAL_NAME$3,e);return jsxRuntimeExports.jsx(PortalProvider$1,{scope:e,forceMount:s,children:jsxRuntimeExports.jsx(Presence,{present:s||d.open,children:jsxRuntimeExports.jsx(Portal$3,{asChild:!0,container:c,children:o})})})};MenuPortal.displayName=PORTAL_NAME$3;var CONTENT_NAME$3="MenuContent",[MenuContentProvider,useMenuContentContext]=createMenuContext(CONTENT_NAME$3),MenuContent=reactExports.forwardRef((i,e)=>{const s=usePortalContext$1(CONTENT_NAME$3,i.__scopeMenu),{forceMount:o=s.forceMount,...c}=i,d=useMenuContext(CONTENT_NAME$3,i.__scopeMenu),h=useMenuRootContext(CONTENT_NAME$3,i.__scopeMenu);return jsxRuntimeExports.jsx(Collection.Provider,{scope:i.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:o||d.open,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:i.__scopeMenu,children:h.modal?jsxRuntimeExports.jsx(MenuRootContentModal,{...c,ref:e}):jsxRuntimeExports.jsx(MenuRootContentNonModal,{...c,ref:e})})})})}),MenuRootContentModal=reactExports.forwardRef((i,e)=>{const s=useMenuContext(CONTENT_NAME$3,i.__scopeMenu),o=reactExports.useRef(null),c=useComposedRefs(e,o);return reactExports.useEffect(()=>{const d=o.current;if(d)return hideOthers(d)},[]),jsxRuntimeExports.jsx(MenuContentImpl,{...i,ref:c,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:composeEventHandlers(i.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),MenuRootContentNonModal=reactExports.forwardRef((i,e)=>{const s=useMenuContext(CONTENT_NAME$3,i.__scopeMenu);return jsxRuntimeExports.jsx(MenuContentImpl,{...i,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),Slot$1=createSlot("MenuContent.ScrollLock"),MenuContentImpl=reactExports.forwardRef((i,e)=>{const{__scopeMenu:s,loop:o=!1,trapFocus:c,onOpenAutoFocus:d,onCloseAutoFocus:h,disableOutsidePointerEvents:g,onEntryFocus:j,onEscapeKeyDown:_,onPointerDownOutside:$,onFocusOutside:_e,onInteractOutside:st,onDismiss:rt,disableOutsideScroll:it,...nt}=i,lt=useMenuContext(CONTENT_NAME$3,s),ot=useMenuRootContext(CONTENT_NAME$3,s),at=usePopperScope(s),ct=useRovingFocusGroupScope(s),ut=useCollection(s),[ht,mt]=reactExports.useState(null),xt=reactExports.useRef(null),Et=useComposedRefs(e,xt,lt.onContentChange),Tt=reactExports.useRef(0),St=reactExports.useRef(""),gt=reactExports.useRef(0),Ct=reactExports.useRef(null),At=reactExports.useRef("right"),Rt=reactExports.useRef(0),kt=it?ReactRemoveScroll:reactExports.Fragment,Mt=it?{as:Slot$1,allowPinchZoom:!0}:void 0,It=Pt=>{var $t,Zt;const Lt=St.current+Pt,Bt=ut().filter(Jt=>!Jt.disabled),Dt=document.activeElement,Ht=($t=Bt.find(Jt=>Jt.ref.current===Dt))==null?void 0:$t.textValue,Gt=Bt.map(Jt=>Jt.textValue),rs=getNextMatch(Gt,Lt,Ht),Xt=(Zt=Bt.find(Jt=>Jt.textValue===rs))==null?void 0:Zt.ref.current;(function Jt(qt){St.current=qt,window.clearTimeout(Tt.current),qt!==""&&(Tt.current=window.setTimeout(()=>Jt(""),1e3))})(Lt),Xt&&setTimeout(()=>Xt.focus())};reactExports.useEffect(()=>()=>window.clearTimeout(Tt.current),[]),useFocusGuards();const Nt=reactExports.useCallback(Pt=>{var Bt,Dt;return At.current===((Bt=Ct.current)==null?void 0:Bt.side)&&isPointerInGraceArea(Pt,(Dt=Ct.current)==null?void 0:Dt.area)},[]);return jsxRuntimeExports.jsx(MenuContentProvider,{scope:s,searchRef:St,onItemEnter:reactExports.useCallback(Pt=>{Nt(Pt)&&Pt.preventDefault()},[Nt]),onItemLeave:reactExports.useCallback(Pt=>{var Lt;Nt(Pt)||((Lt=xt.current)==null||Lt.focus(),mt(null))},[Nt]),onTriggerLeave:reactExports.useCallback(Pt=>{Nt(Pt)&&Pt.preventDefault()},[Nt]),pointerGraceTimerRef:gt,onPointerGraceIntentChange:reactExports.useCallback(Pt=>{Ct.current=Pt},[]),children:jsxRuntimeExports.jsx(kt,{...Mt,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:c,onMountAutoFocus:composeEventHandlers(d,Pt=>{var Lt;Pt.preventDefault(),(Lt=xt.current)==null||Lt.focus({preventScroll:!0})}),onUnmountAutoFocus:h,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:g,onEscapeKeyDown:_,onPointerDownOutside:$,onFocusOutside:_e,onInteractOutside:st,onDismiss:rt,children:jsxRuntimeExports.jsx(Root$7,{asChild:!0,...ct,dir:ot.dir,orientation:"vertical",loop:o,currentTabStopId:ht,onCurrentTabStopIdChange:mt,onEntryFocus:composeEventHandlers(j,Pt=>{ot.isUsingKeyboardRef.current||Pt.preventDefault()}),preventScrollOnEntryFocus:!0,children:jsxRuntimeExports.jsx(Content$2,{role:"menu","aria-orientation":"vertical","data-state":getOpenState(lt.open),"data-radix-menu-content":"",dir:ot.dir,...at,...nt,ref:Et,style:{outline:"none",...nt.style},onKeyDown:composeEventHandlers(nt.onKeyDown,Pt=>{const Bt=Pt.target.closest("[data-radix-menu-content]")===Pt.currentTarget,Dt=Pt.ctrlKey||Pt.altKey||Pt.metaKey,Ht=Pt.key.length===1;Bt&&(Pt.key==="Tab"&&Pt.preventDefault(),!Dt&&Ht&&It(Pt.key));const Gt=xt.current;if(Pt.target!==Gt||!FIRST_LAST_KEYS.includes(Pt.key))return;Pt.preventDefault();const Xt=ut().filter($t=>!$t.disabled).map($t=>$t.ref.current);LAST_KEYS.includes(Pt.key)&&Xt.reverse(),focusFirst(Xt)}),onBlur:composeEventHandlers(i.onBlur,Pt=>{Pt.currentTarget.contains(Pt.target)||(window.clearTimeout(Tt.current),St.current="")}),onPointerMove:composeEventHandlers(i.onPointerMove,whenMouse(Pt=>{const Lt=Pt.target,Bt=Rt.current!==Pt.clientX;if(Pt.currentTarget.contains(Lt)&&Bt){const Dt=Pt.clientX>Rt.current?"right":"left";At.current=Dt,Rt.current=Pt.clientX}}))})})})})})})});MenuContent.displayName=CONTENT_NAME$3;var GROUP_NAME$1="MenuGroup",MenuGroup=reactExports.forwardRef((i,e)=>{const{__scopeMenu:s,...o}=i;return jsxRuntimeExports.jsx(Primitive.div,{role:"group",...o,ref:e})});MenuGroup.displayName=GROUP_NAME$1;var LABEL_NAME$1="MenuLabel",MenuLabel=reactExports.forwardRef((i,e)=>{const{__scopeMenu:s,...o}=i;return jsxRuntimeExports.jsx(Primitive.div,{...o,ref:e})});MenuLabel.displayName=LABEL_NAME$1;var ITEM_NAME$1="MenuItem",ITEM_SELECT="menu.itemSelect",MenuItem=reactExports.forwardRef((i,e)=>{const{disabled:s=!1,onSelect:o,...c}=i,d=reactExports.useRef(null),h=useMenuRootContext(ITEM_NAME$1,i.__scopeMenu),g=useMenuContentContext(ITEM_NAME$1,i.__scopeMenu),j=useComposedRefs(e,d),_=reactExports.useRef(!1),$=()=>{const _e=d.current;if(!s&&_e){const st=new CustomEvent(ITEM_SELECT,{bubbles:!0,cancelable:!0});_e.addEventListener(ITEM_SELECT,rt=>o==null?void 0:o(rt),{once:!0}),dispatchDiscreteCustomEvent(_e,st),st.defaultPrevented?_.current=!1:h.onClose()}};return jsxRuntimeExports.jsx(MenuItemImpl,{...c,ref:j,disabled:s,onClick:composeEventHandlers(i.onClick,$),onPointerDown:_e=>{var st;(st=i.onPointerDown)==null||st.call(i,_e),_.current=!0},onPointerUp:composeEventHandlers(i.onPointerUp,_e=>{var st;_.current||(st=_e.currentTarget)==null||st.click()}),onKeyDown:composeEventHandlers(i.onKeyDown,_e=>{const st=g.searchRef.current!=="";s||st&&_e.key===" "||SELECTION_KEYS.includes(_e.key)&&(_e.currentTarget.click(),_e.preventDefault())})})});MenuItem.displayName=ITEM_NAME$1;var MenuItemImpl=reactExports.forwardRef((i,e)=>{const{__scopeMenu:s,disabled:o=!1,textValue:c,...d}=i,h=useMenuContentContext(ITEM_NAME$1,s),g=useRovingFocusGroupScope(s),j=reactExports.useRef(null),_=useComposedRefs(e,j),[$,_e]=reactExports.useState(!1),[st,rt]=reactExports.useState("");return reactExports.useEffect(()=>{const it=j.current;it&&rt((it.textContent??"").trim())},[d.children]),jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:s,disabled:o,textValue:c??st,children:jsxRuntimeExports.jsx(Item$1,{asChild:!0,...g,focusable:!o,children:jsxRuntimeExports.jsx(Primitive.div,{role:"menuitem","data-highlighted":$?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...d,ref:_,onPointerMove:composeEventHandlers(i.onPointerMove,whenMouse(it=>{o?h.onItemLeave(it):(h.onItemEnter(it),it.defaultPrevented||it.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:composeEventHandlers(i.onPointerLeave,whenMouse(it=>h.onItemLeave(it))),onFocus:composeEventHandlers(i.onFocus,()=>_e(!0)),onBlur:composeEventHandlers(i.onBlur,()=>_e(!1))})})})}),CHECKBOX_ITEM_NAME$1="MenuCheckboxItem",MenuCheckboxItem=reactExports.forwardRef((i,e)=>{const{checked:s=!1,onCheckedChange:o,...c}=i;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:i.__scopeMenu,checked:s,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemcheckbox","aria-checked":isIndeterminate$1(s)?"mixed":s,...c,ref:e,"data-state":getCheckedState(s),onSelect:composeEventHandlers(c.onSelect,()=>o==null?void 0:o(isIndeterminate$1(s)?!0:!s),{checkForDefaultPrevented:!1})})})});MenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME$1;var RADIO_GROUP_NAME$1="MenuRadioGroup",[RadioGroupProvider,useRadioGroupContext]=createMenuContext(RADIO_GROUP_NAME$1,{value:void 0,onValueChange:()=>{}}),MenuRadioGroup=reactExports.forwardRef((i,e)=>{const{value:s,onValueChange:o,...c}=i,d=useCallbackRef$1(o);return jsxRuntimeExports.jsx(RadioGroupProvider,{scope:i.__scopeMenu,value:s,onValueChange:d,children:jsxRuntimeExports.jsx(MenuGroup,{...c,ref:e})})});MenuRadioGroup.displayName=RADIO_GROUP_NAME$1;var RADIO_ITEM_NAME$1="MenuRadioItem",MenuRadioItem=reactExports.forwardRef((i,e)=>{const{value:s,...o}=i,c=useRadioGroupContext(RADIO_ITEM_NAME$1,i.__scopeMenu),d=s===c.value;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:i.__scopeMenu,checked:d,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemradio","aria-checked":d,...o,ref:e,"data-state":getCheckedState(d),onSelect:composeEventHandlers(o.onSelect,()=>{var h;return(h=c.onValueChange)==null?void 0:h.call(c,s)},{checkForDefaultPrevented:!1})})})});MenuRadioItem.displayName=RADIO_ITEM_NAME$1;var ITEM_INDICATOR_NAME="MenuItemIndicator",[ItemIndicatorProvider,useItemIndicatorContext]=createMenuContext(ITEM_INDICATOR_NAME,{checked:!1}),MenuItemIndicator=reactExports.forwardRef((i,e)=>{const{__scopeMenu:s,forceMount:o,...c}=i,d=useItemIndicatorContext(ITEM_INDICATOR_NAME,s);return jsxRuntimeExports.jsx(Presence,{present:o||isIndeterminate$1(d.checked)||d.checked===!0,children:jsxRuntimeExports.jsx(Primitive.span,{...c,ref:e,"data-state":getCheckedState(d.checked)})})});MenuItemIndicator.displayName=ITEM_INDICATOR_NAME;var SEPARATOR_NAME$1="MenuSeparator",MenuSeparator=reactExports.forwardRef((i,e)=>{const{__scopeMenu:s,...o}=i;return jsxRuntimeExports.jsx(Primitive.div,{role:"separator","aria-orientation":"horizontal",...o,ref:e})});MenuSeparator.displayName=SEPARATOR_NAME$1;var ARROW_NAME$1="MenuArrow",MenuArrow=reactExports.forwardRef((i,e)=>{const{__scopeMenu:s,...o}=i,c=usePopperScope(s);return jsxRuntimeExports.jsx(Arrow,{...c,...o,ref:e})});MenuArrow.displayName=ARROW_NAME$1;var SUB_NAME="MenuSub",[MenuSubProvider,useMenuSubContext]=createMenuContext(SUB_NAME),SUB_TRIGGER_NAME$1="MenuSubTrigger",MenuSubTrigger=reactExports.forwardRef((i,e)=>{const s=useMenuContext(SUB_TRIGGER_NAME$1,i.__scopeMenu),o=useMenuRootContext(SUB_TRIGGER_NAME$1,i.__scopeMenu),c=useMenuSubContext(SUB_TRIGGER_NAME$1,i.__scopeMenu),d=useMenuContentContext(SUB_TRIGGER_NAME$1,i.__scopeMenu),h=reactExports.useRef(null),{pointerGraceTimerRef:g,onPointerGraceIntentChange:j}=d,_={__scopeMenu:i.__scopeMenu},$=reactExports.useCallback(()=>{h.current&&window.clearTimeout(h.current),h.current=null},[]);return reactExports.useEffect(()=>$,[$]),reactExports.useEffect(()=>{const _e=g.current;return()=>{window.clearTimeout(_e),j(null)}},[g,j]),jsxRuntimeExports.jsx(MenuAnchor,{asChild:!0,..._,children:jsxRuntimeExports.jsx(MenuItemImpl,{id:c.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":c.contentId,"data-state":getOpenState(s.open),...i,ref:composeRefs(e,c.onTriggerChange),onClick:_e=>{var st;(st=i.onClick)==null||st.call(i,_e),!(i.disabled||_e.defaultPrevented)&&(_e.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:composeEventHandlers(i.onPointerMove,whenMouse(_e=>{d.onItemEnter(_e),!_e.defaultPrevented&&!i.disabled&&!s.open&&!h.current&&(d.onPointerGraceIntentChange(null),h.current=window.setTimeout(()=>{s.onOpenChange(!0),$()},100))})),onPointerLeave:composeEventHandlers(i.onPointerLeave,whenMouse(_e=>{var rt,it;$();const st=(rt=s.content)==null?void 0:rt.getBoundingClientRect();if(st){const nt=(it=s.content)==null?void 0:it.dataset.side,lt=nt==="right",ot=lt?-5:5,at=st[lt?"left":"right"],ct=st[lt?"right":"left"];d.onPointerGraceIntentChange({area:[{x:_e.clientX+ot,y:_e.clientY},{x:at,y:st.top},{x:ct,y:st.top},{x:ct,y:st.bottom},{x:at,y:st.bottom}],side:nt}),window.clearTimeout(g.current),g.current=window.setTimeout(()=>d.onPointerGraceIntentChange(null),300)}else{if(d.onTriggerLeave(_e),_e.defaultPrevented)return;d.onPointerGraceIntentChange(null)}})),onKeyDown:composeEventHandlers(i.onKeyDown,_e=>{var rt;const st=d.searchRef.current!=="";i.disabled||st&&_e.key===" "||SUB_OPEN_KEYS[o.dir].includes(_e.key)&&(s.onOpenChange(!0),(rt=s.content)==null||rt.focus(),_e.preventDefault())})})})});MenuSubTrigger.displayName=SUB_TRIGGER_NAME$1;var SUB_CONTENT_NAME$1="MenuSubContent",MenuSubContent=reactExports.forwardRef((i,e)=>{const s=usePortalContext$1(CONTENT_NAME$3,i.__scopeMenu),{forceMount:o=s.forceMount,...c}=i,d=useMenuContext(CONTENT_NAME$3,i.__scopeMenu),h=useMenuRootContext(CONTENT_NAME$3,i.__scopeMenu),g=useMenuSubContext(SUB_CONTENT_NAME$1,i.__scopeMenu),j=reactExports.useRef(null),_=useComposedRefs(e,j);return jsxRuntimeExports.jsx(Collection.Provider,{scope:i.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:o||d.open,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:i.__scopeMenu,children:jsxRuntimeExports.jsx(MenuContentImpl,{id:g.contentId,"aria-labelledby":g.triggerId,...c,ref:_,align:"start",side:h.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:$=>{var _e;h.isUsingKeyboardRef.current&&((_e=j.current)==null||_e.focus()),$.preventDefault()},onCloseAutoFocus:$=>$.preventDefault(),onFocusOutside:composeEventHandlers(i.onFocusOutside,$=>{$.target!==g.trigger&&d.onOpenChange(!1)}),onEscapeKeyDown:composeEventHandlers(i.onEscapeKeyDown,$=>{h.onClose(),$.preventDefault()}),onKeyDown:composeEventHandlers(i.onKeyDown,$=>{var rt;const _e=$.currentTarget.contains($.target),st=SUB_CLOSE_KEYS[h.dir].includes($.key);_e&&st&&(d.onOpenChange(!1),(rt=g.trigger)==null||rt.focus(),$.preventDefault())})})})})})});MenuSubContent.displayName=SUB_CONTENT_NAME$1;function getOpenState(i){return i?"open":"closed"}function isIndeterminate$1(i){return i==="indeterminate"}function getCheckedState(i){return isIndeterminate$1(i)?"indeterminate":i?"checked":"unchecked"}function focusFirst(i){const e=document.activeElement;for(const s of i)if(s===e||(s.focus(),document.activeElement!==e))return}function wrapArray(i,e){return i.map((s,o)=>i[(e+o)%i.length])}function getNextMatch(i,e,s){const c=e.length>1&&Array.from(e).every(_=>_===e[0])?e[0]:e,d=s?i.indexOf(s):-1;let h=wrapArray(i,Math.max(d,0));c.length===1&&(h=h.filter(_=>_!==s));const j=h.find(_=>_.toLowerCase().startsWith(c.toLowerCase()));return j!==s?j:void 0}function isPointInPolygon(i,e){const{x:s,y:o}=i;let c=!1;for(let d=0,h=e.length-1;d<e.length;h=d++){const g=e[d],j=e[h],_=g.x,$=g.y,_e=j.x,st=j.y;$>o!=st>o&&s<(_e-_)*(o-$)/(st-$)+_&&(c=!c)}return c}function isPointerInGraceArea(i,e){if(!e)return!1;const s={x:i.clientX,y:i.clientY};return isPointInPolygon(s,e)}function whenMouse(i){return e=>e.pointerType==="mouse"?i(e):void 0}var Root3=Menu,Anchor2=MenuAnchor,Portal$1=MenuPortal,Content2$2=MenuContent,Group=MenuGroup,Label=MenuLabel,Item2$1=MenuItem,CheckboxItem=MenuCheckboxItem,RadioGroup=MenuRadioGroup,RadioItem=MenuRadioItem,ItemIndicator=MenuItemIndicator,Separator$2=MenuSeparator,Arrow2=MenuArrow,SubTrigger=MenuSubTrigger,SubContent=MenuSubContent,DROPDOWN_MENU_NAME="DropdownMenu",[createDropdownMenuContext,createDropdownMenuScope]=createContextScope(DROPDOWN_MENU_NAME,[createMenuScope]),useMenuScope=createMenuScope(),[DropdownMenuProvider,useDropdownMenuContext]=createDropdownMenuContext(DROPDOWN_MENU_NAME),DropdownMenu$1=i=>{const{__scopeDropdownMenu:e,children:s,dir:o,open:c,defaultOpen:d,onOpenChange:h,modal:g=!0}=i,j=useMenuScope(e),_=reactExports.useRef(null),[$,_e]=useControllableState({prop:c,defaultProp:d??!1,onChange:h,caller:DROPDOWN_MENU_NAME});return jsxRuntimeExports.jsx(DropdownMenuProvider,{scope:e,triggerId:useId(),triggerRef:_,contentId:useId(),open:$,onOpenChange:_e,onOpenToggle:reactExports.useCallback(()=>_e(st=>!st),[_e]),modal:g,children:jsxRuntimeExports.jsx(Root3,{...j,open:$,onOpenChange:_e,dir:o,modal:g,children:s})})};DropdownMenu$1.displayName=DROPDOWN_MENU_NAME;var TRIGGER_NAME$3="DropdownMenuTrigger",DropdownMenuTrigger$1=reactExports.forwardRef((i,e)=>{const{__scopeDropdownMenu:s,disabled:o=!1,...c}=i,d=useDropdownMenuContext(TRIGGER_NAME$3,s),h=useMenuScope(s);return jsxRuntimeExports.jsx(Anchor2,{asChild:!0,...h,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",id:d.triggerId,"aria-haspopup":"menu","aria-expanded":d.open,"aria-controls":d.open?d.contentId:void 0,"data-state":d.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...c,ref:composeRefs(e,d.triggerRef),onPointerDown:composeEventHandlers(i.onPointerDown,g=>{!o&&g.button===0&&g.ctrlKey===!1&&(d.onOpenToggle(),d.open||g.preventDefault())}),onKeyDown:composeEventHandlers(i.onKeyDown,g=>{o||(["Enter"," "].includes(g.key)&&d.onOpenToggle(),g.key==="ArrowDown"&&d.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(g.key)&&g.preventDefault())})})})});DropdownMenuTrigger$1.displayName=TRIGGER_NAME$3;var PORTAL_NAME$2="DropdownMenuPortal",DropdownMenuPortal=i=>{const{__scopeDropdownMenu:e,...s}=i,o=useMenuScope(e);return jsxRuntimeExports.jsx(Portal$1,{...o,...s})};DropdownMenuPortal.displayName=PORTAL_NAME$2;var CONTENT_NAME$2="DropdownMenuContent",DropdownMenuContent$1=reactExports.forwardRef((i,e)=>{const{__scopeDropdownMenu:s,...o}=i,c=useDropdownMenuContext(CONTENT_NAME$2,s),d=useMenuScope(s),h=reactExports.useRef(!1);return jsxRuntimeExports.jsx(Content2$2,{id:c.contentId,"aria-labelledby":c.triggerId,...d,...o,ref:e,onCloseAutoFocus:composeEventHandlers(i.onCloseAutoFocus,g=>{var j;h.current||(j=c.triggerRef.current)==null||j.focus(),h.current=!1,g.preventDefault()}),onInteractOutside:composeEventHandlers(i.onInteractOutside,g=>{const j=g.detail.originalEvent,_=j.button===0&&j.ctrlKey===!0,$=j.button===2||_;(!c.modal||$)&&(h.current=!0)}),style:{...i.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuContent$1.displayName=CONTENT_NAME$2;var GROUP_NAME="DropdownMenuGroup",DropdownMenuGroup=reactExports.forwardRef((i,e)=>{const{__scopeDropdownMenu:s,...o}=i,c=useMenuScope(s);return jsxRuntimeExports.jsx(Group,{...c,...o,ref:e})});DropdownMenuGroup.displayName=GROUP_NAME;var LABEL_NAME="DropdownMenuLabel",DropdownMenuLabel$1=reactExports.forwardRef((i,e)=>{const{__scopeDropdownMenu:s,...o}=i,c=useMenuScope(s);return jsxRuntimeExports.jsx(Label,{...c,...o,ref:e})});DropdownMenuLabel$1.displayName=LABEL_NAME;var ITEM_NAME="DropdownMenuItem",DropdownMenuItem$1=reactExports.forwardRef((i,e)=>{const{__scopeDropdownMenu:s,...o}=i,c=useMenuScope(s);return jsxRuntimeExports.jsx(Item2$1,{...c,...o,ref:e})});DropdownMenuItem$1.displayName=ITEM_NAME;var CHECKBOX_ITEM_NAME="DropdownMenuCheckboxItem",DropdownMenuCheckboxItem$1=reactExports.forwardRef((i,e)=>{const{__scopeDropdownMenu:s,...o}=i,c=useMenuScope(s);return jsxRuntimeExports.jsx(CheckboxItem,{...c,...o,ref:e})});DropdownMenuCheckboxItem$1.displayName=CHECKBOX_ITEM_NAME;var RADIO_GROUP_NAME="DropdownMenuRadioGroup",DropdownMenuRadioGroup=reactExports.forwardRef((i,e)=>{const{__scopeDropdownMenu:s,...o}=i,c=useMenuScope(s);return jsxRuntimeExports.jsx(RadioGroup,{...c,...o,ref:e})});DropdownMenuRadioGroup.displayName=RADIO_GROUP_NAME;var RADIO_ITEM_NAME="DropdownMenuRadioItem",DropdownMenuRadioItem$1=reactExports.forwardRef((i,e)=>{const{__scopeDropdownMenu:s,...o}=i,c=useMenuScope(s);return jsxRuntimeExports.jsx(RadioItem,{...c,...o,ref:e})});DropdownMenuRadioItem$1.displayName=RADIO_ITEM_NAME;var INDICATOR_NAME$2="DropdownMenuItemIndicator",DropdownMenuItemIndicator=reactExports.forwardRef((i,e)=>{const{__scopeDropdownMenu:s,...o}=i,c=useMenuScope(s);return jsxRuntimeExports.jsx(ItemIndicator,{...c,...o,ref:e})});DropdownMenuItemIndicator.displayName=INDICATOR_NAME$2;var SEPARATOR_NAME="DropdownMenuSeparator",DropdownMenuSeparator$1=reactExports.forwardRef((i,e)=>{const{__scopeDropdownMenu:s,...o}=i,c=useMenuScope(s);return jsxRuntimeExports.jsx(Separator$2,{...c,...o,ref:e})});DropdownMenuSeparator$1.displayName=SEPARATOR_NAME;var ARROW_NAME="DropdownMenuArrow",DropdownMenuArrow=reactExports.forwardRef((i,e)=>{const{__scopeDropdownMenu:s,...o}=i,c=useMenuScope(s);return jsxRuntimeExports.jsx(Arrow2,{...c,...o,ref:e})});DropdownMenuArrow.displayName=ARROW_NAME;var SUB_TRIGGER_NAME="DropdownMenuSubTrigger",DropdownMenuSubTrigger$1=reactExports.forwardRef((i,e)=>{const{__scopeDropdownMenu:s,...o}=i,c=useMenuScope(s);return jsxRuntimeExports.jsx(SubTrigger,{...c,...o,ref:e})});DropdownMenuSubTrigger$1.displayName=SUB_TRIGGER_NAME;var SUB_CONTENT_NAME="DropdownMenuSubContent",DropdownMenuSubContent$1=reactExports.forwardRef((i,e)=>{const{__scopeDropdownMenu:s,...o}=i,c=useMenuScope(s);return jsxRuntimeExports.jsx(SubContent,{...c,...o,ref:e,style:{...i.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuSubContent$1.displayName=SUB_CONTENT_NAME;var Root2$1=DropdownMenu$1,Trigger$1=DropdownMenuTrigger$1,Portal2$1=DropdownMenuPortal,Content2$1=DropdownMenuContent$1,Label2=DropdownMenuLabel$1,Item2=DropdownMenuItem$1,CheckboxItem2=DropdownMenuCheckboxItem$1,RadioItem2=DropdownMenuRadioItem$1,ItemIndicator2=DropdownMenuItemIndicator,Separator2=DropdownMenuSeparator$1,SubTrigger2=DropdownMenuSubTrigger$1,SubContent2=DropdownMenuSubContent$1;const DropdownMenu=Root2$1,DropdownMenuTrigger=Trigger$1,DropdownMenuSubTrigger=reactExports.forwardRef(({className:i,inset:e,children:s,...o},c)=>jsxRuntimeExports.jsxs(SubTrigger2,{ref:c,className:cn("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent/60 focus:text-accent-foreground data-[state=open]:bg-accent/60 data-[state=open]:text-accent-foreground transition-colors",e&&"pl-8",i),...o,children:[s,jsxRuntimeExports.jsx(ChevronRight,{className:"ml-auto h-4 w-4"})]}));DropdownMenuSubTrigger.displayName=SubTrigger2.displayName;const DropdownMenuSubContent=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(SubContent2,{ref:s,className:cn("z-50 min-w-[8rem] overflow-hidden rounded-md border border-border/40 bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 duration-200",i),...e}));DropdownMenuSubContent.displayName=SubContent2.displayName;const DropdownMenuContent=reactExports.forwardRef(({className:i,sideOffset:e=4,...s},o)=>jsxRuntimeExports.jsx(Portal2$1,{children:jsxRuntimeExports.jsx(Content2$1,{ref:o,sideOffset:e,className:cn("z-50 min-w-[8rem] overflow-hidden rounded-md border border-border/40 bg-popover/95 backdrop-blur-sm p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 duration-200",i),...s})}));DropdownMenuContent.displayName=Content2$1.displayName;const DropdownMenuItem=reactExports.forwardRef(({className:i,inset:e,...s},o)=>jsxRuntimeExports.jsx(Item2,{ref:o,className:cn("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent/60 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",i),...s}));DropdownMenuItem.displayName=Item2.displayName;const DropdownMenuCheckboxItem=reactExports.forwardRef(({className:i,children:e,checked:s,...o},c)=>jsxRuntimeExports.jsxs(CheckboxItem2,{ref:c,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent/60 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i),checked:s,...o,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4 text-primary"})})}),e]}));DropdownMenuCheckboxItem.displayName=CheckboxItem2.displayName;const DropdownMenuRadioItem=reactExports.forwardRef(({className:i,children:e,...s},o)=>jsxRuntimeExports.jsxs(RadioItem2,{ref:o,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent/60 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i),...s,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2,{children:jsxRuntimeExports.jsx(Circle,{className:"h-2 w-2 fill-current text-primary"})})}),e]}));DropdownMenuRadioItem.displayName=RadioItem2.displayName;const DropdownMenuLabel=reactExports.forwardRef(({className:i,inset:e,...s},o)=>jsxRuntimeExports.jsx(Label2,{ref:o,className:cn("px-2 py-1.5 text-sm font-medium text-foreground/80",e&&"pl-8",i),...s}));DropdownMenuLabel.displayName=Label2.displayName;const DropdownMenuSeparator=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Separator2,{ref:s,className:cn("-mx-1 my-1 h-px bg-border/60",i),...e}));DropdownMenuSeparator.displayName=Separator2.displayName;const SolutionsDropdown=()=>jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsxs(DropdownMenuTrigger,{className:"flex items-center gap-1 text-gray-600 hover:text-blue-600 transition-colors cursor-pointer",children:["Solutions",jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})]}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"start",className:"w-48",children:[jsxRuntimeExports.jsx(DropdownMenuItem,{asChild:!0,children:jsxRuntimeExports.jsx("a",{href:"#features",className:"w-full cursor-pointer",children:"Features"})}),jsxRuntimeExports.jsx(DropdownMenuItem,{asChild:!0,children:jsxRuntimeExports.jsx(Link,{to:"/analytics",className:"w-full cursor-pointer",children:"Analytics"})}),jsxRuntimeExports.jsx(DropdownMenuItem,{asChild:!0,children:jsxRuntimeExports.jsx(Link,{to:"/training",className:"w-full cursor-pointer",children:"Training"})}),jsxRuntimeExports.jsx(DropdownMenuItem,{asChild:!0,children:jsxRuntimeExports.jsx(Link,{to:"/support",className:"w-full cursor-pointer",children:"Support"})}),jsxRuntimeExports.jsx(DropdownMenuItem,{asChild:!0,children:jsxRuntimeExports.jsx("a",{href:"#testimonials",className:"w-full cursor-pointer",children:"Testimonials"})})]})]});var DIALOG_NAME="Dialog",[createDialogContext,createDialogScope]=createContextScope(DIALOG_NAME),[DialogProvider,useDialogContext]=createDialogContext(DIALOG_NAME),Dialog$1=i=>{const{__scopeDialog:e,children:s,open:o,defaultOpen:c,onOpenChange:d,modal:h=!0}=i,g=reactExports.useRef(null),j=reactExports.useRef(null),[_,$]=useControllableState({prop:o,defaultProp:c??!1,onChange:d,caller:DIALOG_NAME});return jsxRuntimeExports.jsx(DialogProvider,{scope:e,triggerRef:g,contentRef:j,contentId:useId(),titleId:useId(),descriptionId:useId(),open:_,onOpenChange:$,onOpenToggle:reactExports.useCallback(()=>$(_e=>!_e),[$]),modal:h,children:s})};Dialog$1.displayName=DIALOG_NAME;var TRIGGER_NAME$2="DialogTrigger",DialogTrigger$1=reactExports.forwardRef((i,e)=>{const{__scopeDialog:s,...o}=i,c=useDialogContext(TRIGGER_NAME$2,s),d=useComposedRefs(e,c.triggerRef);return jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":getState$2(c.open),...o,ref:d,onClick:composeEventHandlers(i.onClick,c.onOpenToggle)})});DialogTrigger$1.displayName=TRIGGER_NAME$2;var PORTAL_NAME$1="DialogPortal",[PortalProvider,usePortalContext]=createDialogContext(PORTAL_NAME$1,{forceMount:void 0}),DialogPortal$1=i=>{const{__scopeDialog:e,forceMount:s,children:o,container:c}=i,d=useDialogContext(PORTAL_NAME$1,e);return jsxRuntimeExports.jsx(PortalProvider,{scope:e,forceMount:s,children:reactExports.Children.map(o,h=>jsxRuntimeExports.jsx(Presence,{present:s||d.open,children:jsxRuntimeExports.jsx(Portal$3,{asChild:!0,container:c,children:h})}))})};DialogPortal$1.displayName=PORTAL_NAME$1;var OVERLAY_NAME$1="DialogOverlay",DialogOverlay$1=reactExports.forwardRef((i,e)=>{const s=usePortalContext(OVERLAY_NAME$1,i.__scopeDialog),{forceMount:o=s.forceMount,...c}=i,d=useDialogContext(OVERLAY_NAME$1,i.__scopeDialog);return d.modal?jsxRuntimeExports.jsx(Presence,{present:o||d.open,children:jsxRuntimeExports.jsx(DialogOverlayImpl,{...c,ref:e})}):null});DialogOverlay$1.displayName=OVERLAY_NAME$1;var Slot=createSlot("DialogOverlay.RemoveScroll"),DialogOverlayImpl=reactExports.forwardRef((i,e)=>{const{__scopeDialog:s,...o}=i,c=useDialogContext(OVERLAY_NAME$1,s);return jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,shards:[c.contentRef],children:jsxRuntimeExports.jsx(Primitive.div,{"data-state":getState$2(c.open),...o,ref:e,style:{pointerEvents:"auto",...o.style}})})}),CONTENT_NAME$1="DialogContent",DialogContent$1=reactExports.forwardRef((i,e)=>{const s=usePortalContext(CONTENT_NAME$1,i.__scopeDialog),{forceMount:o=s.forceMount,...c}=i,d=useDialogContext(CONTENT_NAME$1,i.__scopeDialog);return jsxRuntimeExports.jsx(Presence,{present:o||d.open,children:d.modal?jsxRuntimeExports.jsx(DialogContentModal,{...c,ref:e}):jsxRuntimeExports.jsx(DialogContentNonModal,{...c,ref:e})})});DialogContent$1.displayName=CONTENT_NAME$1;var DialogContentModal=reactExports.forwardRef((i,e)=>{const s=useDialogContext(CONTENT_NAME$1,i.__scopeDialog),o=reactExports.useRef(null),c=useComposedRefs(e,s.contentRef,o);return reactExports.useEffect(()=>{const d=o.current;if(d)return hideOthers(d)},[]),jsxRuntimeExports.jsx(DialogContentImpl,{...i,ref:c,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(i.onCloseAutoFocus,d=>{var h;d.preventDefault(),(h=s.triggerRef.current)==null||h.focus()}),onPointerDownOutside:composeEventHandlers(i.onPointerDownOutside,d=>{const h=d.detail.originalEvent,g=h.button===0&&h.ctrlKey===!0;(h.button===2||g)&&d.preventDefault()}),onFocusOutside:composeEventHandlers(i.onFocusOutside,d=>d.preventDefault())})}),DialogContentNonModal=reactExports.forwardRef((i,e)=>{const s=useDialogContext(CONTENT_NAME$1,i.__scopeDialog),o=reactExports.useRef(!1),c=reactExports.useRef(!1);return jsxRuntimeExports.jsx(DialogContentImpl,{...i,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{var h,g;(h=i.onCloseAutoFocus)==null||h.call(i,d),d.defaultPrevented||(o.current||(g=s.triggerRef.current)==null||g.focus(),d.preventDefault()),o.current=!1,c.current=!1},onInteractOutside:d=>{var j,_;(j=i.onInteractOutside)==null||j.call(i,d),d.defaultPrevented||(o.current=!0,d.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const h=d.target;((_=s.triggerRef.current)==null?void 0:_.contains(h))&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&c.current&&d.preventDefault()}})}),DialogContentImpl=reactExports.forwardRef((i,e)=>{const{__scopeDialog:s,trapFocus:o,onOpenAutoFocus:c,onCloseAutoFocus:d,...h}=i,g=useDialogContext(CONTENT_NAME$1,s),j=reactExports.useRef(null),_=useComposedRefs(e,j);return useFocusGuards(),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:c,onUnmountAutoFocus:d,children:jsxRuntimeExports.jsx(DismissableLayer,{role:"dialog",id:g.contentId,"aria-describedby":g.descriptionId,"aria-labelledby":g.titleId,"data-state":getState$2(g.open),...h,ref:_,onDismiss:()=>g.onOpenChange(!1)})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TitleWarning,{titleId:g.titleId}),jsxRuntimeExports.jsx(DescriptionWarning$1,{contentRef:j,descriptionId:g.descriptionId})]})]})}),TITLE_NAME$1="DialogTitle",DialogTitle$1=reactExports.forwardRef((i,e)=>{const{__scopeDialog:s,...o}=i,c=useDialogContext(TITLE_NAME$1,s);return jsxRuntimeExports.jsx(Primitive.h2,{id:c.titleId,...o,ref:e})});DialogTitle$1.displayName=TITLE_NAME$1;var DESCRIPTION_NAME$1="DialogDescription",DialogDescription$1=reactExports.forwardRef((i,e)=>{const{__scopeDialog:s,...o}=i,c=useDialogContext(DESCRIPTION_NAME$1,s);return jsxRuntimeExports.jsx(Primitive.p,{id:c.descriptionId,...o,ref:e})});DialogDescription$1.displayName=DESCRIPTION_NAME$1;var CLOSE_NAME="DialogClose",DialogClose=reactExports.forwardRef((i,e)=>{const{__scopeDialog:s,...o}=i,c=useDialogContext(CLOSE_NAME,s);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",...o,ref:e,onClick:composeEventHandlers(i.onClick,()=>c.onOpenChange(!1))})});DialogClose.displayName=CLOSE_NAME;function getState$2(i){return i?"open":"closed"}var TITLE_WARNING_NAME="DialogTitleWarning",[WarningProvider,useWarningContext]=createContext2(TITLE_WARNING_NAME,{contentName:CONTENT_NAME$1,titleName:TITLE_NAME$1,docsSlug:"dialog"}),TitleWarning=({titleId:i})=>{const e=useWarningContext(TITLE_WARNING_NAME),s=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return reactExports.useEffect(()=>{i&&(document.getElementById(i)||console.error(s))},[s,i]),null},DESCRIPTION_WARNING_NAME="DialogDescriptionWarning",DescriptionWarning$1=({contentRef:i,descriptionId:e})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${useWarningContext(DESCRIPTION_WARNING_NAME).contentName}}.`;return reactExports.useEffect(()=>{var d;const c=(d=i.current)==null?void 0:d.getAttribute("aria-describedby");e&&c&&(document.getElementById(e)||console.warn(o))},[o,i,e]),null},Root$5=Dialog$1,Trigger=DialogTrigger$1,Portal=DialogPortal$1,Overlay=DialogOverlay$1,Content=DialogContent$1,Title=DialogTitle$1,Description=DialogDescription$1,Close=DialogClose;const Dialog=Root$5,DialogTrigger=Trigger,DialogPortal=Portal,DialogOverlay=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Overlay,{ref:s,className:cn("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",i),...e}));DialogOverlay.displayName=Overlay.displayName;const DialogContent=reactExports.forwardRef(({className:i,children:e,...s},o)=>jsxRuntimeExports.jsxs(DialogPortal,{children:[jsxRuntimeExports.jsx(DialogOverlay,{}),jsxRuntimeExports.jsxs(Content,{ref:o,className:cn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border/40 bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",i),...s,children:[e,jsxRuntimeExports.jsxs(Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[jsxRuntimeExports.jsx(X,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));DialogContent.displayName=Content.displayName;const DialogHeader=({className:i,...e})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-1.5 text-center sm:text-left",i),...e});DialogHeader.displayName="DialogHeader";const DialogTitle=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Title,{ref:s,className:cn("text-lg font-semibold leading-none tracking-tight text-foreground",i),...e}));DialogTitle.displayName=Title.displayName;const DialogDescription=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Description,{ref:s,className:cn("text-sm text-muted-foreground",i),...e}));DialogDescription.displayName=Description.displayName;const AISearchBar=({placeholder:i="Ask AI about projects, teams, or features...",onResults:e})=>{var _;const[s,o]=reactExports.useState(""),[c,d]=reactExports.useState(!1),[h,g]=reactExports.useState(null),j=async()=>{if(s.trim()){d(!0);try{const{data:$,error:_e}=await supabase$1.functions.invoke("ai-search",{body:{query:s,context:"platform"}});if(_e)throw _e;g($),e==null||e($)}catch($){console.error("Search error:",$),g({answer:"Sorry, search is temporarily unavailable.",suggestions:[]})}finally{d(!1)}}};return jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{value:s,onChange:$=>o($.target.value),placeholder:i,onKeyPress:$=>$.key==="Enter"&&j(),className:"flex-1"}),jsxRuntimeExports.jsx(Button,{onClick:j,disabled:c||!s.trim(),size:"sm",children:c?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Search,{className:"h-4 w-4"})})]}),h&&jsxRuntimeExports.jsx(Card,{className:"absolute top-full mt-2 w-full z-50 shadow-lg",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm mb-2",children:h.answer}),((_=h.suggestions)==null?void 0:_.length)>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-1",children:"Suggestions:"}),jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside space-y-1",children:h.suggestions.map(($,_e)=>jsxRuntimeExports.jsx("li",{children:$},_e))})]})]})})]})},SearchModal=({isOpen:i,onClose:e})=>jsxRuntimeExports.jsx(Dialog,{open:i,onOpenChange:e,children:jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-2xl",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Search,{className:"h-5 w-5"}),"Search Platform"]})}),jsxRuntimeExports.jsx("div",{className:"py-4",children:jsxRuntimeExports.jsx(AISearchBar,{placeholder:"Ask AI about projects, teams, features, or anything..."})})]})});function useAdmin(){const[i,e]=reactExports.useState(!1),[s,o]=reactExports.useState(null),[c,d]=reactExports.useState(!0),{user:h,isAuthenticated:g}=useAuth();return reactExports.useEffect(()=>{async function j(){if(!g||!h){e(!1),o(null),d(!1);return}try{const{data:_,error:$}=await supabase$1.rpc("is_admin");if($)console.error("Error checking admin status:",$),e(!1),o(null);else if(e(_||!1),_){const{data:_e,error:st}=await supabase$1.from("admin_users").select("*").eq("user_id",h.id).eq("is_active",!0).single();!st&&_e&&o(_e)}else o(null)}catch(_){console.error("Admin check error:",_),e(!1),o(null)}finally{d(!1)}}j()},[h,g]),{isAdmin:i,adminData:s,loading:c}}const ROUTES={start:"/start",signup:"/signup",signin:"/login",postProject:"/projects?open=post-project",teamCreate:"/team-profile/create"},getCurrentDomain=()=>typeof window>"u"?"https://teams-remote-urgent.deploypad.app":window.location.origin,buildDomainUrl=(i,e)=>{const s=getCurrentDomain(),o=new URL(i,s);return e&&Object.entries(e).forEach(([c,d])=>{d&&o.searchParams.set(c,d)}),o.toString()},SIGNUP_ROUTE$1=ROUTES.signup,SIGNIN_ROUTE=ROUTES.signin,buildAuthUrl=(i,e,s)=>{const o={};return e&&(o.next=e),s&&(o.intent=s),buildDomainUrl(i,o)},Navigation=()=>{var it;const[i,e]=reactExports.useState(!1),[s,o]=reactExports.useState(!1),[c,d]=reactExports.useState(!1),h=useNavigate(),{toast:g}=useToast(),{isAuthenticated:j,user:_}=useAuth(),{isAdmin:$}=useAdmin();reactExports.useEffect(()=>{(async()=>{if(!j||!(_!=null&&_.id)){console.log("Navigation: User not authenticated or no user ID");return}console.log("Navigation: Checking user status for user ID:",_.id);try{const{data:lt,error:ot}=await supabase$1.from("teams").select("id").eq("created_by",_.id).single();console.log("Navigation: Team data:",lt,"Error:",ot),o(!!lt);const{data:at,error:ct}=await supabase$1.from("projects").select("id").eq("client_id",_.id).limit(1);console.log("Navigation: Project data:",at,"Error:",ct),d(!!at&&at.length>0)}catch(lt){console.error("Error checking user status:",lt)}})()},[j,_==null?void 0:_.id]);const _e=()=>{const nt=buildAuthUrl(SIGNUP_ROUTE$1,"/start");window.location.href=nt},st=async()=>{await supabase$1.auth.signOut(),g({title:"Signed out successfully",description:"You have been logged out of your account."}),h("/")},rt=()=>{const nt="/team-profile/create";if(!j){window.location.href=buildAuthUrl(SIGNUP_ROUTE$1,nt,"team");return}h(nt)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("nav",{className:"sticky top-0 w-full bg-white/90 backdrop-blur-lg border-b border-gray-100 z-50 shadow-sm",children:jsxRuntimeExports.jsx("div",{className:"mx-auto px-8 py-5",style:{maxWidth:"100rem"},children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Link,{to:"/",className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent hover:opacity-90 transition-opacity",children:"LinkUp"}),jsxRuntimeExports.jsxs("div",{className:"hidden md:flex items-center space-x-12",children:[jsxRuntimeExports.jsx(Link,{to:"/",className:"text-gray-700 hover:text-blue-600 transition-colors font-medium",children:"How It Works"}),jsxRuntimeExports.jsx("button",{onClick:rt,className:"text-gray-700 hover:text-blue-600 font-medium",children:"Team Profile"}),j&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 bg-gradient-to-r from-blue-50 to-purple-50 rounded-full px-4 py-2 border border-blue-200 shadow-sm",children:[jsxRuntimeExports.jsx(Link,{to:"/team-dashboard",className:"bg-blue-600 hover:bg-blue-700 text-white transition-all duration-200 font-medium px-4 py-2 rounded-full text-sm shadow-md hover:shadow-lg transform hover:scale-105 cursor-pointer no-underline",onClick:nt=>{console.log("Team Dashboard clicked"),nt.preventDefault(),h("/team-dashboard")},children:"Team Dashboard"}),jsxRuntimeExports.jsx(Link,{to:"/project-dashboard",className:"bg-purple-600 hover:bg-purple-700 text-white transition-all duration-200 font-medium px-4 py-2 rounded-full text-sm shadow-md hover:shadow-lg transform hover:scale-105 cursor-pointer no-underline",onClick:nt=>{console.log("Project Dashboard clicked"),nt.preventDefault(),h("/project-dashboard")},children:"Project Dashboard"})]}),j&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["Auth:  | Team: ",s?"":""," | Projects: ",c?"":""]}),jsxRuntimeExports.jsx(SolutionsDropdown,{}),$&&jsxRuntimeExports.jsxs(Link,{to:"/admin/email-console",className:"text-gray-700 hover:text-blue-600 transition-colors font-medium flex items-center gap-2",children:[jsxRuntimeExports.jsx(Settings,{className:"h-4 w-4"}),"Admin"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-6",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>e(!0),className:"text-gray-600 hover:text-blue-600 hover:bg-blue-50",children:jsxRuntimeExports.jsx(Search,{className:"h-5 w-5"})}),j?jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"h-4 w-4 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-gray-700 font-medium",children:((it=_==null?void 0:_.email)==null?void 0:it.split("@")[0])||"User"})]}),jsxRuntimeExports.jsxs(Button,{variant:"ghost",onClick:st,className:"text-gray-700 hover:text-red-600 font-medium flex items-center gap-2",children:[jsxRuntimeExports.jsx(LogOut,{className:"h-4 w-4"}),"Sign Out"]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Link,{to:SIGNIN_ROUTE,children:jsxRuntimeExports.jsx(Button,{variant:"ghost",className:"text-gray-700 hover:text-blue-600 font-medium",children:"Sign In"})}),jsxRuntimeExports.jsx(Button,{onClick:_e,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-full px-8 py-2.5 shadow-lg hover:shadow-xl transition-all duration-200 font-medium",children:"Get Started"})]})]})]})})}),jsxRuntimeExports.jsx(SearchModal,{isOpen:i,onClose:()=>e(!1)})]})},Analytics=()=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50",children:[jsxRuntimeExports.jsx(Navigation,{}),jsxRuntimeExports.jsx("div",{className:"pt-20",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-8",children:jsxRuntimeExports.jsxs(Tabs,{defaultValue:"dashboard",className:"space-y-6",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-3",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"dashboard",children:"Analytics Dashboard"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"admin",children:"Admin Analytics"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"ai",children:"AI Insights"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"dashboard",children:jsxRuntimeExports.jsx(AnalyticsDashboard,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"admin",children:jsxRuntimeExports.jsx(AdminAnalytics,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"ai",children:jsxRuntimeExports.jsx(AIAnalyticsDashboard,{})})]})})})]}),TrainingModuleCard=({module:i})=>{const[e,s]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(Card,{className:"hover:shadow-lg transition-shadow",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg mb-2",children:i.title}),jsxRuntimeExports.jsxs(CardDescription,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:i.industry}),i.aiGenerated&&jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-blue-600",children:"AI Generated"})]})]}),jsxRuntimeExports.jsx(Award,{className:"h-5 w-5 text-yellow-500"})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-3",children:[i.content.substring(0,150),"..."]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{children:new Date(i.createdAt).toLocaleDateString()})]}),jsxRuntimeExports.jsxs(Dialog,{open:e,onOpenChange:s,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(BookOpen,{className:"h-4 w-4 mr-2"}),"View Module"]})}),jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Award,{className:"h-5 w-5 text-yellow-500"}),i.title]}),jsxRuntimeExports.jsxs(DialogDescription,{children:[jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"mr-2",children:i.industry}),i.aiGenerated&&jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-blue-600",children:"AI Generated from Top Performers"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-3",children:"Best Practices & Insights"}),jsxRuntimeExports.jsx("div",{className:"prose prose-sm max-w-none",children:jsxRuntimeExports.jsx("p",{className:"whitespace-pre-wrap",children:i.content})})]}),i.practices&&i.practices.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-3",children:"Key Practices"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:i.practices.map((o,c)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:o})]},c))})]})]})]})]})]})]})]})},TrainingPortal=()=>{const[i,e]=reactExports.useState([]),[s,o]=reactExports.useState(!0),[c,d]=reactExports.useState("all"),h=["all","Software Development","Design","Marketing","Content Creation"];reactExports.useEffect(()=>{g()},[]);const g=async()=>{try{const{data:_,error:$}=await supabase$1.from("training_modules").select("*").eq("approved",!0).order("created_at",{ascending:!1});if($)throw $;e(_||[])}catch(_){console.error("Error fetching training modules:",_)}finally{o(!1)}},j=c==="all"?i:i.filter(_=>_.industry===c);return s?jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-8",children:jsxRuntimeExports.jsx("div",{className:"text-center",children:"Loading training modules..."})}):jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-8",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx(BookOpen,{className:"h-8 w-8"}),"Training Academy"]}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Learn from the best teams and master industry best practices"})]}),jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsx(Card,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:jsxRuntimeExports.jsx(TrendingUp,{className:"h-6 w-6 text-blue-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-blue-900",children:"Learn from Top Performers"}),jsxRuntimeExports.jsx("p",{className:"text-blue-700",children:"AI-curated insights from the highest-rated teams in each industry"})]})]})})})}),jsxRuntimeExports.jsxs(Tabs,{value:c,onValueChange:d,className:"space-y-6",children:[jsxRuntimeExports.jsx(TabsList,{className:"grid w-full grid-cols-5",children:h.map(_=>jsxRuntimeExports.jsx(TabsTrigger,{value:_,className:"capitalize",children:_==="all"?"All Industries":_},_))}),jsxRuntimeExports.jsx(TabsContent,{value:c,className:"space-y-6",children:j.length===0?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(BookOpen,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium mb-2",children:"No training modules yet"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Training modules will appear here once they're created and approved."})]})}):jsxRuntimeExports.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:j.map(_=>jsxRuntimeExports.jsx(TrainingModuleCard,{module:_},_.id))})})]})]})},TrainingAcademy=()=>{const[i,e]=reactExports.useState([]),[s,o]=reactExports.useState([]),[c,d]=reactExports.useState(!0),[h,g]=reactExports.useState("all");reactExports.useEffect(()=>{j()},[]);const j=async()=>{try{const{data:st,error:rt}=await supabase$1.from("training_modules").select("*").order("created_at",{ascending:!1});if(rt)throw rt;const it=st||[];e(it),o(it.filter(nt=>nt.featured))}catch(st){console.error("Error loading training modules:",st)}finally{d(!1)}},_=[{id:"1",title:"High-Performance E-commerce Development",description:"Learn from top-rated teams how to build scalable e-commerce platforms",industry:"E-commerce",difficulty:"Advanced",duration:"4 hours",rating:4.9,enrollments:1250,lessons:12,featured:!0,createdBy:"AI Analytics",tags:["React","Node.js","AWS","Performance"]},{id:"2",title:"Healthcare App Security Best Practices",description:"HIPAA-compliant development workflows from industry leaders",industry:"Healthcare",difficulty:"Intermediate",duration:"3 hours",rating:4.8,enrollments:890,lessons:8,featured:!0,createdBy:"AI Analytics",tags:["Security","HIPAA","Compliance","Database"]},{id:"3",title:"Fintech MVP Development Strategy",description:"Rapid prototyping techniques from successful fintech teams",industry:"Finance",difficulty:"Beginner",duration:"2.5 hours",rating:4.7,enrollments:2100,lessons:6,featured:!1,createdBy:"AI Analytics",tags:["MVP","Fintech","Strategy","Agile"]}],$=h==="all"?_:_.filter(st=>st.industry.toLowerCase()===h),_e=["all","e-commerce","healthcare","finance","saas"];return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-center space-y-2",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold",children:"Training Academy"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Learn from the best teams and proven workflows"}),jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"bg-gradient-to-r from-purple-100 to-blue-100",children:[jsxRuntimeExports.jsx(Trophy,{className:"w-3 h-3 mr-1"}),"AI-Curated Content"]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"featured",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-3",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"featured",children:"Featured"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"all",children:"All Courses"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"masterclasses",children:"Masterclasses"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"featured",className:"space-y-6",children:jsxRuntimeExports.jsx("div",{className:"grid gap-6",children:_.filter(st=>st.featured).map(st=>jsxRuntimeExports.jsxs(Card,{className:"overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold",children:st.title}),jsxRuntimeExports.jsx("p",{className:"opacity-90",children:st.description})]}),jsxRuntimeExports.jsxs(Badge,{className:"bg-white text-purple-600",children:[jsxRuntimeExports.jsx(Star,{className:"w-3 h-3 mr-1"}),st.rating]})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 mx-auto mb-1 text-gray-500"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium",children:st.duration})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-4 h-4 mx-auto mb-1 text-gray-500"}),jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium",children:[st.lessons," lessons"]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4 mx-auto mb-1 text-gray-500"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium",children:st.enrollments})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(Trophy,{className:"w-4 h-4 mx-auto mb-1 text-gray-500"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium",children:st.difficulty})]})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:st.tags.map((rt,it)=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:rt},it))}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500",children:["Created by ",st.createdBy]}),jsxRuntimeExports.jsxs(Button,{children:[jsxRuntimeExports.jsx(Play,{className:"w-4 h-4 mr-2"}),"Start Learning"]})]})]})]},st.id))})}),jsxRuntimeExports.jsxs(TabsContent,{value:"all",className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex gap-2 mb-6",children:_e.map(st=>jsxRuntimeExports.jsx(Button,{variant:h===st?"default":"outline",size:"sm",onClick:()=>g(st),children:st.charAt(0).toUpperCase()+st.slice(1)},st))}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:$.map(st=>jsxRuntimeExports.jsxs(Card,{className:"hover:shadow-lg transition-shadow",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"pb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",children:st.industry}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Star,{className:"w-3 h-3 text-yellow-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:st.rating})]})]}),jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:st.title})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-3",children:st.description}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-3",children:[jsxRuntimeExports.jsx("span",{children:st.duration}),jsxRuntimeExports.jsxs("span",{children:[st.lessons," lessons"]})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:st.tags.slice(0,3).map((rt,it)=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:rt},it))}),jsxRuntimeExports.jsxs(Button,{className:"w-full",size:"sm",children:[jsxRuntimeExports.jsx(Play,{className:"w-3 h-3 mr-1"}),"Start Course"]})]})]},st.id))})]}),jsxRuntimeExports.jsx(TabsContent,{value:"masterclasses",className:"space-y-6",children:jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(Trophy,{className:"w-16 h-16 mx-auto mb-4 text-yellow-500"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Exclusive Masterclasses"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:"Deep-dive sessions with industry experts and top-performing teams"}),jsxRuntimeExports.jsxs(Button,{children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4 mr-2"}),"Coming Soon"]})]})})]})]})},Training=()=>jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50",children:jsxRuntimeExports.jsx("div",{className:"pt-20",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-8",children:jsxRuntimeExports.jsxs(Tabs,{defaultValue:"portal",className:"space-y-6",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-2",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"portal",children:"Training Portal"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"academy",children:"Learn from the Best"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"portal",children:jsxRuntimeExports.jsx(TrainingPortal,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"academy",children:jsxRuntimeExports.jsx(TrainingAcademy,{})})]})})})}),Textarea=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx("textarea",{className:cn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 transition-colors resize-none",i),ref:s,...e}));Textarea.displayName="Textarea";function useStateMachine(i,e){return reactExports.useReducer((s,o)=>e[s][o]??s,i)}var SCROLL_AREA_NAME="ScrollArea",[createScrollAreaContext,createScrollAreaScope]=createContextScope(SCROLL_AREA_NAME),[ScrollAreaProvider,useScrollAreaContext]=createScrollAreaContext(SCROLL_AREA_NAME),ScrollArea$1=reactExports.forwardRef((i,e)=>{const{__scopeScrollArea:s,type:o="hover",dir:c,scrollHideDelay:d=600,...h}=i,[g,j]=reactExports.useState(null),[_,$]=reactExports.useState(null),[_e,st]=reactExports.useState(null),[rt,it]=reactExports.useState(null),[nt,lt]=reactExports.useState(null),[ot,at]=reactExports.useState(0),[ct,ut]=reactExports.useState(0),[ht,mt]=reactExports.useState(!1),[xt,Et]=reactExports.useState(!1),Tt=useComposedRefs(e,gt=>j(gt)),St=useDirection(c);return jsxRuntimeExports.jsx(ScrollAreaProvider,{scope:s,type:o,dir:St,scrollHideDelay:d,scrollArea:g,viewport:_,onViewportChange:$,content:_e,onContentChange:st,scrollbarX:rt,onScrollbarXChange:it,scrollbarXEnabled:ht,onScrollbarXEnabledChange:mt,scrollbarY:nt,onScrollbarYChange:lt,scrollbarYEnabled:xt,onScrollbarYEnabledChange:Et,onCornerWidthChange:at,onCornerHeightChange:ut,children:jsxRuntimeExports.jsx(Primitive.div,{dir:St,...h,ref:Tt,style:{position:"relative","--radix-scroll-area-corner-width":ot+"px","--radix-scroll-area-corner-height":ct+"px",...i.style}})})});ScrollArea$1.displayName=SCROLL_AREA_NAME;var VIEWPORT_NAME="ScrollAreaViewport",ScrollAreaViewport=reactExports.forwardRef((i,e)=>{const{__scopeScrollArea:s,children:o,nonce:c,...d}=i,h=useScrollAreaContext(VIEWPORT_NAME,s),g=reactExports.useRef(null),j=useComposedRefs(e,g,h.onViewportChange);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:c}),jsxRuntimeExports.jsx(Primitive.div,{"data-radix-scroll-area-viewport":"",...d,ref:j,style:{overflowX:h.scrollbarXEnabled?"scroll":"hidden",overflowY:h.scrollbarYEnabled?"scroll":"hidden",...i.style},children:jsxRuntimeExports.jsx("div",{ref:h.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});ScrollAreaViewport.displayName=VIEWPORT_NAME;var SCROLLBAR_NAME="ScrollAreaScrollbar",ScrollAreaScrollbar=reactExports.forwardRef((i,e)=>{const{forceMount:s,...o}=i,c=useScrollAreaContext(SCROLLBAR_NAME,i.__scopeScrollArea),{onScrollbarXEnabledChange:d,onScrollbarYEnabledChange:h}=c,g=i.orientation==="horizontal";return reactExports.useEffect(()=>(g?d(!0):h(!0),()=>{g?d(!1):h(!1)}),[g,d,h]),c.type==="hover"?jsxRuntimeExports.jsx(ScrollAreaScrollbarHover,{...o,ref:e,forceMount:s}):c.type==="scroll"?jsxRuntimeExports.jsx(ScrollAreaScrollbarScroll,{...o,ref:e,forceMount:s}):c.type==="auto"?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{...o,ref:e,forceMount:s}):c.type==="always"?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{...o,ref:e}):null});ScrollAreaScrollbar.displayName=SCROLLBAR_NAME;var ScrollAreaScrollbarHover=reactExports.forwardRef((i,e)=>{const{forceMount:s,...o}=i,c=useScrollAreaContext(SCROLLBAR_NAME,i.__scopeScrollArea),[d,h]=reactExports.useState(!1);return reactExports.useEffect(()=>{const g=c.scrollArea;let j=0;if(g){const _=()=>{window.clearTimeout(j),h(!0)},$=()=>{j=window.setTimeout(()=>h(!1),c.scrollHideDelay)};return g.addEventListener("pointerenter",_),g.addEventListener("pointerleave",$),()=>{window.clearTimeout(j),g.removeEventListener("pointerenter",_),g.removeEventListener("pointerleave",$)}}},[c.scrollArea,c.scrollHideDelay]),jsxRuntimeExports.jsx(Presence,{present:s||d,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{"data-state":d?"visible":"hidden",...o,ref:e})})}),ScrollAreaScrollbarScroll=reactExports.forwardRef((i,e)=>{const{forceMount:s,...o}=i,c=useScrollAreaContext(SCROLLBAR_NAME,i.__scopeScrollArea),d=i.orientation==="horizontal",h=useDebounceCallback(()=>j("SCROLL_END"),100),[g,j]=useStateMachine("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return reactExports.useEffect(()=>{if(g==="idle"){const _=window.setTimeout(()=>j("HIDE"),c.scrollHideDelay);return()=>window.clearTimeout(_)}},[g,c.scrollHideDelay,j]),reactExports.useEffect(()=>{const _=c.viewport,$=d?"scrollLeft":"scrollTop";if(_){let _e=_[$];const st=()=>{const rt=_[$];_e!==rt&&(j("SCROLL"),h()),_e=rt};return _.addEventListener("scroll",st),()=>_.removeEventListener("scroll",st)}},[c.viewport,d,j,h]),jsxRuntimeExports.jsx(Presence,{present:s||g!=="hidden",children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":g==="hidden"?"hidden":"visible",...o,ref:e,onPointerEnter:composeEventHandlers(i.onPointerEnter,()=>j("POINTER_ENTER")),onPointerLeave:composeEventHandlers(i.onPointerLeave,()=>j("POINTER_LEAVE"))})})}),ScrollAreaScrollbarAuto=reactExports.forwardRef((i,e)=>{const s=useScrollAreaContext(SCROLLBAR_NAME,i.__scopeScrollArea),{forceMount:o,...c}=i,[d,h]=reactExports.useState(!1),g=i.orientation==="horizontal",j=useDebounceCallback(()=>{if(s.viewport){const _=s.viewport.offsetWidth<s.viewport.scrollWidth,$=s.viewport.offsetHeight<s.viewport.scrollHeight;h(g?_:$)}},10);return useResizeObserver(s.viewport,j),useResizeObserver(s.content,j),jsxRuntimeExports.jsx(Presence,{present:o||d,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":d?"visible":"hidden",...c,ref:e})})}),ScrollAreaScrollbarVisible=reactExports.forwardRef((i,e)=>{const{orientation:s="vertical",...o}=i,c=useScrollAreaContext(SCROLLBAR_NAME,i.__scopeScrollArea),d=reactExports.useRef(null),h=reactExports.useRef(0),[g,j]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),_=getThumbRatio(g.viewport,g.content),$={...o,sizes:g,onSizesChange:j,hasThumb:_>0&&_<1,onThumbChange:st=>d.current=st,onThumbPointerUp:()=>h.current=0,onThumbPointerDown:st=>h.current=st};function _e(st,rt){return getScrollPositionFromPointer(st,h.current,g,rt)}return s==="horizontal"?jsxRuntimeExports.jsx(ScrollAreaScrollbarX,{...$,ref:e,onThumbPositionChange:()=>{if(c.viewport&&d.current){const st=c.viewport.scrollLeft,rt=getThumbOffsetFromScroll(st,g,c.dir);d.current.style.transform=`translate3d(${rt}px, 0, 0)`}},onWheelScroll:st=>{c.viewport&&(c.viewport.scrollLeft=st)},onDragScroll:st=>{c.viewport&&(c.viewport.scrollLeft=_e(st,c.dir))}}):s==="vertical"?jsxRuntimeExports.jsx(ScrollAreaScrollbarY,{...$,ref:e,onThumbPositionChange:()=>{if(c.viewport&&d.current){const st=c.viewport.scrollTop,rt=getThumbOffsetFromScroll(st,g);d.current.style.transform=`translate3d(0, ${rt}px, 0)`}},onWheelScroll:st=>{c.viewport&&(c.viewport.scrollTop=st)},onDragScroll:st=>{c.viewport&&(c.viewport.scrollTop=_e(st))}}):null}),ScrollAreaScrollbarX=reactExports.forwardRef((i,e)=>{const{sizes:s,onSizesChange:o,...c}=i,d=useScrollAreaContext(SCROLLBAR_NAME,i.__scopeScrollArea),[h,g]=reactExports.useState(),j=reactExports.useRef(null),_=useComposedRefs(e,j,d.onScrollbarXChange);return reactExports.useEffect(()=>{j.current&&g(getComputedStyle(j.current))},[j]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"horizontal",...c,ref:_,sizes:s,style:{bottom:0,left:d.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:d.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":getThumbSize(s)+"px",...i.style},onThumbPointerDown:$=>i.onThumbPointerDown($.x),onDragScroll:$=>i.onDragScroll($.x),onWheelScroll:($,_e)=>{if(d.viewport){const st=d.viewport.scrollLeft+$.deltaX;i.onWheelScroll(st),isScrollingWithinScrollbarBounds(st,_e)&&$.preventDefault()}},onResize:()=>{j.current&&d.viewport&&h&&o({content:d.viewport.scrollWidth,viewport:d.viewport.offsetWidth,scrollbar:{size:j.current.clientWidth,paddingStart:toInt(h.paddingLeft),paddingEnd:toInt(h.paddingRight)}})}})}),ScrollAreaScrollbarY=reactExports.forwardRef((i,e)=>{const{sizes:s,onSizesChange:o,...c}=i,d=useScrollAreaContext(SCROLLBAR_NAME,i.__scopeScrollArea),[h,g]=reactExports.useState(),j=reactExports.useRef(null),_=useComposedRefs(e,j,d.onScrollbarYChange);return reactExports.useEffect(()=>{j.current&&g(getComputedStyle(j.current))},[j]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"vertical",...c,ref:_,sizes:s,style:{top:0,right:d.dir==="ltr"?0:void 0,left:d.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":getThumbSize(s)+"px",...i.style},onThumbPointerDown:$=>i.onThumbPointerDown($.y),onDragScroll:$=>i.onDragScroll($.y),onWheelScroll:($,_e)=>{if(d.viewport){const st=d.viewport.scrollTop+$.deltaY;i.onWheelScroll(st),isScrollingWithinScrollbarBounds(st,_e)&&$.preventDefault()}},onResize:()=>{j.current&&d.viewport&&h&&o({content:d.viewport.scrollHeight,viewport:d.viewport.offsetHeight,scrollbar:{size:j.current.clientHeight,paddingStart:toInt(h.paddingTop),paddingEnd:toInt(h.paddingBottom)}})}})}),[ScrollbarProvider,useScrollbarContext]=createScrollAreaContext(SCROLLBAR_NAME),ScrollAreaScrollbarImpl=reactExports.forwardRef((i,e)=>{const{__scopeScrollArea:s,sizes:o,hasThumb:c,onThumbChange:d,onThumbPointerUp:h,onThumbPointerDown:g,onThumbPositionChange:j,onDragScroll:_,onWheelScroll:$,onResize:_e,...st}=i,rt=useScrollAreaContext(SCROLLBAR_NAME,s),[it,nt]=reactExports.useState(null),lt=useComposedRefs(e,Tt=>nt(Tt)),ot=reactExports.useRef(null),at=reactExports.useRef(""),ct=rt.viewport,ut=o.content-o.viewport,ht=useCallbackRef$1($),mt=useCallbackRef$1(j),xt=useDebounceCallback(_e,10);function Et(Tt){if(ot.current){const St=Tt.clientX-ot.current.left,gt=Tt.clientY-ot.current.top;_({x:St,y:gt})}}return reactExports.useEffect(()=>{const Tt=St=>{const gt=St.target;(it==null?void 0:it.contains(gt))&&ht(St,ut)};return document.addEventListener("wheel",Tt,{passive:!1}),()=>document.removeEventListener("wheel",Tt,{passive:!1})},[ct,it,ut,ht]),reactExports.useEffect(mt,[o,mt]),useResizeObserver(it,xt),useResizeObserver(rt.content,xt),jsxRuntimeExports.jsx(ScrollbarProvider,{scope:s,scrollbar:it,hasThumb:c,onThumbChange:useCallbackRef$1(d),onThumbPointerUp:useCallbackRef$1(h),onThumbPositionChange:mt,onThumbPointerDown:useCallbackRef$1(g),children:jsxRuntimeExports.jsx(Primitive.div,{...st,ref:lt,style:{position:"absolute",...st.style},onPointerDown:composeEventHandlers(i.onPointerDown,Tt=>{Tt.button===0&&(Tt.target.setPointerCapture(Tt.pointerId),ot.current=it.getBoundingClientRect(),at.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",rt.viewport&&(rt.viewport.style.scrollBehavior="auto"),Et(Tt))}),onPointerMove:composeEventHandlers(i.onPointerMove,Et),onPointerUp:composeEventHandlers(i.onPointerUp,Tt=>{const St=Tt.target;St.hasPointerCapture(Tt.pointerId)&&St.releasePointerCapture(Tt.pointerId),document.body.style.webkitUserSelect=at.current,rt.viewport&&(rt.viewport.style.scrollBehavior=""),ot.current=null})})})}),THUMB_NAME$1="ScrollAreaThumb",ScrollAreaThumb=reactExports.forwardRef((i,e)=>{const{forceMount:s,...o}=i,c=useScrollbarContext(THUMB_NAME$1,i.__scopeScrollArea);return jsxRuntimeExports.jsx(Presence,{present:s||c.hasThumb,children:jsxRuntimeExports.jsx(ScrollAreaThumbImpl,{ref:e,...o})})}),ScrollAreaThumbImpl=reactExports.forwardRef((i,e)=>{const{__scopeScrollArea:s,style:o,...c}=i,d=useScrollAreaContext(THUMB_NAME$1,s),h=useScrollbarContext(THUMB_NAME$1,s),{onThumbPositionChange:g}=h,j=useComposedRefs(e,_e=>h.onThumbChange(_e)),_=reactExports.useRef(void 0),$=useDebounceCallback(()=>{_.current&&(_.current(),_.current=void 0)},100);return reactExports.useEffect(()=>{const _e=d.viewport;if(_e){const st=()=>{if($(),!_.current){const rt=addUnlinkedScrollListener(_e,g);_.current=rt,g()}};return g(),_e.addEventListener("scroll",st),()=>_e.removeEventListener("scroll",st)}},[d.viewport,$,g]),jsxRuntimeExports.jsx(Primitive.div,{"data-state":h.hasThumb?"visible":"hidden",...c,ref:j,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:composeEventHandlers(i.onPointerDownCapture,_e=>{const rt=_e.target.getBoundingClientRect(),it=_e.clientX-rt.left,nt=_e.clientY-rt.top;h.onThumbPointerDown({x:it,y:nt})}),onPointerUp:composeEventHandlers(i.onPointerUp,h.onThumbPointerUp)})});ScrollAreaThumb.displayName=THUMB_NAME$1;var CORNER_NAME="ScrollAreaCorner",ScrollAreaCorner=reactExports.forwardRef((i,e)=>{const s=useScrollAreaContext(CORNER_NAME,i.__scopeScrollArea),o=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&o?jsxRuntimeExports.jsx(ScrollAreaCornerImpl,{...i,ref:e}):null});ScrollAreaCorner.displayName=CORNER_NAME;var ScrollAreaCornerImpl=reactExports.forwardRef((i,e)=>{const{__scopeScrollArea:s,...o}=i,c=useScrollAreaContext(CORNER_NAME,s),[d,h]=reactExports.useState(0),[g,j]=reactExports.useState(0),_=!!(d&&g);return useResizeObserver(c.scrollbarX,()=>{var _e;const $=((_e=c.scrollbarX)==null?void 0:_e.offsetHeight)||0;c.onCornerHeightChange($),j($)}),useResizeObserver(c.scrollbarY,()=>{var _e;const $=((_e=c.scrollbarY)==null?void 0:_e.offsetWidth)||0;c.onCornerWidthChange($),h($)}),_?jsxRuntimeExports.jsx(Primitive.div,{...o,ref:e,style:{width:d,height:g,position:"absolute",right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:0,...i.style}}):null});function toInt(i){return i?parseInt(i,10):0}function getThumbRatio(i,e){const s=i/e;return isNaN(s)?0:s}function getThumbSize(i){const e=getThumbRatio(i.viewport,i.content),s=i.scrollbar.paddingStart+i.scrollbar.paddingEnd,o=(i.scrollbar.size-s)*e;return Math.max(o,18)}function getScrollPositionFromPointer(i,e,s,o="ltr"){const c=getThumbSize(s),d=c/2,h=e||d,g=c-h,j=s.scrollbar.paddingStart+h,_=s.scrollbar.size-s.scrollbar.paddingEnd-g,$=s.content-s.viewport,_e=o==="ltr"?[0,$]:[$*-1,0];return linearScale([j,_],_e)(i)}function getThumbOffsetFromScroll(i,e,s="ltr"){const o=getThumbSize(e),c=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,d=e.scrollbar.size-c,h=e.content-e.viewport,g=d-o,j=s==="ltr"?[0,h]:[h*-1,0],_=clamp(i,j);return linearScale([0,h],[0,g])(_)}function linearScale(i,e){return s=>{if(i[0]===i[1]||e[0]===e[1])return e[0];const o=(e[1]-e[0])/(i[1]-i[0]);return e[0]+o*(s-i[0])}}function isScrollingWithinScrollbarBounds(i,e){return i>0&&i<e}var addUnlinkedScrollListener=(i,e=()=>{})=>{let s={left:i.scrollLeft,top:i.scrollTop},o=0;return function c(){const d={left:i.scrollLeft,top:i.scrollTop},h=s.left!==d.left,g=s.top!==d.top;(h||g)&&e(),s=d,o=window.requestAnimationFrame(c)}(),()=>window.cancelAnimationFrame(o)};function useDebounceCallback(i,e){const s=useCallbackRef$1(i),o=reactExports.useRef(0);return reactExports.useEffect(()=>()=>window.clearTimeout(o.current),[]),reactExports.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(s,e)},[s,e])}function useResizeObserver(i,e){const s=useCallbackRef$1(e);useLayoutEffect2(()=>{let o=0;if(i){const c=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(s)});return c.observe(i),()=>{window.cancelAnimationFrame(o),c.unobserve(i)}}},[i,s])}var Root$4=ScrollArea$1,Viewport=ScrollAreaViewport,Corner=ScrollAreaCorner;const ScrollArea=reactExports.forwardRef(({className:i,children:e,hideScrollbar:s=!1,...o},c)=>jsxRuntimeExports.jsxs(Root$4,{ref:c,className:cn("relative overflow-hidden",i),...o,children:[jsxRuntimeExports.jsx(Viewport,{className:"h-full w-full rounded-[inherit]",children:e}),!s&&jsxRuntimeExports.jsx(ScrollBar,{}),jsxRuntimeExports.jsx(Corner,{})]}));ScrollArea.displayName=Root$4.displayName;const ScrollBar=reactExports.forwardRef(({className:i,orientation:e="vertical",...s},o)=>jsxRuntimeExports.jsx(ScrollAreaScrollbar,{ref:o,orientation:e,className:cn("flex touch-none select-none transition-colors duration-300",e==="vertical"&&"h-full w-2 border-l border-l-transparent p-[1px] hover:w-2.5",e==="horizontal"&&"h-2 flex-col border-t border-t-transparent p-[1px] hover:h-2.5",i),...s,children:jsxRuntimeExports.jsx(ScrollAreaThumb,{className:"relative flex-1 rounded-full bg-border/50 hover:bg-border/80 transition-colors"})}));ScrollBar.displayName=ScrollAreaScrollbar.displayName;const ChatBot=({isFloating:i=!0,className:e=""})=>{const[s,o]=reactExports.useState(!1),[c,d]=reactExports.useState(!1),[h,g]=reactExports.useState([{id:"1",text:"Hi! I'm your AI assistant powered by GPT-5o. I can help you with onboarding, project management, team matching, payments, and any other platform features. How can I assist you today?",isBot:!0,timestamp:new Date}]),[j,_]=reactExports.useState(""),[$,_e]=reactExports.useState(!1),[st,rt]=reactExports.useState([]),it=reactExports.useRef(null),nt=()=>{var ct;(ct=it.current)==null||ct.scrollIntoView({behavior:"smooth"})};reactExports.useEffect(()=>{nt()},[h]);const lt=async()=>{if(!j.trim()||$)return;const ct={id:Date.now().toString(),text:j,isBot:!1,timestamp:new Date};g(ht=>[...ht,ct]);const ut=[...st,{role:"user",content:j}];rt(ut),_(""),_e(!0);try{const{data:ht,error:mt}=await supabase$1.functions.invoke("ai-chatbot",{body:{message:j,conversationHistory:ut.slice(-10)}});if(mt)throw mt;const xt={id:(Date.now()+1).toString(),text:ht.response||"Sorry, I encountered an error. Please try again.",isBot:!0,timestamp:new Date};g(Et=>[...Et,xt]),rt(Et=>[...Et,{role:"assistant",content:ht.response}])}catch(ht){console.error("Chatbot error:",ht);const mt={id:(Date.now()+1).toString(),text:"I'm sorry, I'm having trouble connecting. Please try again later or contact our support team.",isBot:!0,timestamp:new Date};g(xt=>[...xt,mt])}finally{_e(!1)}},ot=ct=>{ct.key==="Enter"&&!ct.shiftKey&&(ct.preventDefault(),lt())},at=()=>{g([{id:"1",text:"Hi! I'm your AI assistant powered by5GPT-4o. How can I help you today?",isBot:!0,timestamp:new Date}]),rt([])};return i?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:jsxRuntimeExports.jsxs(Button,{onClick:()=>o(!s),className:"rounded-full w-14 h-14 shadow-lg bg-blue-600 hover:bg-blue-700 relative",children:[s?jsxRuntimeExports.jsx(X,{className:"h-6 w-6"}):jsxRuntimeExports.jsx(MessageCircle,{className:"h-6 w-6"}),jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-pulse"})]})}),s&&!c&&jsxRuntimeExports.jsx("div",{className:"fixed bottom-24 right-6 w-96 h-[500px] z-40",children:jsxRuntimeExports.jsxs(Card,{className:"h-full flex flex-col shadow-xl",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between text-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Bot,{className:"h-5 w-5 text-blue-600"}),"AI Assistant (GPT-5o)"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>d(!0),children:jsxRuntimeExports.jsx(Minimize2,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>o(!1),children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})})]})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"flex-1 flex flex-col p-0 h-[420px]",children:[jsxRuntimeExports.jsx(ScrollArea,{className:"flex-1 px-4",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4 pb-4",children:[h.map(ct=>jsxRuntimeExports.jsx("div",{className:`flex ${ct.isBot?"justify-start":"justify-end"}`,children:jsxRuntimeExports.jsxs("div",{className:`max-w-[80%] p-3 rounded-lg ${ct.isBot?"bg-gray-100 text-gray-900":"bg-blue-600 text-white"}`,children:[jsxRuntimeExports.jsx("p",{className:"text-sm whitespace-pre-wrap",children:ct.text}),jsxRuntimeExports.jsx("p",{className:"text-xs opacity-70 mt-1",children:ct.timestamp.toLocaleTimeString()})]})},ct.id)),$&&jsxRuntimeExports.jsx("div",{className:"flex justify-start",children:jsxRuntimeExports.jsx("div",{className:"bg-gray-100 p-3 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex space-x-1",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),jsxRuntimeExports.jsx("div",{ref:it})]})}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{value:j,onChange:ct=>_(ct.target.value),onKeyPress:ot,placeholder:"Ask me anything...",disabled:$,className:"flex-1"}),jsxRuntimeExports.jsx(Button,{onClick:lt,disabled:!j.trim()||$,size:"icon",children:jsxRuntimeExports.jsx(Send,{className:"h-4 w-4"})})]})})]})]})})]}):jsxRuntimeExports.jsx("div",{className:`h-full flex flex-col ${e}`,children:jsxRuntimeExports.jsxs(Card,{className:"h-full flex flex-col",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Bot,{className:"h-5 w-5 text-blue-600"}),"AI Assistant (GPT-5o)"]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:at,children:"Clear Chat"})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"flex-1 flex flex-col p-0 h-[420px]",children:[jsxRuntimeExports.jsx(ScrollArea,{className:"flex-1 px-4",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4 pb-4",children:[h.map(ct=>jsxRuntimeExports.jsx("div",{className:`flex ${ct.isBot?"justify-start":"justify-end"}`,children:jsxRuntimeExports.jsxs("div",{className:`max-w-[80%] p-3 rounded-lg ${ct.isBot?"bg-gray-100 text-gray-900":"bg-blue-600 text-white"}`,children:[jsxRuntimeExports.jsx("p",{className:"text-sm whitespace-pre-wrap",children:ct.text}),jsxRuntimeExports.jsx("p",{className:"text-xs opacity-70 mt-1",children:ct.timestamp.toLocaleTimeString()})]})},ct.id)),$&&jsxRuntimeExports.jsx("div",{className:"flex justify-start",children:jsxRuntimeExports.jsx("div",{className:"bg-gray-100 p-3 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex space-x-1",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),jsxRuntimeExports.jsx("div",{ref:it})]})}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{value:j,onChange:ct=>_(ct.target.value),onKeyPress:ot,placeholder:"Ask me anything about the platform...",disabled:$,className:"flex-1"}),jsxRuntimeExports.jsx(Button,{onClick:lt,disabled:!j.trim()||$,size:"icon",children:jsxRuntimeExports.jsx(Send,{className:"h-4 w-4"})})]})})]})]})})},Support=()=>{const[i,e]=reactExports.useState({subject:"",message:"",priority:"medium"}),s=[{question:"How do I post a new project?",answer:'Navigate to the "Post Project" section and fill out the project details form.'},{question:"How does team matching work?",answer:"Our AI analyzes your project requirements and matches you with suitable teams based on skills and availability."},{question:"What payment methods are supported?",answer:"We support all major credit cards, PayPal, and bank transfers through our secure escrow system."}],o=()=>{console.log("Submitting ticket:",i),e({subject:"",message:"",priority:"medium"})};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Help & Support"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Get help with your account, projects, and platform features"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"h-5 w-5"}),"Contact Us"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"h-5 w-5 text-blue-600"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"AI Assistant"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Get instant help"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsx(Mail,{className:"h-5 w-5 text-gray-600"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"Email Support"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"support@platform.com"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsx(Phone,{className:"h-5 w-5 text-gray-600"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"Phone Support"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"1-800-SUPPORT"})]})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Submit a Support Ticket"}),jsxRuntimeExports.jsx(CardDescription,{children:"Can't find what you're looking for? Submit a ticket and we'll get back to you."})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Subject",value:i.subject,onChange:c=>e(d=>({...d,subject:c.target.value}))}),jsxRuntimeExports.jsx(Textarea,{placeholder:"Describe your issue...",value:i.message,onChange:c=>e(d=>({...d,message:c.target.value})),rows:4}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("select",{value:i.priority,onChange:c=>e(d=>({...d,priority:c.target.value})),className:"px-3 py-2 border rounded-md",children:[jsxRuntimeExports.jsx("option",{value:"low",children:"Low Priority"}),jsxRuntimeExports.jsx("option",{value:"medium",children:"Medium Priority"}),jsxRuntimeExports.jsx("option",{value:"high",children:"High Priority"})]}),jsxRuntimeExports.jsx(Button,{onClick:o,children:"Submit Ticket"})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Search Knowledge Base"}),jsxRuntimeExports.jsx(CardDescription,{children:"Ask AI about platform features, troubleshooting, and best practices"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(AISearchBar,{placeholder:"Search knowledge base with AI..."})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Frequently Asked Questions"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:s.map((c,d)=>jsxRuntimeExports.jsxs("div",{className:"border-b pb-4 last:border-b-0",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:c.question}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:c.answer})]},d))})})]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-8",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"h-5 w-5 text-blue-600"}),"AI Assistant (GPT-5o)"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Get instant help with onboarding, platform features, and troubleshooting"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"h-96",children:jsxRuntimeExports.jsx(ChatBot,{isFloating:!1,className:"h-full"})})})]})})]})})},SIGNUP_ROUTE=ROUTES.signup,POST_PROJECT_ROUTE=ROUTES.postProject,TEAM_CREATE_ROUTE=ROUTES.teamCreate,DRAFT_PROJECT_KEY="draft_project",DRAFT_TEAM_KEY="draft_team_profile",addParams=(i,e)=>buildDomainUrl(i,e),guessIntentFromRoute=i=>{const e=window.location.pathname;return e.includes("team")||e.includes("profile")?"team":(e.includes("project"),"client")},ChooseYourPath=()=>{const i=useNavigate(),[e]=useSearchParams(),{toast:s}=useToast(),{isAuthenticated:o,loading:c}=useAuth();reactExports.useEffect(()=>{if(!c&&!o){const j=buildAuthUrl(SIGNUP_ROUTE$1,"/start");i(j)}},[c,o,i]),reactExports.useEffect(()=>{const j=e.get("intent");j==="client"?(i(POST_PROJECT_ROUTE),s({title:"Redirecting",description:`Going to: ${POST_PROJECT_ROUTE}`})):j==="team"&&(i(TEAM_CREATE_ROUTE),s({title:"Redirecting",description:`Going to: ${TEAM_CREATE_ROUTE}`}))},[e,i,s]);const d=()=>{i(POST_PROJECT_ROUTE),s({title:"Redirecting",description:`Going to: ${POST_PROJECT_ROUTE}`})},h=()=>{i(TEAM_CREATE_ROUTE),s({title:"Redirecting",description:`Going to: ${TEAM_CREATE_ROUTE}`})},g=()=>{i("/")};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50 px-4",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-4xl",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"How do you want to use LinkUp?"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600",children:"Choose your path to get started with the right tools for you"})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[jsxRuntimeExports.jsxs(Card,{className:"cursor-pointer hover:shadow-lg transition-shadow border-2 hover:border-blue-300",onClick:d,children:[jsxRuntimeExports.jsxs(CardHeader,{className:"text-center pb-4",children:[jsxRuntimeExports.jsx("div",{className:"mx-auto mb-4 p-4 bg-blue-100 rounded-full w-16 h-16 flex items-center justify-center",children:jsxRuntimeExports.jsx(Briefcase,{className:"h-8 w-8 text-blue-600"})}),jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl",children:"I'm hiring"}),jsxRuntimeExports.jsx(CardDescription,{className:"text-lg",children:"Post a project and get matched instantly."})]}),jsxRuntimeExports.jsx(CardContent,{className:"text-center",children:jsxRuntimeExports.jsx(Button,{className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white py-3",onClick:d,children:"Post a Project"})})]}),jsxRuntimeExports.jsxs(Card,{className:"cursor-pointer hover:shadow-lg transition-shadow border-2 hover:border-purple-300",onClick:h,children:[jsxRuntimeExports.jsxs(CardHeader,{className:"text-center pb-4",children:[jsxRuntimeExports.jsx("div",{className:"mx-auto mb-4 p-4 bg-purple-100 rounded-full w-16 h-16 flex items-center justify-center",children:jsxRuntimeExports.jsx(Users,{className:"h-8 w-8 text-purple-600"})}),jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl",children:"I'm a Team"}),jsxRuntimeExports.jsx(CardDescription,{className:"text-lg",children:"Offer services and get matched to projects."})]}),jsxRuntimeExports.jsx(CardContent,{className:"text-center",children:jsxRuntimeExports.jsx(Button,{className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white py-3",onClick:h,children:"Create Team Profile"})})]})]}),jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:g,className:"text-gray-600 hover:text-gray-800",children:"Decide later"})})]})})};var shim$1={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports;function is(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}var objectIs=typeof Object.is=="function"?Object.is:is,useState=React.useState,useEffect=React.useEffect,useLayoutEffect=React.useLayoutEffect,useDebugValue=React.useDebugValue;function useSyncExternalStore$2(i,e){var s=e(),o=useState({inst:{value:s,getSnapshot:e}}),c=o[0].inst,d=o[1];return useLayoutEffect(function(){c.value=s,c.getSnapshot=e,checkIfSnapshotChanged(c)&&d({inst:c})},[i,s,e]),useEffect(function(){return checkIfSnapshotChanged(c)&&d({inst:c}),i(function(){checkIfSnapshotChanged(c)&&d({inst:c})})},[i]),useDebugValue(s),s}function checkIfSnapshotChanged(i){var e=i.getSnapshot;i=i.value;try{var s=e();return!objectIs(i,s)}catch{return!0}}function useSyncExternalStore$1(i,e){return e()}var shim=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React.useSyncExternalStore!==void 0?React.useSyncExternalStore:shim;shim$1.exports=useSyncExternalStoreShim_production;var shimExports=shim$1.exports;function useIsHydrated(){return shimExports.useSyncExternalStore(subscribe,()=>!0,()=>!1)}function subscribe(){return()=>{}}var AVATAR_NAME="Avatar",[createAvatarContext,createAvatarScope]=createContextScope(AVATAR_NAME),[AvatarProvider,useAvatarContext]=createAvatarContext(AVATAR_NAME),Avatar$1=reactExports.forwardRef((i,e)=>{const{__scopeAvatar:s,...o}=i,[c,d]=reactExports.useState("idle");return jsxRuntimeExports.jsx(AvatarProvider,{scope:s,imageLoadingStatus:c,onImageLoadingStatusChange:d,children:jsxRuntimeExports.jsx(Primitive.span,{...o,ref:e})})});Avatar$1.displayName=AVATAR_NAME;var IMAGE_NAME="AvatarImage",AvatarImage$1=reactExports.forwardRef((i,e)=>{const{__scopeAvatar:s,src:o,onLoadingStatusChange:c=()=>{},...d}=i,h=useAvatarContext(IMAGE_NAME,s),g=useImageLoadingStatus(o,d),j=useCallbackRef$1(_=>{c(_),h.onImageLoadingStatusChange(_)});return useLayoutEffect2(()=>{g!=="idle"&&j(g)},[g,j]),g==="loaded"?jsxRuntimeExports.jsx(Primitive.img,{...d,ref:e,src:o}):null});AvatarImage$1.displayName=IMAGE_NAME;var FALLBACK_NAME="AvatarFallback",AvatarFallback$1=reactExports.forwardRef((i,e)=>{const{__scopeAvatar:s,delayMs:o,...c}=i,d=useAvatarContext(FALLBACK_NAME,s),[h,g]=reactExports.useState(o===void 0);return reactExports.useEffect(()=>{if(o!==void 0){const j=window.setTimeout(()=>g(!0),o);return()=>window.clearTimeout(j)}},[o]),h&&d.imageLoadingStatus!=="loaded"?jsxRuntimeExports.jsx(Primitive.span,{...c,ref:e}):null});AvatarFallback$1.displayName=FALLBACK_NAME;function resolveLoadingStatus(i,e){return i?e?(i.src!==e&&(i.src=e),i.complete&&i.naturalWidth>0?"loaded":"loading"):"error":"idle"}function useImageLoadingStatus(i,{referrerPolicy:e,crossOrigin:s}){const o=useIsHydrated(),c=reactExports.useRef(null),d=o?(c.current||(c.current=new window.Image),c.current):null,[h,g]=reactExports.useState(()=>resolveLoadingStatus(d,i));return useLayoutEffect2(()=>{g(resolveLoadingStatus(d,i))},[d,i]),useLayoutEffect2(()=>{const j=_e=>()=>{g(_e)};if(!d)return;const _=j("loaded"),$=j("error");return d.addEventListener("load",_),d.addEventListener("error",$),e&&(d.referrerPolicy=e),typeof s=="string"&&(d.crossOrigin=s),()=>{d.removeEventListener("load",_),d.removeEventListener("error",$)}},[d,s,e]),h}var Root$3=Avatar$1,Image$1=AvatarImage$1,Fallback=AvatarFallback$1;const Avatar=reactExports.forwardRef(({className:i,size:e="md",...s},o)=>jsxRuntimeExports.jsx(Root$3,{ref:o,className:cn("relative flex shrink-0 overflow-hidden rounded-full border border-border/30 ring-offset-background",e==="sm"&&"h-8 w-8",e==="md"&&"h-10 w-10",e==="lg"&&"h-12 w-12",e==="xl"&&"h-16 w-16",i),...s}));Avatar.displayName=Root$3.displayName;const AvatarImage=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Image$1,{ref:s,className:cn("aspect-square h-full w-full object-cover",i),...e}));AvatarImage.displayName=Image$1.displayName;const AvatarFallback=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Fallback,{ref:s,className:cn("flex h-full w-full items-center justify-center rounded-full bg-muted text-muted-foreground",i),...e}));AvatarFallback.displayName=Fallback.displayName;function AIProfileAssistant({teamData:i,onSuggestion:e}){const[s,o]=reactExports.useState(!1),[c,d]=reactExports.useState([]),[h,g]=reactExports.useState([]),j=async()=>{var _e;o(!0);try{const{data:st,error:rt}=await supabase$1.functions.invoke("ai-profile-assistant",{body:{action:"generate_bio",data:{name:i.name,skills:i.skills,industry:(_e=i.industries)==null?void 0:_e[0],description:i.description}}});if(st!=null&&st.success){const it=st.bio??"",nt=st.skills??[];e("description",it),e("skills",nt)}else rt&&console.error("Error from AI function:",rt)}catch(st){console.error("Error generating bio:",st)}o(!1)},_=async _e=>{var st,rt;o(!0);try{const{data:it,error:nt}=await supabase$1.functions.invoke("ai-profile-assistant",{body:{action:"suggest_skills",data:{description:i.description,industry:(st=i.industries)==null?void 0:st[0]}}});if(nt){console.error("Supabase function error:",nt);return}if(it!=null&&it.success){const lt=((rt=it.skills)==null?void 0:rt.skills)??[];d(lt)}else console.warn("Function returned unsuccessfully:",it),d([])}catch(it){console.error("Error getting suggestions:",it),d([])}finally{o(!1)}},$=async()=>{var _e;o(!0);try{const{data:st,error:rt}=await supabase$1.functions.invoke("ai-profile-assistant",{body:{action:"checklist_tips",data:i}});if(rt){console.error("Supabase function error:",rt);return}if(st!=null&&st.success){const it=((_e=st.tips)==null?void 0:_e.tips)??[];g(it)}else console.warn("Function returned unsuccessfully:",st),g([])}catch(st){console.error("Error getting tips:",st),g([])}finally{o(!1)}};return jsxRuntimeExports.jsxs(Card,{className:"mb-6 border-blue-200 bg-blue-50",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-blue-700",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-5 w-5"}),"AI Profile Assistant"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsxs(Button,{onClick:j,disabled:s,variant:"outline",size:"sm",className:"bg-white",children:[s?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Sparkles,{className:"h-4 w-4"}),"Generate Bio"]}),jsxRuntimeExports.jsx(Button,{onClick:()=>_(),disabled:s,variant:"outline",size:"sm",className:"bg-white",children:"Suggest Skills"}),jsxRuntimeExports.jsxs(Button,{onClick:$,disabled:s,variant:"outline",size:"sm",className:"bg-white",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"h-4 w-4"}),"Get Tips"]})]}),c.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-blue-700 mb-2",children:"Suggested Skills:"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:c.map((_e,st)=>jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"cursor-pointer hover:bg-blue-200",onClick:()=>{const rt=i.skills||[];rt.includes(_e)||e("skills",[...rt,_e])},children:["+ ",_e]},st))})]}),h.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-blue-700 mb-2",children:"Profile Tips:"}),jsxRuntimeExports.jsx("ul",{className:"space-y-1 text-sm",children:h.map((_e,st)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-blue-500",children:""}),_e]},st))})]})]})]})}function AIPortfolioUploader({onProjectAdd:i}){const[e,s]=reactExports.useState(!1),[o,c]=reactExports.useState(!1),[d,h]=reactExports.useState(""),[g,j]=reactExports.useState(""),[_,$]=reactExports.useState(""),[_e,st]=reactExports.useState(null),rt=async lt=>{var at;const ot=(at=lt.target.files)==null?void 0:at[0];if(ot){s(!0);try{const ct=ot.name.split(".").pop(),ht=`portfolio/${`${Math.random()}.${ct}`}`,{error:mt}=await supabase$1.storage.from("project-files").upload(ht,ot);if(mt)throw mt;const{data:{publicUrl:xt}}=supabase$1.storage.from("project-files").getPublicUrl(ht);$(xt)}catch(ct){console.error("Upload error:",ct)}s(!1)}},it=async()=>{if(_){c(!0);try{const{data:lt,error:ot}=await supabase$1.functions.invoke("ai-portfolio-analyzer",{body:{imageUrl:_,projectName:d,description:g}});if(lt!=null&&lt.success)try{const at=JSON.parse(lt.analysis);st(at)}catch{st({highlight:lt.analysis})}}catch(lt){console.error("Analysis error:",lt)}c(!1)}},nt=()=>{const lt={name:d,description:(_e==null?void 0:_e.highlight)||g,image_url:_,tags:(_e==null?void 0:_e.tags)||[],technologies:(_e==null?void 0:_e.technologies)||[]};i(lt),h(""),j(""),$(""),st(null)};return jsxRuntimeExports.jsxs(Card,{className:"mb-6",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Image$2,{className:"h-5 w-5"}),"AI Portfolio Uploader"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Project name",value:d,onChange:lt=>h(lt.target.value)}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{type:"file",accept:"image/*",onChange:rt,disabled:e,className:"hidden",id:"portfolio-upload"}),jsxRuntimeExports.jsx("label",{htmlFor:"portfolio-upload",children:jsxRuntimeExports.jsx(Button,{variant:"outline",disabled:e,className:"cursor-pointer",asChild:!0,children:jsxRuntimeExports.jsxs("span",{children:[e?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4"}),"Upload Image"]})})})]})]}),jsxRuntimeExports.jsx(Textarea,{placeholder:"Project description (optional - AI can generate this)",value:g,onChange:lt=>j(lt.target.value),rows:3}),_&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("img",{src:_,alt:"Project",className:"w-full h-48 object-cover rounded-lg"}),jsxRuntimeExports.jsxs(Button,{onClick:it,disabled:o,className:"w-full",variant:"outline",children:[o?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Sparkles,{className:"h-4 w-4"}),"Auto-Generate Project Highlights"]})]}),_e&&jsxRuntimeExports.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg space-y-3",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-blue-700",children:"AI Analysis:"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:_e.highlight}),_e.tags&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Tags: "}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:_e.tags.map((lt,ot)=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:lt},ot))})]}),_e.technologies&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Technologies: "}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:_e.technologies.map((lt,ot)=>jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:lt},ot))})]})]}),jsxRuntimeExports.jsx(Button,{onClick:nt,disabled:!d||!_,className:"w-full",children:"Add to Portfolio"})]})]})}var dist$1={},cjs$3={},__webpack_require__={};__webpack_require__.d=(i,e)=>{for(var s in e)__webpack_require__.o(e,s)&&!__webpack_require__.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:e[s]})};__webpack_require__.o=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var __webpack_exports__=globalThis.pdfjsLib={};__webpack_require__.d(__webpack_exports__,{AbortException:()=>AbortException,AnnotationEditorLayer:()=>AnnotationEditorLayer,AnnotationEditorParamsType:()=>AnnotationEditorParamsType,AnnotationEditorType:()=>AnnotationEditorType,AnnotationEditorUIManager:()=>AnnotationEditorUIManager,AnnotationLayer:()=>AnnotationLayer$2,AnnotationMode:()=>AnnotationMode,ColorPicker:()=>ColorPicker,DOMSVGFactory:()=>DOMSVGFactory,DrawLayer:()=>DrawLayer,FeatureTest:()=>util_FeatureTest,GlobalWorkerOptions:()=>GlobalWorkerOptions,ImageKind:()=>util_ImageKind,InvalidPDFException:()=>InvalidPDFException,MissingPDFException:()=>MissingPDFException,OPS:()=>OPS,OutputScale:()=>OutputScale,PDFDataRangeTransport:()=>PDFDataRangeTransport$1,PDFDateString:()=>PDFDateString,PDFWorker:()=>PDFWorker,PasswordResponses:()=>PasswordResponses$2,PermissionFlag:()=>PermissionFlag,PixelsPerInch:()=>PixelsPerInch,RenderingCancelledException:()=>RenderingCancelledException,TextLayer:()=>TextLayer$2,UnexpectedResponseException:()=>UnexpectedResponseException,Util:()=>Util,VerbosityLevel:()=>VerbosityLevel,XfaLayer:()=>XfaLayer,build:()=>build,createValidAbsoluteUrl:()=>createValidAbsoluteUrl,fetchData:()=>fetchData,getDocument:()=>getDocument,getFilenameFromUrl:()=>getFilenameFromUrl,getPdfFilenameFromUrl:()=>getPdfFilenameFromUrl,getXfaPageViewport:()=>getXfaPageViewport,isDataScheme:()=>isDataScheme,isPdfFile:()=>isPdfFile,noContextMenu:()=>noContextMenu,normalizeUnicode:()=>normalizeUnicode,setLayerDimensions:()=>setLayerDimensions,shadow:()=>shadow,version:()=>version});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},PasswordResponses$2={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(i){Number.isInteger(i)&&(verbosity=i)}function getVerbosityLevel(){return verbosity}function info(i){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${i}`)}function warn(i){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${i}`)}function unreachable(i){throw new Error(i)}function assert(i,e){i||unreachable(e)}function _isValidProtocol(i){switch(i==null?void 0:i.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(i,e=null,s=null){if(!i)return null;try{if(s&&typeof i=="string"){if(s.addDefaultProtocol&&i.startsWith("www.")){const c=i.match(/\./g);(c==null?void 0:c.length)>=2&&(i=`http://${i}`)}if(s.tryConvertEncoding)try{i=stringToUTF8String(i)}catch{}}const o=e?new URL(i,e):new URL(i);if(_isValidProtocol(o))return o}catch{}return null}function shadow(i,e,s,o=!1){return Object.defineProperty(i,e,{value:s,enumerable:!o,configurable:!0,writable:!1}),s}const BaseException=function(){function e(s,o){this.message=s,this.name=o}return e.prototype=new Error,e.constructor=e,e}();class PasswordException extends BaseException{constructor(e,s){super(e,"PasswordException"),this.code=s}}class UnknownErrorException extends BaseException{constructor(e,s){super(e,"UnknownErrorException"),this.details=s}}class InvalidPDFException extends BaseException{constructor(e){super(e,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor(e){super(e,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor(e,s){super(e,"UnexpectedResponseException"),this.status=s}}class FormatError extends BaseException{constructor(e){super(e,"FormatError")}}class AbortException extends BaseException{constructor(e){super(e,"AbortException")}}function bytesToString(i){(typeof i!="object"||(i==null?void 0:i.length)===void 0)&&unreachable("Invalid argument for bytesToString");const e=i.length,s=8192;if(e<s)return String.fromCharCode.apply(null,i);const o=[];for(let c=0;c<e;c+=s){const d=Math.min(c+s,e),h=i.subarray(c,d);o.push(String.fromCharCode.apply(null,h))}return o.join("")}function stringToBytes(i){typeof i!="string"&&unreachable("Invalid argument for stringToBytes");const e=i.length,s=new Uint8Array(e);for(let o=0;o<e;++o)s[o]=i.charCodeAt(o)&255;return s}function string32(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function objectFromMap(i){const e=Object.create(null);for(const[s,o]of i)e[s]=o;return e}function isLittleEndian(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):shadow(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,s;return shadow(this,"isCSSRoundSupported",(s=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:s.call(e,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));var Qn,fx,dv;class Util{static makeHexColor(e,s,o){return`#${hexNumbers[e]}${hexNumbers[s]}${hexNumbers[o]}`}static scaleMinMax(e,s){let o;e[0]?(e[0]<0&&(o=s[0],s[0]=s[2],s[2]=o),s[0]*=e[0],s[2]*=e[0],e[3]<0&&(o=s[1],s[1]=s[3],s[3]=o),s[1]*=e[3],s[3]*=e[3]):(o=s[0],s[0]=s[1],s[1]=o,o=s[2],s[2]=s[3],s[3]=o,e[1]<0&&(o=s[1],s[1]=s[3],s[3]=o),s[1]*=e[1],s[3]*=e[1],e[2]<0&&(o=s[0],s[0]=s[2],s[2]=o),s[0]*=e[2],s[2]*=e[2]),s[0]+=e[4],s[1]+=e[5],s[2]+=e[4],s[3]+=e[5]}static transform(e,s){return[e[0]*s[0]+e[2]*s[1],e[1]*s[0]+e[3]*s[1],e[0]*s[2]+e[2]*s[3],e[1]*s[2]+e[3]*s[3],e[0]*s[4]+e[2]*s[5]+e[4],e[1]*s[4]+e[3]*s[5]+e[5]]}static applyTransform(e,s){const o=e[0]*s[0]+e[1]*s[2]+s[4],c=e[0]*s[1]+e[1]*s[3]+s[5];return[o,c]}static applyInverseTransform(e,s){const o=s[0]*s[3]-s[1]*s[2],c=(e[0]*s[3]-e[1]*s[2]+s[2]*s[5]-s[4]*s[3])/o,d=(-e[0]*s[1]+e[1]*s[0]+s[4]*s[1]-s[5]*s[0])/o;return[c,d]}static getAxialAlignedBoundingBox(e,s){const o=this.applyTransform(e,s),c=this.applyTransform(e.slice(2,4),s),d=this.applyTransform([e[0],e[3]],s),h=this.applyTransform([e[2],e[1]],s);return[Math.min(o[0],c[0],d[0],h[0]),Math.min(o[1],c[1],d[1],h[1]),Math.max(o[0],c[0],d[0],h[0]),Math.max(o[1],c[1],d[1],h[1])]}static inverseTransform(e){const s=e[0]*e[3]-e[1]*e[2];return[e[3]/s,-e[1]/s,-e[2]/s,e[0]/s,(e[2]*e[5]-e[4]*e[3])/s,(e[4]*e[1]-e[5]*e[0])/s]}static singularValueDecompose2dScale(e){const s=[e[0],e[2],e[1],e[3]],o=e[0]*s[0]+e[1]*s[2],c=e[0]*s[1]+e[1]*s[3],d=e[2]*s[0]+e[3]*s[2],h=e[2]*s[1]+e[3]*s[3],g=(o+h)/2,j=Math.sqrt((o+h)**2-4*(o*h-d*c))/2,_=g+j||1,$=g-j||1;return[Math.sqrt(_),Math.sqrt($)]}static normalizeRect(e){const s=e.slice(0);return e[0]>e[2]&&(s[0]=e[2],s[2]=e[0]),e[1]>e[3]&&(s[1]=e[3],s[3]=e[1]),s}static intersect(e,s){const o=Math.max(Math.min(e[0],e[2]),Math.min(s[0],s[2])),c=Math.min(Math.max(e[0],e[2]),Math.max(s[0],s[2]));if(o>c)return null;const d=Math.max(Math.min(e[1],e[3]),Math.min(s[1],s[3])),h=Math.min(Math.max(e[1],e[3]),Math.max(s[1],s[3]));return d>h?null:[o,d,c,h]}static bezierBoundingBox(e,s,o,c,d,h,g,j,_){return _?(_[0]=Math.min(_[0],e,g),_[1]=Math.min(_[1],s,j),_[2]=Math.max(_[2],e,g),_[3]=Math.max(_[3],s,j)):_=[Math.min(e,g),Math.min(s,j),Math.max(e,g),Math.max(s,j)],pt(this,Qn,dv).call(this,e,o,d,g,s,c,h,j,3*(-e+3*(o-d)+g),6*(e-2*o+d),3*(o-e),_),pt(this,Qn,dv).call(this,e,o,d,g,s,c,h,j,3*(-s+3*(c-h)+j),6*(s-2*c+h),3*(c-s),_),_}}Qn=new WeakSet,fx=function(e,s,o,c,d,h,g,j,_,$){if(_<=0||_>=1)return;const _e=1-_,st=_*_,rt=st*_,it=_e*(_e*(_e*e+3*_*s)+3*st*o)+rt*c,nt=_e*(_e*(_e*d+3*_*h)+3*st*g)+rt*j;$[0]=Math.min($[0],it),$[1]=Math.min($[1],nt),$[2]=Math.max($[2],it),$[3]=Math.max($[3],nt)},dv=function(e,s,o,c,d,h,g,j,_,$,_e,st){if(Math.abs(_)<1e-12){Math.abs($)>=1e-12&&pt(this,Qn,fx).call(this,e,s,o,c,d,h,g,j,-_e/$,st);return}const rt=$**2-4*_e*_;if(rt<0)return;const it=Math.sqrt(rt),nt=2*_;pt(this,Qn,fx).call(this,e,s,o,c,d,h,g,j,(-$+it)/nt,st),pt(this,Qn,fx).call(this,e,s,o,c,d,h,g,j,(-$-it)/nt,st)},ft(Util,Qn);function stringToUTF8String(i){return decodeURIComponent(escape(i))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(i){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["","t"]])),i.replaceAll(NormalizeRegex,(e,s,o)=>s?s.normalize("NFKC"):NormalizationMap.get(o))}function getUuid(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const i=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(i);else for(let e=0;e<32;e++)i[e]=Math.floor(Math.random()*255);return bytesToString(i)}const AnnotationPrefix="pdfjs_internal_id_",FontRenderOps={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function toBase64Util(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(bytesToString(i))}const SVG_NS="http://www.w3.org/2000/svg",Xo=class Xo{};Qt(Xo,"CSS",96),Qt(Xo,"PDF",72),Qt(Xo,"PDF_TO_CSS_UNITS",Xo.CSS/Xo.PDF);let PixelsPerInch=Xo;async function fetchData(i,e="text"){if(isValidFetchUrl(i,document.baseURI)){const s=await fetch(i);if(!s.ok)throw new Error(s.statusText);switch(e){case"arraybuffer":return s.arrayBuffer();case"blob":return s.blob();case"json":return s.json()}return s.text()}return new Promise((s,o)=>{const c=new XMLHttpRequest;c.open("GET",i,!0),c.responseType=e,c.onreadystatechange=()=>{if(c.readyState===XMLHttpRequest.DONE){if(c.status===200||c.status===0){switch(e){case"arraybuffer":case"blob":case"json":s(c.response);return}s(c.responseText);return}o(new Error(c.statusText))}},c.send(null)})}class PageViewport{constructor({viewBox:e,scale:s,rotation:o,offsetX:c=0,offsetY:d=0,dontFlip:h=!1}){this.viewBox=e,this.scale=s,this.rotation=o,this.offsetX=c,this.offsetY=d;const g=(e[2]+e[0])/2,j=(e[3]+e[1])/2;let _,$,_e,st;switch(o%=360,o<0&&(o+=360),o){case 180:_=-1,$=0,_e=0,st=1;break;case 90:_=0,$=1,_e=1,st=0;break;case 270:_=0,$=-1,_e=-1,st=0;break;case 0:_=1,$=0,_e=0,st=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}h&&(_e=-_e,st=-st);let rt,it,nt,lt;_===0?(rt=Math.abs(j-e[1])*s+c,it=Math.abs(g-e[0])*s+d,nt=(e[3]-e[1])*s,lt=(e[2]-e[0])*s):(rt=Math.abs(g-e[0])*s+c,it=Math.abs(j-e[1])*s+d,nt=(e[2]-e[0])*s,lt=(e[3]-e[1])*s),this.transform=[_*s,$*s,_e*s,st*s,rt-_*s*g-_e*s*j,it-$*s*g-st*s*j],this.width=nt,this.height=lt}get rawDims(){const{viewBox:e}=this;return shadow(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:s=this.rotation,offsetX:o=this.offsetX,offsetY:c=this.offsetY,dontFlip:d=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),scale:e,rotation:s,offsetX:o,offsetY:c,dontFlip:d})}convertToViewportPoint(e,s){return Util.applyTransform([e,s],this.transform)}convertToViewportRectangle(e){const s=Util.applyTransform([e[0],e[1]],this.transform),o=Util.applyTransform([e[2],e[3]],this.transform);return[s[0],s[1],o[0],o[1]]}convertToPdfPoint(e,s){return Util.applyInverseTransform([e,s],this.transform)}}class RenderingCancelledException extends BaseException{constructor(e,s=0){super(e,"RenderingCancelledException"),this.extraDelay=s}}function isDataScheme(i){const e=i.length;let s=0;for(;s<e&&i[s].trim()==="";)s++;return i.substring(s,s+5).toLowerCase()==="data:"}function isPdfFile(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function getFilenameFromUrl(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(i,e="document.pdf"){if(typeof i!="string")return e;if(isDataScheme(i))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const s=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,o=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,c=s.exec(i);let d=o.exec(c[1])||o.exec(c[2])||o.exec(c[3]);if(d&&(d=d[0],d.includes("%")))try{d=o.exec(decodeURIComponent(d))[0]}catch{}return d||e}class StatTimer{constructor(){Qt(this,"started",Object.create(null));Qt(this,"times",[])}time(e){e in this.started&&warn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||warn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let s=0;for(const{name:o}of this.times)s=Math.max(o.length,s);for(const{name:o,start:c,end:d}of this.times)e.push(`${o.padEnd(s)} ${d-c}ms
`);return e.join("")}}function isValidFetchUrl(i,e){try{const{protocol:s}=e?new URL(i,e):new URL(i);return s==="http:"||s==="https:"}catch{return!1}}function noContextMenu(i){i.preventDefault()}function deprecated(i){console.log("Deprecated API usage: "+i)}var Jp;class PDFDateString{static toDateObject(e){if(!e||typeof e!="string")return null;et(this,Jp)||dt(this,Jp,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const s=et(this,Jp).exec(e);if(!s)return null;const o=parseInt(s[1],10);let c=parseInt(s[2],10);c=c>=1&&c<=12?c-1:0;let d=parseInt(s[3],10);d=d>=1&&d<=31?d:1;let h=parseInt(s[4],10);h=h>=0&&h<=23?h:0;let g=parseInt(s[5],10);g=g>=0&&g<=59?g:0;let j=parseInt(s[6],10);j=j>=0&&j<=59?j:0;const _=s[7]||"Z";let $=parseInt(s[8],10);$=$>=0&&$<=23?$:0;let _e=parseInt(s[9],10)||0;return _e=_e>=0&&_e<=59?_e:0,_==="-"?(h+=$,g+=_e):_==="+"&&(h-=$,g-=_e),new Date(Date.UTC(o,c,d,h,g,j))}}Jp=new WeakMap,ft(PDFDateString,Jp);function getXfaPageViewport(i,{scale:e=1,rotation:s=0}){const{width:o,height:c}=i.attributes.style,d=[0,0,parseInt(o),parseInt(c)];return new PageViewport({viewBox:d,scale:e,rotation:s})}function getRGB(i){if(i.startsWith("#")){const e=parseInt(i.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(e=>parseInt(e)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(warn(`Not a valid color format: "${i}"`),[0,0,0])}function getColorValues(i){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const s of i.keys()){e.style.color=s;const o=window.getComputedStyle(e).color;i.set(s,getRGB(o))}e.remove()}function getCurrentTransform(i){const{a:e,b:s,c:o,d:c,e:d,f:h}=i.getTransform();return[e,s,o,c,d,h]}function getCurrentTransformInverse(i){const{a:e,b:s,c:o,d:c,e:d,f:h}=i.getTransform().invertSelf();return[e,s,o,c,d,h]}function setLayerDimensions(i,e,s=!1,o=!0){if(e instanceof PageViewport){const{pageWidth:c,pageHeight:d}=e.rawDims,{style:h}=i,g=util_FeatureTest.isCSSRoundSupported,j=`var(--scale-factor) * ${c}px`,_=`var(--scale-factor) * ${d}px`,$=g?`round(down, ${j}, var(--scale-round-x, 1px))`:`calc(${j})`,_e=g?`round(down, ${_}, var(--scale-round-y, 1px))`:`calc(${_})`;!s||e.rotation%180===0?(h.width=$,h.height=_e):(h.width=_e,h.height=$)}o&&i.setAttribute("data-main-rotation",e.rotation)}class OutputScale{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var fo,xl,Dr,El,Zp,em,Vx,NE,sr,TE,PE,xx,kE,hv;const Rn=class Rn{constructor(e){ft(this,sr);ft(this,fo,null);ft(this,xl,null);ft(this,Dr);ft(this,El,null);ft(this,Zp,null);dt(this,Dr,e),et(Rn,em)||dt(Rn,em,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=dt(this,fo,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const s=et(this,Dr)._uiManager._signal;e.addEventListener("contextmenu",noContextMenu,{signal:s}),e.addEventListener("pointerdown",pt(Rn,Vx,NE),{signal:s});const o=dt(this,El,document.createElement("div"));o.className="buttons",e.append(o);const c=et(this,Dr).toolbarPosition;if(c){const{style:d}=e,h=et(this,Dr)._uiManager.direction==="ltr"?1-c[0]:c[0];d.insetInlineEnd=`${100*h}%`,d.top=`calc(${100*c[1]}% + var(--editor-toolbar-vert-offset))`}return pt(this,sr,kE).call(this),e}get div(){return et(this,fo)}hide(){var e;et(this,fo).classList.add("hidden"),(e=et(this,xl))==null||e.hideDropdown()}show(){var e;et(this,fo).classList.remove("hidden"),(e=et(this,Zp))==null||e.shown()}async addAltText(e){const s=await e.render();pt(this,sr,xx).call(this,s),et(this,El).prepend(s,et(this,sr,hv)),dt(this,Zp,e)}addColorPicker(e){dt(this,xl,e);const s=e.renderButton();pt(this,sr,xx).call(this,s),et(this,El).prepend(s,et(this,sr,hv))}remove(){var e;et(this,fo).remove(),(e=et(this,xl))==null||e.destroy(),dt(this,xl,null)}};fo=new WeakMap,xl=new WeakMap,Dr=new WeakMap,El=new WeakMap,Zp=new WeakMap,em=new WeakMap,Vx=new WeakSet,NE=function(e){e.stopPropagation()},sr=new WeakSet,TE=function(e){et(this,Dr)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},PE=function(e){et(this,Dr)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},xx=function(e){const s=et(this,Dr)._uiManager._signal;e.addEventListener("focusin",pt(this,sr,TE).bind(this),{capture:!0,signal:s}),e.addEventListener("focusout",pt(this,sr,PE).bind(this),{capture:!0,signal:s}),e.addEventListener("contextmenu",noContextMenu,{signal:s})},kE=function(){const{editorType:e,_uiManager:s}=et(this,Dr),o=document.createElement("button");o.className="delete",o.tabIndex=0,o.setAttribute("data-l10n-id",et(Rn,em)[e]),pt(this,sr,xx).call(this,o),o.addEventListener("click",c=>{s.delete()},{signal:s._signal}),et(this,El).append(o)},hv=function(){const e=document.createElement("div");return e.className="divider",e},ft(Rn,Vx),ft(Rn,em,null);let EditorToolbar=Rn;var tm,yl,wl,Ho,IE,ME,LE;class HighlightToolbar{constructor(e){ft(this,Ho);ft(this,tm,null);ft(this,yl,null);ft(this,wl);dt(this,wl,e)}show(e,s,o){const[c,d]=pt(this,Ho,ME).call(this,s,o),{style:h}=et(this,yl)||dt(this,yl,pt(this,Ho,IE).call(this));e.append(et(this,yl)),h.insetInlineEnd=`${100*c}%`,h.top=`calc(${100*d}% + var(--editor-toolbar-vert-offset))`}hide(){et(this,yl).remove()}}tm=new WeakMap,yl=new WeakMap,wl=new WeakMap,Ho=new WeakSet,IE=function(){const e=dt(this,yl,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",noContextMenu,{signal:et(this,wl)._signal});const s=dt(this,tm,document.createElement("div"));return s.className="buttons",e.append(s),pt(this,Ho,LE).call(this),e},ME=function(e,s){let o=0,c=0;for(const d of e){const h=d.y+d.height;if(h<o)continue;const g=d.x+(s?d.width:0);if(h>o){c=g,o=h;continue}s?g>c&&(c=g):g<c&&(c=g)}return[s?1-c:c,o]},LE=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const s=document.createElement("span");e.append(s),s.className="visuallyHidden",s.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const o=et(this,wl)._signal;e.addEventListener("contextmenu",noContextMenu,{signal:o}),e.addEventListener("click",()=>{et(this,wl).highlightSelection("floating_button")},{signal:o}),et(this,tm).append(e)};function bindEvents(i,e,s){for(const o of s)e.addEventListener(o,i[o].bind(i))}function opacityToHex(i){return Math.round(Math.min(255,Math.max(1,255*i))).toString(16).padStart(2,"0")}var Gx;class IdManager{constructor(){ft(this,Gx,0)}get id(){return`${AnnotationEditorPrefix}${$s(this,Gx)._++}`}}Gx=new WeakMap;var Fu,sm,Xs,Bu,gx;const cE=class cE{constructor(){ft(this,Bu);ft(this,Fu,getUuid());ft(this,sm,0);ft(this,Xs,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',o=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),c=new Image;c.src=e;const d=c.decode().then(()=>(o.drawImage(c,0,0,1,1,0,0,1,3),new Uint32Array(o.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",d)}async getFromFile(e){const{lastModified:s,name:o,size:c,type:d}=e;return pt(this,Bu,gx).call(this,`${s}_${o}_${c}_${d}`,e)}async getFromUrl(e){return pt(this,Bu,gx).call(this,e,e)}async getFromBlob(e,s){const o=await s;return pt(this,Bu,gx).call(this,e,o)}async getFromId(e){et(this,Xs)||dt(this,Xs,new Map);const s=et(this,Xs).get(e);if(!s)return null;if(s.bitmap)return s.refCounter+=1,s;if(s.file)return this.getFromFile(s.file);if(s.blobPromise){const{blobPromise:o}=s;return delete s.blobPromise,this.getFromBlob(s.id,o)}return this.getFromUrl(s.url)}getFromCanvas(e,s){et(this,Xs)||dt(this,Xs,new Map);let o=et(this,Xs).get(e);if(o!=null&&o.bitmap)return o.refCounter+=1,o;const c=new OffscreenCanvas(s.width,s.height);return c.getContext("2d").drawImage(s,0,0),o={bitmap:c.transferToImageBitmap(),id:`image_${et(this,Fu)}_${$s(this,sm)._++}`,refCounter:1,isSvg:!1},et(this,Xs).set(e,o),et(this,Xs).set(o.id,o),o}getSvgUrl(e){const s=et(this,Xs).get(e);return s!=null&&s.isSvg?s.svgUrl:null}deleteId(e){var c;et(this,Xs)||dt(this,Xs,new Map);const s=et(this,Xs).get(e);if(!s||(s.refCounter-=1,s.refCounter!==0))return;const{bitmap:o}=s;if(!s.url&&!s.file){const d=new OffscreenCanvas(o.width,o.height);d.getContext("bitmaprenderer").transferFromImageBitmap(o),s.blobPromise=d.convertToBlob()}(c=o.close)==null||c.call(o),s.bitmap=null}isValidId(e){return e.startsWith(`image_${et(this,Fu)}_`)}};Fu=new WeakMap,sm=new WeakMap,Xs=new WeakMap,Bu=new WeakSet,gx=async function(e,s){et(this,Xs)||dt(this,Xs,new Map);let o=et(this,Xs).get(e);if(o===null)return null;if(o!=null&&o.bitmap)return o.refCounter+=1,o;try{o||(o={bitmap:null,id:`image_${et(this,Fu)}_${$s(this,sm)._++}`,refCounter:0,isSvg:!1});let c;if(typeof s=="string"?(o.url=s,c=await fetchData(s,"blob")):s instanceof File?c=o.file=s:s instanceof Blob&&(c=s),c.type==="image/svg+xml"){const d=cE._isSVGFittingCanvas,h=new FileReader,g=new Image,j=new Promise((_,$)=>{g.onload=()=>{o.bitmap=g,o.isSvg=!0,_()},h.onload=async()=>{const _e=o.svgUrl=h.result;g.src=await d?`${_e}#svgView(preserveAspectRatio(none))`:_e},g.onerror=h.onerror=$});h.readAsDataURL(c),await j}else o.bitmap=await createImageBitmap(c);o.refCounter=1}catch(c){console.error(c),o=null}return et(this,Xs).set(e,o),o&&et(this,Xs).set(o.id,o),o};let ImageManager=cE;var Ds,xo,rm,Fs;class CommandManager{constructor(e=128){ft(this,Ds,[]);ft(this,xo,!1);ft(this,rm);ft(this,Fs,-1);dt(this,rm,e)}add({cmd:e,undo:s,post:o,mustExec:c,type:d=NaN,overwriteIfSameType:h=!1,keepUndo:g=!1}){if(c&&e(),et(this,xo))return;const j={cmd:e,undo:s,post:o,type:d};if(et(this,Fs)===-1){et(this,Ds).length>0&&(et(this,Ds).length=0),dt(this,Fs,0),et(this,Ds).push(j);return}if(h&&et(this,Ds)[et(this,Fs)].type===d){g&&(j.undo=et(this,Ds)[et(this,Fs)].undo),et(this,Ds)[et(this,Fs)]=j;return}const _=et(this,Fs)+1;_===et(this,rm)?et(this,Ds).splice(0,1):(dt(this,Fs,_),_<et(this,Ds).length&&et(this,Ds).splice(_)),et(this,Ds).push(j)}undo(){if(et(this,Fs)===-1)return;dt(this,xo,!0);const{undo:e,post:s}=et(this,Ds)[et(this,Fs)];e(),s==null||s(),dt(this,xo,!1),dt(this,Fs,et(this,Fs)-1)}redo(){if(et(this,Fs)<et(this,Ds).length-1){dt(this,Fs,et(this,Fs)+1),dt(this,xo,!0);const{cmd:e,post:s}=et(this,Ds)[et(this,Fs)];e(),s==null||s(),dt(this,xo,!1)}}hasSomethingToUndo(){return et(this,Fs)!==-1}hasSomethingToRedo(){return et(this,Fs)<et(this,Ds).length-1}destroy(){dt(this,Ds,null)}}Ds=new WeakMap,xo=new WeakMap,rm=new WeakMap,Fs=new WeakMap;var Wx,$E;class KeyboardManager{constructor(e){ft(this,Wx);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:s}=util_FeatureTest.platform;for(const[o,c,d={}]of e)for(const h of o){const g=h.startsWith("mac+");s&&g?(this.callbacks.set(h.slice(4),{callback:c,options:d}),this.allKeys.add(h.split("+").at(-1))):!s&&!g&&(this.callbacks.set(h,{callback:c,options:d}),this.allKeys.add(h.split("+").at(-1)))}}exec(e,s){if(!this.allKeys.has(s.key))return;const o=this.callbacks.get(pt(this,Wx,$E).call(this,s));if(!o)return;const{callback:c,options:{bubbles:d=!1,args:h=[],checker:g=null}}=o;g&&!g(e,s)||(c.bind(e,...h,s)(),d||(s.stopPropagation(),s.preventDefault()))}}Wx=new WeakSet,$E=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const s=this.buffer.join("+");return this.buffer.length=0,s};const qx=class qx{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues(e),shadow(this,"_colors",e)}convert(e){const s=getRGB(e);if(!window.matchMedia("(forced-colors: active)").matches)return s;for(const[o,c]of this._colors)if(c.every((d,h)=>d===s[h]))return qx._colorsMapping.get(o);return s}getHexCode(e){const s=this._colors.get(e);return s?Util.makeHexColor(...s):e}};Qt(qx,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=qx;var Uu,hr,ks,Vs,Hu,Cn,zu,Fr,go,Vu,Rl,sn,Br,_l,nm,im,Gu,om,rn,vo,Wu,Eo,nn,Kx,yo,am,jo,Sl,lm,cm,Bs,ps,An,Cl,um,dm,bo,on,Nn,hm,wr,zt,vx,pv,OE,DE,Ex,FE,BE,UE,mv,HE,fv,xv,zE,Zs,oo,VE,GE,gv,WE,Lp,vv;const Tu=class Tu{constructor(e,s,o,c,d,h,g,j,_,$,_e){ft(this,zt);ft(this,Uu,new AbortController);ft(this,hr,null);ft(this,ks,new Map);ft(this,Vs,new Map);ft(this,Hu,null);ft(this,Cn,null);ft(this,zu,null);ft(this,Fr,new CommandManager);ft(this,go,null);ft(this,Vu,0);ft(this,Rl,new Set);ft(this,sn,null);ft(this,Br,null);ft(this,_l,new Set);ft(this,nm,!1);ft(this,im,!1);ft(this,Gu,!1);ft(this,om,null);ft(this,rn,null);ft(this,vo,null);ft(this,Wu,null);ft(this,Eo,!1);ft(this,nn,null);ft(this,Kx,new IdManager);ft(this,yo,!1);ft(this,am,!1);ft(this,jo,null);ft(this,Sl,null);ft(this,lm,null);ft(this,cm,null);ft(this,Bs,AnnotationEditorType.NONE);ft(this,ps,new Set);ft(this,An,null);ft(this,Cl,null);ft(this,um,null);ft(this,dm,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});ft(this,bo,[0,0]);ft(this,on,null);ft(this,Nn,null);ft(this,hm,null);ft(this,wr,null);const st=this._signal=et(this,Uu).signal;dt(this,Nn,e),dt(this,hm,s),dt(this,Hu,o),this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:st}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:st}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:st}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:st}),c._on("setpreference",this.onSetPreference.bind(this),{signal:st}),c._on("switchannotationeditorparams",rt=>this.updateParams(rt.type,rt.value),{signal:st}),pt(this,zt,FE).call(this),pt(this,zt,zE).call(this),pt(this,zt,mv).call(this),dt(this,Cn,d.annotationStorage),dt(this,om,d.filterFactory),dt(this,Cl,h),dt(this,Wu,g||null),dt(this,nm,j),dt(this,im,_),dt(this,Gu,$),dt(this,cm,_e||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Tu.prototype,s=h=>et(h,Nn).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&h.hasSomethingToControl(),o=(h,{target:g})=>{if(g instanceof HTMLInputElement){const{type:j}=g;return j!=="text"&&j!=="number"}return!0},c=this.TRANSLATE_SMALL,d=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:o}],[["ctrl+z","mac+meta+z"],e.undo,{checker:o}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:o}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:o}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(h,{target:g})=>!(g instanceof HTMLButtonElement)&&et(h,Nn).contains(g)&&!h.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(h,{target:g})=>!(g instanceof HTMLButtonElement)&&et(h,Nn).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-c,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-d,0],checker:s}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[c,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[d,0],checker:s}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-c],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-d],checker:s}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,c],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,d],checker:s}]]))}destroy(){var e,s,o,c;(e=et(this,wr))==null||e.resolve(),dt(this,wr,null),(s=et(this,Uu))==null||s.abort(),dt(this,Uu,null),this._signal=null;for(const d of et(this,Vs).values())d.destroy();et(this,Vs).clear(),et(this,ks).clear(),et(this,_l).clear(),dt(this,hr,null),et(this,ps).clear(),et(this,Fr).destroy(),(o=et(this,Hu))==null||o.destroy(),(c=et(this,nn))==null||c.hide(),dt(this,nn,null),et(this,rn)&&(clearTimeout(et(this,rn)),dt(this,rn,null)),et(this,on)&&(clearTimeout(et(this,on)),dt(this,on,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return et(this,cm)}get useNewAltTextFlow(){return et(this,im)}get useNewAltTextWhenAddingImage(){return et(this,Gu)}get hcmFilter(){return shadow(this,"hcmFilter",et(this,Cl)?et(this,om).addHCMFilter(et(this,Cl).foreground,et(this,Cl).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(et(this,Nn)).direction)}get highlightColors(){return shadow(this,"highlightColors",et(this,Wu)?new Map(et(this,Wu).split(",").map(e=>e.split("=").map(s=>s.trim()))):null)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){dt(this,lm,e)}editAltText(e,s=!1){var o;(o=et(this,Hu))==null||o.editAltText(this,e,s)}switchToMode(e,s){this._eventBus.on("annotationeditormodechanged",s,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,s){this._eventBus.dispatch("setpreference",{source:this,name:e,value:s})}onSetPreference({name:e,value:s}){switch(e){case"enableNewAltTextWhenAddingImage":dt(this,Gu,s);break}}onPageChanging({pageNumber:e}){dt(this,Vu,e-1)}focusMainContainer(){et(this,Nn).focus()}findParent(e,s){for(const o of et(this,Vs).values()){const{x:c,y:d,width:h,height:g}=o.div.getBoundingClientRect();if(e>=c&&e<=c+h&&s>=d&&s<=d+g)return o}return null}disableUserSelect(e=!1){et(this,hm).classList.toggle("noUserSelect",e)}addShouldRescale(e){et(this,_l).add(e)}removeShouldRescale(e){et(this,_l).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*PixelsPerInch.PDF_TO_CSS_UNITS;for(const s of et(this,_l))s.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const s=document.getSelection();if(!s||s.isCollapsed)return;const{anchorNode:o,anchorOffset:c,focusNode:d,focusOffset:h}=s,g=s.toString(),_=pt(this,zt,vx).call(this,s).closest(".textLayer"),$=this.getSelectionBoxes(_);if(!$)return;s.empty();const _e=pt(this,zt,pv).call(this,_),st=et(this,Bs)===AnnotationEditorType.NONE,rt=()=>{_e==null||_e.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:$,anchorNode:o,anchorOffset:c,focusNode:d,focusOffset:h,text:g}),st&&this.showAllEditors("highlight",!0,!0)};if(st){this.switchToMode(AnnotationEditorType.HIGHLIGHT,rt);return}rt()}addToAnnotationStorage(e){!e.isEmpty()&&et(this,Cn)&&!et(this,Cn).has(e.id)&&et(this,Cn).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,et(this,Eo)&&(dt(this,Eo,!1),pt(this,zt,Ex).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const s of et(this,ps))if(s.div.contains(e)){dt(this,Sl,[s,e]),s._focusEventsAllowed=!1;break}}focus(){if(!et(this,Sl))return;const[e,s]=et(this,Sl);dt(this,Sl,null),s.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),s.focus()}addEditListeners(){pt(this,zt,mv).call(this),pt(this,zt,fv).call(this)}removeEditListeners(){pt(this,zt,HE).call(this),pt(this,zt,xv).call(this)}dragOver(e){for(const{type:s}of e.dataTransfer.items)for(const o of et(this,Br))if(o.isHandlingMimeForPasting(s)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const s of e.dataTransfer.items)for(const o of et(this,Br))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer),e.preventDefault();return}}copy(e){var o;if(e.preventDefault(),(o=et(this,hr))==null||o.commitOrRemove(),!this.hasSelection)return;const s=[];for(const c of et(this,ps)){const d=c.serialize(!0);d&&s.push(d)}s.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(s))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:s}=e;for(const d of s.items)for(const h of et(this,Br))if(h.isHandlingMimeForPasting(d.type)){h.paste(d,this.currentLayer);return}let o=s.getData("application/pdfjs");if(!o)return;try{o=JSON.parse(o)}catch(d){warn(`paste: "${d.message}".`);return}if(!Array.isArray(o))return;this.unselectAll();const c=this.currentLayer;try{const d=[];for(const j of o){const _=await c.deserialize(j);if(!_)return;d.push(_)}const h=()=>{for(const j of d)pt(this,zt,gv).call(this,j);pt(this,zt,vv).call(this,d)},g=()=>{for(const j of d)j.remove()};this.addCommands({cmd:h,undo:g,mustExec:!0})}catch(d){warn(`paste: "${d.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),et(this,Bs)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&Tu._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,et(this,Eo)&&(dt(this,Eo,!1),pt(this,zt,Ex).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(pt(this,zt,BE).call(this),pt(this,zt,fv).call(this),pt(this,zt,Zs).call(this,{isEditing:et(this,Bs)!==AnnotationEditorType.NONE,isEmpty:pt(this,zt,Lp).call(this),hasSomethingToUndo:et(this,Fr).hasSomethingToUndo(),hasSomethingToRedo:et(this,Fr).hasSomethingToRedo(),hasSelectedEditor:!1})):(pt(this,zt,UE).call(this),pt(this,zt,xv).call(this),pt(this,zt,Zs).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!et(this,Br)){dt(this,Br,e);for(const s of et(this,Br))pt(this,zt,oo).call(this,s.defaultPropertiesToUpdate)}}getId(){return et(this,Kx).id}get currentLayer(){return et(this,Vs).get(et(this,Vu))}getLayer(e){return et(this,Vs).get(e)}get currentPageIndex(){return et(this,Vu)}addLayer(e){et(this,Vs).set(e.pageIndex,e),et(this,yo)?e.enable():e.disable()}removeLayer(e){et(this,Vs).delete(e.pageIndex)}async updateMode(e,s=null,o=!1){if(et(this,Bs)!==e&&!(et(this,wr)&&(await et(this,wr).promise,!et(this,wr)))){if(dt(this,wr,Promise.withResolvers()),dt(this,Bs,e),e===AnnotationEditorType.NONE){this.setEditingState(!1),pt(this,zt,GE).call(this),et(this,wr).resolve();return}this.setEditingState(!0),await pt(this,zt,VE).call(this),this.unselectAll();for(const c of et(this,Vs).values())c.updateMode(e);if(!s){o&&this.addNewEditorFromKeyboard(),et(this,wr).resolve();return}for(const c of et(this,ks).values())c.annotationElementId===s?(this.setSelected(c),c.enterInEditMode()):c.unselect();et(this,wr).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==et(this,Bs)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,s){var o;if(et(this,Br)){switch(e){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor();return;case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:(o=et(this,lm))==null||o.updateColor(s);break;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(et(this,um)||dt(this,um,new Map)).set(e,s),this.showAllEditors("highlight",s);break}for(const c of et(this,ps))c.updateParams(e,s);for(const c of et(this,Br))c.updateDefaultParams(e,s)}}showAllEditors(e,s,o=!1){var d;for(const h of et(this,ks).values())h.editorType===e&&h.show(s);(((d=et(this,um))==null?void 0:d.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==s&&pt(this,zt,oo).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,s]])}enableWaiting(e=!1){if(et(this,am)!==e){dt(this,am,e);for(const s of et(this,Vs).values())e?s.disableClick():s.enableClick(),s.div.classList.toggle("waiting",e)}}getEditors(e){const s=[];for(const o of et(this,ks).values())o.pageIndex===e&&s.push(o);return s}getEditor(e){return et(this,ks).get(e)}addEditor(e){et(this,ks).set(e.id,e)}removeEditor(e){var s;e.div.contains(document.activeElement)&&(et(this,rn)&&clearTimeout(et(this,rn)),dt(this,rn,setTimeout(()=>{this.focusMainContainer(),dt(this,rn,null)},0))),et(this,ks).delete(e.id),this.unselect(e),(!e.annotationElementId||!et(this,Rl).has(e.annotationElementId))&&((s=et(this,Cn))==null||s.remove(e.id))}addDeletedAnnotationElement(e){et(this,Rl).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return et(this,Rl).has(e)}removeDeletedAnnotationElement(e){et(this,Rl).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){et(this,hr)!==e&&(dt(this,hr,e),e&&pt(this,zt,oo).call(this,e.propertiesToUpdate))}updateUI(e){et(this,zt,WE)===e&&pt(this,zt,oo).call(this,e.propertiesToUpdate)}toggleSelected(e){if(et(this,ps).has(e)){et(this,ps).delete(e),e.unselect(),pt(this,zt,Zs).call(this,{hasSelectedEditor:this.hasSelection});return}et(this,ps).add(e),e.select(),pt(this,zt,oo).call(this,e.propertiesToUpdate),pt(this,zt,Zs).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const s of et(this,ps))s!==e&&s.unselect();et(this,ps).clear(),et(this,ps).add(e),e.select(),pt(this,zt,oo).call(this,e.propertiesToUpdate),pt(this,zt,Zs).call(this,{hasSelectedEditor:!0})}isSelected(e){return et(this,ps).has(e)}get firstSelectedEditor(){return et(this,ps).values().next().value}unselect(e){e.unselect(),et(this,ps).delete(e),pt(this,zt,Zs).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return et(this,ps).size!==0}get isEnterHandled(){return et(this,ps).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){et(this,Fr).undo(),pt(this,zt,Zs).call(this,{hasSomethingToUndo:et(this,Fr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:pt(this,zt,Lp).call(this)})}redo(){et(this,Fr).redo(),pt(this,zt,Zs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:et(this,Fr).hasSomethingToRedo(),isEmpty:pt(this,zt,Lp).call(this)})}addCommands(e){et(this,Fr).add(e),pt(this,zt,Zs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:pt(this,zt,Lp).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...et(this,ps)],s=()=>{for(const c of e)c.remove()},o=()=>{for(const c of e)pt(this,zt,gv).call(this,c)};this.addCommands({cmd:s,undo:o,mustExec:!0})}commitOrRemove(){var e;(e=et(this,hr))==null||e.commitOrRemove()}hasSomethingToControl(){return et(this,hr)||this.hasSelection}selectAll(){for(const e of et(this,ps))e.commit();pt(this,zt,vv).call(this,et(this,ks).values())}unselectAll(){if(!(et(this,hr)&&(et(this,hr).commitOrRemove(),et(this,Bs)!==AnnotationEditorType.NONE))&&this.hasSelection){for(const e of et(this,ps))e.unselect();et(this,ps).clear(),pt(this,zt,Zs).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,s,o=!1){if(o||this.commitOrRemove(),!this.hasSelection)return;et(this,bo)[0]+=e,et(this,bo)[1]+=s;const[c,d]=et(this,bo),h=[...et(this,ps)],g=1e3;et(this,on)&&clearTimeout(et(this,on)),dt(this,on,setTimeout(()=>{dt(this,on,null),et(this,bo)[0]=et(this,bo)[1]=0,this.addCommands({cmd:()=>{for(const j of h)et(this,ks).has(j.id)&&j.translateInPage(c,d)},undo:()=>{for(const j of h)et(this,ks).has(j.id)&&j.translateInPage(-c,-d)},mustExec:!1})},g));for(const j of h)j.translateInPage(e,s)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),dt(this,sn,new Map);for(const e of et(this,ps))et(this,sn).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!et(this,sn))return!1;this.disableUserSelect(!1);const e=et(this,sn);dt(this,sn,null);let s=!1;for(const[{x:c,y:d,pageIndex:h},g]of e)g.newX=c,g.newY=d,g.newPageIndex=h,s||(s=c!==g.savedX||d!==g.savedY||h!==g.savedPageIndex);if(!s)return!1;const o=(c,d,h,g)=>{if(et(this,ks).has(c.id)){const j=et(this,Vs).get(g);j?c._setParentAndPosition(j,d,h):(c.pageIndex=g,c.x=d,c.y=h)}};return this.addCommands({cmd:()=>{for(const[c,{newX:d,newY:h,newPageIndex:g}]of e)o(c,d,h,g)},undo:()=>{for(const[c,{savedX:d,savedY:h,savedPageIndex:g}]of e)o(c,d,h,g)},mustExec:!0}),!0}dragSelectedEditors(e,s){if(et(this,sn))for(const o of et(this,sn).keys())o.drag(e,s)}rebuild(e){if(e.parent===null){const s=this.getLayer(e.pageIndex);s?(s.changeParent(e),s.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||et(this,ps).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return et(this,hr)===e}getActive(){return et(this,hr)}getMode(){return et(this,Bs)}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes(e){if(!e)return null;const s=document.getSelection();for(let _=0,$=s.rangeCount;_<$;_++)if(!e.contains(s.getRangeAt(_).commonAncestorContainer))return null;const{x:o,y:c,width:d,height:h}=e.getBoundingClientRect();let g;switch(e.getAttribute("data-main-rotation")){case"90":g=(_,$,_e,st)=>({x:($-c)/h,y:1-(_+_e-o)/d,width:st/h,height:_e/d});break;case"180":g=(_,$,_e,st)=>({x:1-(_+_e-o)/d,y:1-($+st-c)/h,width:_e/d,height:st/h});break;case"270":g=(_,$,_e,st)=>({x:1-($+st-c)/h,y:(_-o)/d,width:st/h,height:_e/d});break;default:g=(_,$,_e,st)=>({x:(_-o)/d,y:($-c)/h,width:_e/d,height:st/h});break}const j=[];for(let _=0,$=s.rangeCount;_<$;_++){const _e=s.getRangeAt(_);if(!_e.collapsed)for(const{x:st,y:rt,width:it,height:nt}of _e.getClientRects())it===0||nt===0||j.push(g(st,rt,it,nt))}return j.length===0?null:j}addChangedExistingAnnotation({annotationElementId:e,id:s}){(et(this,zu)||dt(this,zu,new Map)).set(e,s)}removeChangedExistingAnnotation({annotationElementId:e}){var s;(s=et(this,zu))==null||s.delete(e)}renderAnnotationElement(e){var c;const s=(c=et(this,zu))==null?void 0:c.get(e.data.id);if(!s)return;const o=et(this,Cn).getRawValue(s);o&&(et(this,Bs)===AnnotationEditorType.NONE&&!o.hasBeenModified||o.renderAnnotationElement(e))}};Uu=new WeakMap,hr=new WeakMap,ks=new WeakMap,Vs=new WeakMap,Hu=new WeakMap,Cn=new WeakMap,zu=new WeakMap,Fr=new WeakMap,go=new WeakMap,Vu=new WeakMap,Rl=new WeakMap,sn=new WeakMap,Br=new WeakMap,_l=new WeakMap,nm=new WeakMap,im=new WeakMap,Gu=new WeakMap,om=new WeakMap,rn=new WeakMap,vo=new WeakMap,Wu=new WeakMap,Eo=new WeakMap,nn=new WeakMap,Kx=new WeakMap,yo=new WeakMap,am=new WeakMap,jo=new WeakMap,Sl=new WeakMap,lm=new WeakMap,cm=new WeakMap,Bs=new WeakMap,ps=new WeakMap,An=new WeakMap,Cl=new WeakMap,um=new WeakMap,dm=new WeakMap,bo=new WeakMap,on=new WeakMap,Nn=new WeakMap,hm=new WeakMap,wr=new WeakMap,zt=new WeakSet,vx=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},pv=function(e){const{currentLayer:s}=this;if(s.hasTextLayer(e))return s;for(const o of et(this,Vs).values())if(o.hasTextLayer(e))return o;return null},OE=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const o=pt(this,zt,vx).call(this,e).closest(".textLayer"),c=this.getSelectionBoxes(o);c&&(et(this,nn)||dt(this,nn,new HighlightToolbar(this)),et(this,nn).show(o,c,this.direction==="ltr"))},DE=function(){var d,h,g;const e=document.getSelection();if(!e||e.isCollapsed){et(this,An)&&((d=et(this,nn))==null||d.hide(),dt(this,An,null),pt(this,zt,Zs).call(this,{hasSelectedText:!1}));return}const{anchorNode:s}=e;if(s===et(this,An))return;const c=pt(this,zt,vx).call(this,e).closest(".textLayer");if(!c){et(this,An)&&((h=et(this,nn))==null||h.hide(),dt(this,An,null),pt(this,zt,Zs).call(this,{hasSelectedText:!1}));return}if((g=et(this,nn))==null||g.hide(),dt(this,An,s),pt(this,zt,Zs).call(this,{hasSelectedText:!0}),!(et(this,Bs)!==AnnotationEditorType.HIGHLIGHT&&et(this,Bs)!==AnnotationEditorType.NONE)&&(et(this,Bs)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),dt(this,Eo,this.isShiftKeyDown),!this.isShiftKeyDown)){const j=et(this,Bs)===AnnotationEditorType.HIGHLIGHT?pt(this,zt,pv).call(this,c):null;j==null||j.toggleDrawing();const _=new AbortController,$=this.combinedSignal(_),_e=st=>{st.type==="pointerup"&&st.button!==0||(_.abort(),j==null||j.toggleDrawing(!0),st.type==="pointerup"&&pt(this,zt,Ex).call(this,"main_toolbar"))};window.addEventListener("pointerup",_e,{signal:$}),window.addEventListener("blur",_e,{signal:$})}},Ex=function(e=""){et(this,Bs)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection(e):et(this,nm)&&pt(this,zt,OE).call(this)},FE=function(){document.addEventListener("selectionchange",pt(this,zt,DE).bind(this),{signal:this._signal})},BE=function(){if(et(this,vo))return;dt(this,vo,new AbortController);const e=this.combinedSignal(et(this,vo));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},UE=function(){var e;(e=et(this,vo))==null||e.abort(),dt(this,vo,null)},mv=function(){if(et(this,jo))return;dt(this,jo,new AbortController);const e=this.combinedSignal(et(this,jo));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},HE=function(){var e;(e=et(this,jo))==null||e.abort(),dt(this,jo,null)},fv=function(){if(et(this,go))return;dt(this,go,new AbortController);const e=this.combinedSignal(et(this,go));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},xv=function(){var e;(e=et(this,go))==null||e.abort(),dt(this,go,null)},zE=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Zs=function(e){Object.entries(e).some(([o,c])=>et(this,dm)[o]!==c)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(et(this,dm),e)}),et(this,Bs)===AnnotationEditorType.HIGHLIGHT&&e.hasSelectedEditor===!1&&pt(this,zt,oo).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},oo=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},VE=async function(){if(!et(this,yo)){dt(this,yo,!0);const e=[];for(const s of et(this,Vs).values())e.push(s.enable());await Promise.all(e);for(const s of et(this,ks).values())s.enable()}},GE=function(){if(this.unselectAll(),et(this,yo)){dt(this,yo,!1);for(const e of et(this,Vs).values())e.disable();for(const e of et(this,ks).values())e.disable()}},gv=function(e){const s=et(this,Vs).get(e.pageIndex);s?s.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},WE=function(){let e=null;for(e of et(this,ps));return e},Lp=function(){if(et(this,ks).size===0)return!0;if(et(this,ks).size===1)for(const e of et(this,ks).values())return e.isEmpty();return!1},vv=function(e){for(const s of et(this,ps))s.unselect();et(this,ps).clear();for(const s of e)s.isEmpty()||(et(this,ps).add(s),s.select());pt(this,zt,Zs).call(this,{hasSelectedEditor:this.hasSelection})},Qt(Tu,"TRANSLATE_SMALL",1),Qt(Tu,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=Tu;var Us,an,Ur,qu,ln,pr,Ku,un,ar,Tn,Al,dn,wo,Qr,$p,yx;const er=class er{constructor(e){ft(this,Qr);ft(this,Us,null);ft(this,an,!1);ft(this,Ur,null);ft(this,qu,null);ft(this,ln,null);ft(this,pr,null);ft(this,Ku,!1);ft(this,un,null);ft(this,ar,null);ft(this,Tn,null);ft(this,Al,null);ft(this,dn,!1);dt(this,ar,e),dt(this,dn,e._uiManager.useNewAltTextFlow),et(er,wo)||dt(er,wo,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){er._l10n??(er._l10n=e)}async render(){const e=dt(this,Ur,document.createElement("button"));e.className="altText",e.tabIndex="0";const s=dt(this,qu,document.createElement("span"));e.append(s),et(this,dn)?(e.classList.add("new"),e.setAttribute("data-l10n-id",et(er,wo).missing),s.setAttribute("data-l10n-id",et(er,wo)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),s.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const o=et(this,ar)._uiManager._signal;e.addEventListener("contextmenu",noContextMenu,{signal:o}),e.addEventListener("pointerdown",d=>d.stopPropagation(),{signal:o});const c=d=>{d.preventDefault(),et(this,ar)._uiManager.editAltText(et(this,ar)),et(this,dn)&&et(this,ar)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:et(this,Qr,$p)}})};return e.addEventListener("click",c,{capture:!0,signal:o}),e.addEventListener("keydown",d=>{d.target===e&&d.key==="Enter"&&(dt(this,Ku,!0),c(d))},{signal:o}),await pt(this,Qr,yx).call(this),e}finish(){et(this,Ur)&&(et(this,Ur).focus({focusVisible:et(this,Ku)}),dt(this,Ku,!1))}isEmpty(){return et(this,dn)?et(this,Us)===null:!et(this,Us)&&!et(this,an)}hasData(){return et(this,dn)?et(this,Us)!==null||!!et(this,Tn):this.isEmpty()}get guessedText(){return et(this,Tn)}async setGuessedText(e){et(this,Us)===null&&(dt(this,Tn,e),dt(this,Al,await er._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),pt(this,Qr,yx).call(this))}toggleAltTextBadge(e=!1){var s;if(!et(this,dn)||et(this,Us)){(s=et(this,un))==null||s.remove(),dt(this,un,null);return}if(!et(this,un)){const o=dt(this,un,document.createElement("div"));o.className="noAltTextBadge",et(this,ar).div.append(o)}et(this,un).classList.toggle("hidden",!e)}serialize(e){let s=et(this,Us);return!e&&et(this,Tn)===s&&(s=et(this,Al)),{altText:s,decorative:et(this,an),guessedText:et(this,Tn),textWithDisclaimer:et(this,Al)}}get data(){return{altText:et(this,Us),decorative:et(this,an)}}set data({altText:e,decorative:s,guessedText:o,textWithDisclaimer:c,cancel:d=!1}){o&&(dt(this,Tn,o),dt(this,Al,c)),!(et(this,Us)===e&&et(this,an)===s)&&(d||(dt(this,Us,e),dt(this,an,s)),pt(this,Qr,yx).call(this))}toggle(e=!1){et(this,Ur)&&(!e&&et(this,pr)&&(clearTimeout(et(this,pr)),dt(this,pr,null)),et(this,Ur).disabled=!e)}shown(){et(this,ar)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:et(this,Qr,$p)}})}destroy(){var e,s;(e=et(this,Ur))==null||e.remove(),dt(this,Ur,null),dt(this,qu,null),dt(this,ln,null),(s=et(this,un))==null||s.remove(),dt(this,un,null)}};Us=new WeakMap,an=new WeakMap,Ur=new WeakMap,qu=new WeakMap,ln=new WeakMap,pr=new WeakMap,Ku=new WeakMap,un=new WeakMap,ar=new WeakMap,Tn=new WeakMap,Al=new WeakMap,dn=new WeakMap,wo=new WeakMap,Qr=new WeakSet,$p=function(){return et(this,Us)&&"added"||et(this,Us)===null&&this.guessedText&&"review"||"missing"},yx=async function(){var c,d,h;const e=et(this,Ur);if(!e)return;if(et(this,dn)){if(e.classList.toggle("done",!!et(this,Us)),e.setAttribute("data-l10n-id",et(er,wo)[et(this,Qr,$p)]),(c=et(this,qu))==null||c.setAttribute("data-l10n-id",et(er,wo)[`${et(this,Qr,$p)}-label`]),!et(this,Us)){(d=et(this,ln))==null||d.remove();return}}else{if(!et(this,Us)&&!et(this,an)){e.classList.remove("done"),(h=et(this,ln))==null||h.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let s=et(this,ln);if(!s){dt(this,ln,s=document.createElement("span")),s.className="tooltip",s.setAttribute("role","tooltip"),s.id=`alt-text-tooltip-${et(this,ar).id}`;const g=100,j=et(this,ar)._uiManager._signal;j.addEventListener("abort",()=>{clearTimeout(et(this,pr)),dt(this,pr,null)},{once:!0}),e.addEventListener("mouseenter",()=>{dt(this,pr,setTimeout(()=>{dt(this,pr,null),et(this,ln).classList.add("show"),et(this,ar)._reportTelemetry({action:"alt_text_tooltip"})},g))},{signal:j}),e.addEventListener("mouseleave",()=>{var _;et(this,pr)&&(clearTimeout(et(this,pr)),dt(this,pr,null)),(_=et(this,ln))==null||_.classList.remove("show")},{signal:j})}et(this,an)?s.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(s.removeAttribute("data-l10n-id"),s.textContent=et(this,Us)),s.parentNode||e.append(s);const o=et(this,ar).getImageForAltText();o==null||o.setAttribute("aria-describedby",s.id)},ft(er,wo,null),Qt(er,"_l10n",null);let AltText=er;var Nl,Hr,Rs,Xu,Tl,Gs,Pl,Ro,pm,Il,_o,mm,Ml,Pn,hn,Yu,Qu,Rr,fm,Xx,os,Ev,xm,yv,jv,qE,KE,bv,wv,Rv,XE,_v,YE,QE,JE,Sv,Op;const hs=class hs{constructor(e){ft(this,os);ft(this,Nl,null);ft(this,Hr,null);ft(this,Rs,null);ft(this,Xu,!1);ft(this,Tl,!1);ft(this,Gs,null);ft(this,Pl,null);ft(this,Ro,null);ft(this,pm,"");ft(this,Il,!1);ft(this,_o,null);ft(this,mm,!1);ft(this,Ml,!1);ft(this,Pn,!1);ft(this,hn,null);ft(this,Yu,0);ft(this,Qu,0);ft(this,Rr,null);Qt(this,"_editToolbar",null);Qt(this,"_initialOptions",Object.create(null));Qt(this,"_initialData",null);Qt(this,"_isVisible",!0);Qt(this,"_uiManager",null);Qt(this,"_focusEventsAllowed",!0);ft(this,fm,!1);ft(this,Xx,hs._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:s,rawDims:{pageWidth:o,pageHeight:c,pageX:d,pageY:h}}=this.parent.viewport;this.rotation=s,this.pageRotation=(360+s-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[o,c],this.pageTranslation=[d,h];const[g,j]=this.parentDimensions;this.x=e.x/g,this.y=e.y/j,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=hs.prototype._resizeWithKeyboard,s=AnnotationEditorUIManager.TRANSLATE_SMALL,o=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-s,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-o,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[s,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[o,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-s]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-o]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,s]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,o]}],[["Escape","mac+Escape"],hs.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const s=new FakeEditor({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});s.annotationElementId=e.annotationElementId,s.deleted=!0,s._uiManager.addToAnnotationStorage(s)}static initialize(e,s){if(hs._l10n??(hs._l10n=e),hs._l10nResizer||(hs._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),hs._borderLineWidth!==-1)return;const o=getComputedStyle(document.documentElement);hs._borderLineWidth=parseFloat(o.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,s){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,s){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return et(this,fm)}set _isDraggable(e){var s;dt(this,fm,e),(s=this.div)==null||s.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,s]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*s/(e*2),this.y+=this.width*e/(s*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*s/(e*2),this.y-=this.width*e/(s*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=et(this,Xx)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):pt(this,os,Op).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(et(this,Il)?dt(this,Il,!1):this.parent.setSelected(this))}focusout(e){var o;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const s=e.relatedTarget;s!=null&&s.closest(`#${this.id}`)||(e.preventDefault(),(o=this.parent)!=null&&o.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,s,o,c){const[d,h]=this.parentDimensions;[o,c]=this.screenToPageTranslation(o,c),this.x=(e+o)/d,this.y=(s+c)/h,this.fixAndSetPosition()}translate(e,s){pt(this,os,Ev).call(this,this.parentDimensions,e,s)}translateInPage(e,s){et(this,_o)||dt(this,_o,[this.x,this.y]),pt(this,os,Ev).call(this,this.pageDimensions,e,s),this.div.scrollIntoView({block:"nearest"})}drag(e,s){et(this,_o)||dt(this,_o,[this.x,this.y]);const[o,c]=this.parentDimensions;if(this.x+=e/o,this.y+=s/c,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:_,y:$}=this.div.getBoundingClientRect();this.parent.findNewParent(this,_,$)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:d,y:h}=this;const[g,j]=this.getBaseTranslation();d+=g,h+=j,this.div.style.left=`${(100*d).toFixed(2)}%`,this.div.style.top=`${(100*h).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!et(this,_o)&&(et(this,_o)[0]!==this.x||et(this,_o)[1]!==this.y)}getBaseTranslation(){const[e,s]=this.parentDimensions,{_borderLineWidth:o}=hs,c=o/e,d=o/s;switch(this.rotation){case 90:return[-c,d];case 180:return[c,d];case 270:return[c,-d];default:return[-c,-d]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[s,o]=this.pageDimensions;let{x:c,y:d,width:h,height:g}=this;if(h*=s,g*=o,c*=s,d*=o,this._mustFixPosition)switch(e){case 0:c=Math.max(0,Math.min(s-h,c)),d=Math.max(0,Math.min(o-g,d));break;case 90:c=Math.max(0,Math.min(s-g,c)),d=Math.min(o,Math.max(h,d));break;case 180:c=Math.min(s,Math.max(h,c)),d=Math.min(o,Math.max(g,d));break;case 270:c=Math.min(s,Math.max(g,c)),d=Math.max(0,Math.min(o-h,d));break}this.x=c/=s,this.y=d/=o;const[j,_]=this.getBaseTranslation();c+=j,d+=_;const{style:$}=this.div;$.left=`${(100*c).toFixed(2)}%`,$.top=`${(100*d).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,s){var o;return pt(o=hs,xm,yv).call(o,e,s,this.parentRotation)}pageTranslationToScreen(e,s){var o;return pt(o=hs,xm,yv).call(o,e,s,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[s,o]}=this;return[s*e,o*e]}setDims(e,s){const[o,c]=this.parentDimensions;this.div.style.width=`${(100*e/o).toFixed(2)}%`,et(this,Tl)||(this.div.style.height=`${(100*s/c).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:s,width:o}=e,c=o.endsWith("%"),d=!et(this,Tl)&&s.endsWith("%");if(c&&d)return;const[h,g]=this.parentDimensions;c||(e.width=`${(100*parseFloat(o)/h).toFixed(2)}%`),!et(this,Tl)&&!d&&(e.height=`${(100*parseFloat(s)/g).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=et(this,Rs))==null||e.finish()}async addEditToolbar(){return this._editToolbar||et(this,Ml)?this._editToolbar:(this._editToolbar=new EditorToolbar(this),this.div.append(this._editToolbar.render()),et(this,Rs)&&await this._editToolbar.addAltText(et(this,Rs)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=et(this,Rs))==null||e.destroy())}addContainer(e){var o;const s=(o=this._editToolbar)==null?void 0:o.div;s?s.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){et(this,Rs)||(AltText.initialize(hs._l10n),dt(this,Rs,new AltText(this)),et(this,Nl)&&(et(this,Rs).data=et(this,Nl),dt(this,Nl,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=et(this,Rs))==null?void 0:e.data}set altTextData(e){et(this,Rs)&&(et(this,Rs).data=e)}get guessedAltText(){var e;return(e=et(this,Rs))==null?void 0:e.guessedText}async setGuessedAltText(e){var s;await((s=et(this,Rs))==null?void 0:s.setGuessedText(e))}serializeAltText(e){var s;return(s=et(this,Rs))==null?void 0:s.serialize(e)}hasAltText(){return!!et(this,Rs)&&!et(this,Rs).isEmpty()}hasAltTextData(){var e;return((e=et(this,Rs))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=et(this,Xu)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),pt(this,os,_v).call(this);const[e,s]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*s/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/s).toFixed(2)}%`);const[o,c]=this.getInitialTranslation();return this.translate(o,c),bindEvents(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:s}=util_FeatureTest.platform;if(e.button!==0||e.ctrlKey&&s){e.preventDefault();return}if(dt(this,Il,!0),this._isDraggable){pt(this,os,XE).call(this,e);return}pt(this,os,Rv).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){et(this,hn)&&clearTimeout(et(this,hn)),dt(this,hn,setTimeout(()=>{var e;dt(this,hn,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,s,o){e.changeParent(this),this.x=s,this.y=o,this.fixAndSetPosition()}getRect(e,s,o=this.rotation){const c=this.parentScale,[d,h]=this.pageDimensions,[g,j]=this.pageTranslation,_=e/c,$=s/c,_e=this.x*d,st=this.y*h,rt=this.width*d,it=this.height*h;switch(o){case 0:return[_e+_+g,h-st-$-it+j,_e+_+rt+g,h-st-$+j];case 90:return[_e+$+g,h-st+_+j,_e+$+it+g,h-st+_+rt+j];case 180:return[_e-_-rt+g,h-st+$+j,_e-_+g,h-st+$+it+j];case 270:return[_e-$-it+g,h-st-_-rt+j,_e-$+g,h-st-_+j];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,s){const[o,c,d,h]=e,g=d-o,j=h-c;switch(this.rotation){case 0:return[o,s-h,g,j];case 90:return[o,s-c,j,g];case 180:return[d,s-c,g,j];case 270:return[d,s-h,j,g];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){dt(this,Ml,!0)}disableEditMode(){dt(this,Ml,!1)}isInEditMode(){return et(this,Ml)}shouldGetKeyboardEvents(){return et(this,Pn)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){pt(this,os,_v).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,s=null){unreachable("An editor must be serializable")}static async deserialize(e,s,o){const c=new this.prototype.constructor({parent:s,id:s.getNextId(),uiManager:o});c.rotation=e.rotation,dt(c,Nl,e.accessibilityData);const[d,h]=c.pageDimensions,[g,j,_,$]=c.getRectInCurrentCoords(e.rect,h);return c.x=g/d,c.y=j/h,c.width=_/d,c.height=$/h,c}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=et(this,Ro))==null||e.abort(),dt(this,Ro,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),et(this,hn)&&(clearTimeout(et(this,hn)),dt(this,hn,null)),pt(this,os,Op).call(this),this.removeEditToolbar(),et(this,Rr)){for(const s of et(this,Rr).values())clearTimeout(s);dt(this,Rr,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(pt(this,os,qE).call(this),et(this,Gs).classList.remove("hidden"),bindEvents(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),dt(this,Pl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const s=et(this,Gs).children;if(!et(this,Hr)){dt(this,Hr,Array.from(s));const h=pt(this,os,YE).bind(this),g=pt(this,os,QE).bind(this),j=this._uiManager._signal;for(const _ of et(this,Hr)){const $=_.getAttribute("data-resizer-name");_.setAttribute("role","spinbutton"),_.addEventListener("keydown",h,{signal:j}),_.addEventListener("blur",g,{signal:j}),_.addEventListener("focus",pt(this,os,JE).bind(this,$),{signal:j}),_.setAttribute("data-l10n-id",hs._l10nResizer[$])}}const o=et(this,Hr)[0];let c=0;for(const h of s){if(h===o)break;c++}const d=(360-this.rotation+this.parentRotation)%360/90*(et(this,Hr).length/4);if(d!==c){if(d<c)for(let g=0;g<c-d;g++)et(this,Gs).append(et(this,Gs).firstChild);else if(d>c)for(let g=0;g<d-c;g++)et(this,Gs).firstChild.before(et(this,Gs).lastChild);let h=0;for(const g of s){const _=et(this,Hr)[h++].getAttribute("data-resizer-name");g.setAttribute("data-l10n-id",hs._l10nResizer[_])}}pt(this,os,Sv).call(this,0),dt(this,Pn,!0),et(this,Gs).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,s){et(this,Pn)&&pt(this,os,wv).call(this,et(this,pm),{movementX:e,movementY:s})}_stopResizingWithKeyboard(){pt(this,os,Op).call(this),this.div.focus()}select(){var e,s,o;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var c,d;(c=this.div)!=null&&c.classList.contains("selectedEditor")&&((d=this._editToolbar)==null||d.show())});return}(s=this._editToolbar)==null||s.show(),(o=et(this,Rs))==null||o.toggleAltTextBadge(!1)}unselect(){var e,s,o,c,d;(e=et(this,Gs))==null||e.classList.add("hidden"),(s=this.div)==null||s.classList.remove("selectedEditor"),(o=this.div)!=null&&o.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(c=this._editToolbar)==null||c.hide(),(d=et(this,Rs))==null||d.toggleAltTextBadge(!0)}updateParams(e,s){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return et(this,mm)}set isEditing(e){dt(this,mm,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,s){dt(this,Tl,!0);const o=e/s,{style:c}=this.div;c.aspectRatio=o,c.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,s=!1){if(s){et(this,Rr)||dt(this,Rr,new Map);const{action:o}=e;let c=et(this,Rr).get(o);c&&clearTimeout(c),c=setTimeout(()=>{this._reportTelemetry(e),et(this,Rr).delete(o),et(this,Rr).size===0&&dt(this,Rr,null)},hs._telemetryTimeout),et(this,Rr).set(o,c);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),dt(this,Xu,!1)}disable(){this.div&&(this.div.tabIndex=-1),dt(this,Xu,!0)}renderAnnotationElement(e){let s=e.container.querySelector(".annotationContent");if(!s)s=document.createElement("div"),s.classList.add("annotationContent",this.editorType),e.container.prepend(s);else if(s.nodeName==="CANVAS"){const o=s;s=document.createElement("div"),s.classList.add("annotationContent",this.editorType),o.before(s)}return s}resetAnnotationElement(e){const{firstChild:s}=e.container;(s==null?void 0:s.nodeName)==="DIV"&&s.classList.contains("annotationContent")&&s.remove()}};Nl=new WeakMap,Hr=new WeakMap,Rs=new WeakMap,Xu=new WeakMap,Tl=new WeakMap,Gs=new WeakMap,Pl=new WeakMap,Ro=new WeakMap,pm=new WeakMap,Il=new WeakMap,_o=new WeakMap,mm=new WeakMap,Ml=new WeakMap,Pn=new WeakMap,hn=new WeakMap,Yu=new WeakMap,Qu=new WeakMap,Rr=new WeakMap,fm=new WeakMap,Xx=new WeakMap,os=new WeakSet,Ev=function([e,s],o,c){[o,c]=this.screenToPageTranslation(o,c),this.x+=o/e,this.y+=c/s,this.fixAndSetPosition()},xm=new WeakSet,yv=function(e,s,o){switch(o){case 90:return[s,-e];case 180:return[-e,-s];case 270:return[-s,e];default:return[e,s]}},jv=function(e){switch(e){case 90:{const[s,o]=this.pageDimensions;return[0,-s/o,o/s,0]}case 180:return[-1,0,0,-1];case 270:{const[s,o]=this.pageDimensions;return[0,s/o,-o/s,0]}default:return[1,0,0,1]}},qE=function(){if(et(this,Gs))return;dt(this,Gs,document.createElement("div")),et(this,Gs).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],s=this._uiManager._signal;for(const o of e){const c=document.createElement("div");et(this,Gs).append(c),c.classList.add("resizer",o),c.setAttribute("data-resizer-name",o),c.addEventListener("pointerdown",pt(this,os,KE).bind(this,o),{signal:s}),c.addEventListener("contextmenu",noContextMenu,{signal:s}),c.tabIndex=-1}this.div.prepend(et(this,Gs))},KE=function(e,s){var it;s.preventDefault();const{isMac:o}=util_FeatureTest.platform;if(s.button!==0||s.ctrlKey&&o)return;(it=et(this,Rs))==null||it.toggle(!1);const c=this._isDraggable;this._isDraggable=!1;const d=new AbortController,h=this._uiManager.combinedSignal(d);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",pt(this,os,wv).bind(this,e),{passive:!0,capture:!0,signal:h}),window.addEventListener("contextmenu",noContextMenu,{signal:h});const g=this.x,j=this.y,_=this.width,$=this.height,_e=this.parent.div.style.cursor,st=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(s.target).cursor;const rt=()=>{var nt;d.abort(),this.parent.togglePointerEvents(!0),(nt=et(this,Rs))==null||nt.toggle(!0),this._isDraggable=c,this.parent.div.style.cursor=_e,this.div.style.cursor=st,pt(this,os,bv).call(this,g,j,_,$)};window.addEventListener("pointerup",rt,{signal:h}),window.addEventListener("blur",rt,{signal:h})},bv=function(e,s,o,c){const d=this.x,h=this.y,g=this.width,j=this.height;d===e&&h===s&&g===o&&j===c||this.addCommands({cmd:()=>{this.width=g,this.height=j,this.x=d,this.y=h;const[_,$]=this.parentDimensions;this.setDims(_*g,$*j),this.fixAndSetPosition()},undo:()=>{this.width=o,this.height=c,this.x=e,this.y=s;const[_,$]=this.parentDimensions;this.setDims(_*o,$*c),this.fixAndSetPosition()},mustExec:!0})},wv=function(e,s){const[o,c]=this.parentDimensions,d=this.x,h=this.y,g=this.width,j=this.height,_=hs.MIN_SIZE/o,$=hs.MIN_SIZE/c,_e=It=>Math.round(It*1e4)/1e4,st=pt(this,os,jv).call(this,this.rotation),rt=(It,Nt)=>[st[0]*It+st[2]*Nt,st[1]*It+st[3]*Nt],it=pt(this,os,jv).call(this,360-this.rotation),nt=(It,Nt)=>[it[0]*It+it[2]*Nt,it[1]*It+it[3]*Nt];let lt,ot,at=!1,ct=!1;switch(e){case"topLeft":at=!0,lt=(It,Nt)=>[0,0],ot=(It,Nt)=>[It,Nt];break;case"topMiddle":lt=(It,Nt)=>[It/2,0],ot=(It,Nt)=>[It/2,Nt];break;case"topRight":at=!0,lt=(It,Nt)=>[It,0],ot=(It,Nt)=>[0,Nt];break;case"middleRight":ct=!0,lt=(It,Nt)=>[It,Nt/2],ot=(It,Nt)=>[0,Nt/2];break;case"bottomRight":at=!0,lt=(It,Nt)=>[It,Nt],ot=(It,Nt)=>[0,0];break;case"bottomMiddle":lt=(It,Nt)=>[It/2,Nt],ot=(It,Nt)=>[It/2,0];break;case"bottomLeft":at=!0,lt=(It,Nt)=>[0,Nt],ot=(It,Nt)=>[It,0];break;case"middleLeft":ct=!0,lt=(It,Nt)=>[0,Nt/2],ot=(It,Nt)=>[It,Nt/2];break}const ut=lt(g,j),ht=ot(g,j);let mt=rt(...ht);const xt=_e(d+mt[0]),Et=_e(h+mt[1]);let Tt=1,St=1,[gt,Ct]=this.screenToPageTranslation(s.movementX,s.movementY);if([gt,Ct]=nt(gt/o,Ct/c),at){const It=Math.hypot(g,j);Tt=St=Math.max(Math.min(Math.hypot(ht[0]-ut[0]-gt,ht[1]-ut[1]-Ct)/It,1/g,1/j),_/g,$/j)}else ct?Tt=Math.max(_,Math.min(1,Math.abs(ht[0]-ut[0]-gt)))/g:St=Math.max($,Math.min(1,Math.abs(ht[1]-ut[1]-Ct)))/j;const At=_e(g*Tt),Rt=_e(j*St);mt=rt(...ot(At,Rt));const kt=xt-mt[0],Mt=Et-mt[1];this.width=At,this.height=Rt,this.x=kt,this.y=Mt,this.setDims(o*At,c*Rt),this.fixAndSetPosition()},Rv=function(e){const{isMac:s}=util_FeatureTest.platform;e.ctrlKey&&!s||e.shiftKey||e.metaKey&&s?this.parent.toggleSelected(this):this.parent.setSelected(this)},XE=function(e){const{isSelected:s}=this;this._uiManager.setUpDragSession();const o=new AbortController,c=this._uiManager.combinedSignal(o);if(s){this.div.classList.add("moving"),dt(this,Yu,e.clientX),dt(this,Qu,e.clientY);const h=g=>{const{clientX:j,clientY:_}=g,[$,_e]=this.screenToPageTranslation(j-et(this,Yu),_-et(this,Qu));dt(this,Yu,j),dt(this,Qu,_),this._uiManager.dragSelectedEditors($,_e)};window.addEventListener("pointermove",h,{passive:!0,capture:!0,signal:c})}const d=()=>{o.abort(),s&&this.div.classList.remove("moving"),dt(this,Il,!1),this._uiManager.endDragSession()||pt(this,os,Rv).call(this,e)};window.addEventListener("pointerup",d,{signal:c}),window.addEventListener("blur",d,{signal:c})},_v=function(){if(et(this,Ro)||!this.div)return;dt(this,Ro,new AbortController);const e=this._uiManager.combinedSignal(et(this,Ro));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},YE=function(e){hs._resizerKeyboardManager.exec(this,e)},QE=function(e){var s;et(this,Pn)&&((s=e.relatedTarget)==null?void 0:s.parentNode)!==et(this,Gs)&&pt(this,os,Op).call(this)},JE=function(e){dt(this,pm,et(this,Pn)?e:"")},Sv=function(e){if(et(this,Hr))for(const s of et(this,Hr))s.tabIndex=e},Op=function(){if(dt(this,Pn,!1),pt(this,os,Sv).call(this,-1),et(this,Pl)){const{savedX:e,savedY:s,savedWidth:o,savedHeight:c}=et(this,Pl);pt(this,os,bv).call(this,e,s,o,c),dt(this,Pl,null)}},ft(hs,xm),Qt(hs,"_l10n",null),Qt(hs,"_l10nResizer",null),Qt(hs,"_borderLineWidth",-1),Qt(hs,"_colorManager",new ColorManager),Qt(hs,"_zIndex",1),Qt(hs,"_telemetryTimeout",1e3);let AnnotationEditor=hs;class FakeEditor extends AnnotationEditor{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor(e){this.h1=e?e&4294967295:SEED,this.h2=e?e&4294967295:SEED}update(e){let s,o;if(typeof e=="string"){s=new Uint8Array(e.length*2),o=0;for(let nt=0,lt=e.length;nt<lt;nt++){const ot=e.charCodeAt(nt);ot<=255?s[o++]=ot:(s[o++]=ot>>>8,s[o++]=ot&255)}}else if(ArrayBuffer.isView(e))s=e.slice(),o=s.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const c=o>>2,d=o-c*4,h=new Uint32Array(s.buffer,0,c);let g=0,j=0,_=this.h1,$=this.h2;const _e=3432918353,st=461845907,rt=_e&MASK_LOW,it=st&MASK_LOW;for(let nt=0;nt<c;nt++)nt&1?(g=h[nt],g=g*_e&MASK_HIGH|g*rt&MASK_LOW,g=g<<15|g>>>17,g=g*st&MASK_HIGH|g*it&MASK_LOW,_^=g,_=_<<13|_>>>19,_=_*5+3864292196):(j=h[nt],j=j*_e&MASK_HIGH|j*rt&MASK_LOW,j=j<<15|j>>>17,j=j*st&MASK_HIGH|j*it&MASK_LOW,$^=j,$=$<<13|$>>>19,$=$*5+3864292196);switch(g=0,d){case 3:g^=s[c*4+2]<<16;case 2:g^=s[c*4+1]<<8;case 1:g^=s[c*4],g=g*_e&MASK_HIGH|g*rt&MASK_LOW,g=g<<15|g>>>17,g=g*st&MASK_HIGH|g*it&MASK_LOW,c&1?_^=g:$^=g}this.h1=_,this.h2=$}hexdigest(){let e=this.h1,s=this.h2;return e^=s>>>1,e=e*3981806797&MASK_HIGH|e*36045&MASK_LOW,s=s*4283543511&MASK_HIGH|((s<<16|e>>>16)*2950163797&MASK_HIGH)>>>16,e^=s>>>1,e=e*444984403&MASK_HIGH|e*60499&MASK_LOW,s=s*3301882366&MASK_HIGH|((s<<16|e>>>16)*3120437893&MASK_HIGH)>>>16,e^=s>>>1,(e>>>0).toString(16).padStart(8,"0")+(s>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var Ll,$l,Hs,Yx,ZE;class AnnotationStorage{constructor(){ft(this,Yx);ft(this,Ll,!1);ft(this,$l,null);ft(this,Hs,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,s){const o=et(this,Hs).get(e);return o===void 0?s:Object.assign(s,o)}getRawValue(e){return et(this,Hs).get(e)}remove(e){if(et(this,Hs).delete(e),et(this,Hs).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const s of et(this,Hs).values())if(s instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(e,s){const o=et(this,Hs).get(e);let c=!1;if(o!==void 0)for(const[d,h]of Object.entries(s))o[d]!==h&&(c=!0,o[d]=h);else c=!0,et(this,Hs).set(e,s);c&&pt(this,Yx,ZE).call(this),s instanceof AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(s.constructor._type)}has(e){return et(this,Hs).has(e)}getAll(){return et(this,Hs).size>0?objectFromMap(et(this,Hs)):null}setAll(e){for(const[s,o]of Object.entries(e))this.setValue(s,o)}get size(){return et(this,Hs).size}resetModified(){et(this,Ll)&&(dt(this,Ll,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(et(this,Hs).size===0)return SerializableEmpty;const e=new Map,s=new MurmurHash3_64,o=[],c=Object.create(null);let d=!1;for(const[h,g]of et(this,Hs)){const j=g instanceof AnnotationEditor?g.serialize(!1,c):g;j&&(e.set(h,j),s.update(`${h}:${JSON.stringify(j)}`),d||(d=!!j.bitmap))}if(d)for(const h of e.values())h.bitmap&&o.push(h.bitmap);return e.size>0?{map:e,hash:s.hexdigest(),transfer:o}:SerializableEmpty}get editorStats(){let e=null;const s=new Map;for(const o of et(this,Hs).values()){if(!(o instanceof AnnotationEditor))continue;const c=o.telemetryFinalData;if(!c)continue;const{type:d}=c;s.has(d)||s.set(d,Object.getPrototypeOf(o).constructor),e||(e=Object.create(null));const h=e[d]||(e[d]=new Map);for(const[g,j]of Object.entries(c)){if(g==="type")continue;let _=h.get(g);_||(_=new Map,h.set(g,_));const $=_.get(j)??0;_.set(j,$+1)}}for(const[o,c]of s)e[o]=c.computeTelemetryFinalData(e[o]);return e}resetModifiedIds(){dt(this,$l,null)}get modifiedIds(){if(et(this,$l))return et(this,$l);const e=[];for(const s of et(this,Hs).values())!(s instanceof AnnotationEditor)||!s.annotationElementId||!s.serialize()||e.push(s.annotationElementId);return dt(this,$l,{ids:new Set(e),hash:e.join(",")})}}Ll=new WeakMap,$l=new WeakMap,Hs=new WeakMap,Yx=new WeakSet,ZE=function(){et(this,Ll)||(dt(this,Ll,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var gm;class PrintAnnotationStorage extends AnnotationStorage{constructor(s){super();ft(this,gm);const{map:o,hash:c,transfer:d}=s.serializable,h=structuredClone(o,d?{transfer:d}:null);dt(this,gm,{map:h,hash:c,transfer:d})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return et(this,gm)}get modifiedIds(){return shadow(this,"modifiedIds",{ids:new Set,hash:""})}}gm=new WeakMap;var Ju;class FontLoader{constructor({ownerDocument:e=globalThis.document,styleElement:s=null}){ft(this,Ju,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const s=this.styleElement.sheet;s.insertRule(e,s.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),et(this,Ju).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:s}){if(!(!e||et(this,Ju).has(e.loadedName))){if(assert(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:o,src:c,style:d}=e,h=new FontFace(o,c,d);this.addNativeFontFace(h);try{await h.load(),et(this,Ju).add(o),s==null||s(e)}catch{warn(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(h)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const o=e.createNativeFontFace();if(o){this.addNativeFontFace(o);try{await o.loaded}catch(c){throw warn(`Failed to load font '${o.family}': '${c}'.`),e.disableFontFace=!0,c}}return}const s=e.createFontFaceRule();if(s){if(this.insertRule(s),this.isSyncFontLoadingSupported)return;await new Promise(o=>{const c=this._queueLoadingCallback(o);this._prepareFontLoadEvent(e,c)})}}get isFontLoadingAPISupported(){var s;const e=!!((s=this._document)!=null&&s.fonts);return shadow(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(isNodeJS||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),shadow(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function s(){for(assert(!c.done,"completeRequest() cannot be called twice."),c.done=!0;o.length>0&&o[0].done;){const d=o.shift();setTimeout(d.callback,0)}}const{loadingRequests:o}=this,c={done:!1,complete:s,callback:e};return o.push(c),c}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,s){function o(ut,ht){return ut.charCodeAt(ht)<<24|ut.charCodeAt(ht+1)<<16|ut.charCodeAt(ht+2)<<8|ut.charCodeAt(ht+3)&255}function c(ut,ht,mt,xt){const Et=ut.substring(0,ht),Tt=ut.substring(ht+mt);return Et+xt+Tt}let d,h;const g=this._document.createElement("canvas");g.width=1,g.height=1;const j=g.getContext("2d");let _=0;function $(ut,ht){if(++_>30){warn("Load test font never loaded."),ht();return}if(j.font="30px "+ut,j.fillText(".",0,20),j.getImageData(0,0,1,1).data[3]>0){ht();return}setTimeout($.bind(null,ut,ht))}const _e=`lt${Date.now()}${this.loadTestFontId++}`;let st=this._loadTestFont;st=c(st,976,_e.length,_e);const it=16,nt=1482184792;let lt=o(st,it);for(d=0,h=_e.length-3;d<h;d+=4)lt=lt-nt+o(_e,d)|0;d<_e.length&&(lt=lt-nt+o(_e+"XXX",d)|0),st=c(st,it,4,string32(lt));const ot=`url(data:font/opentype;base64,${btoa(st)});`,at=`@font-face {font-family:"${_e}";src:${ot}}`;this.insertRule(at);const ct=this._document.createElement("div");ct.style.visibility="hidden",ct.style.width=ct.style.height="10px",ct.style.position="absolute",ct.style.top=ct.style.left="0px";for(const ut of[e.loadedName,_e]){const ht=this._document.createElement("span");ht.textContent="Hi",ht.style.fontFamily=ut,ct.append(ht)}this._document.body.append(ct),$(_e,()=>{ct.remove(),s.complete()})}}Ju=new WeakMap;class FontFaceObject{constructor(e,{disableFontFace:s=!1,inspectFont:o=null}){this.compiledGlyphs=Object.create(null);for(const c in e)this[c]=e[c];this.disableFontFace=s===!0,this._inspectFont=o}createNativeFontFace(){var s;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const o={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(o.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,o)}return(s=this._inspectFont)==null||s.call(this,this),e}createFontFaceRule(){var o;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${toBase64Util(this.data)});`;let s;if(!this.cssFontInfo)s=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let c=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(c+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),s=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${c}src:${e}}`}return(o=this._inspectFont)==null||o.call(this,this,e),s}getPathGenerator(e,s){if(this.compiledGlyphs[s]!==void 0)return this.compiledGlyphs[s];let o;try{o=e.get(this.loadedName+"_path_"+s)}catch(d){warn(`getPathGenerator - ignoring character: "${d}".`)}if(!Array.isArray(o)||o.length===0)return this.compiledGlyphs[s]=function(d,h){};const c=[];for(let d=0,h=o.length;d<h;)switch(o[d++]){case FontRenderOps.BEZIER_CURVE_TO:{const[g,j,_,$,_e,st]=o.slice(d,d+6);c.push(rt=>rt.bezierCurveTo(g,j,_,$,_e,st)),d+=6}break;case FontRenderOps.MOVE_TO:{const[g,j]=o.slice(d,d+2);c.push(_=>_.moveTo(g,j)),d+=2}break;case FontRenderOps.LINE_TO:{const[g,j]=o.slice(d,d+2);c.push(_=>_.lineTo(g,j)),d+=2}break;case FontRenderOps.QUADRATIC_CURVE_TO:{const[g,j,_,$]=o.slice(d,d+4);c.push(_e=>_e.quadraticCurveTo(g,j,_,$)),d+=4}break;case FontRenderOps.RESTORE:c.push(g=>g.restore());break;case FontRenderOps.SAVE:c.push(g=>g.save());break;case FontRenderOps.SCALE:assert(c.length===2,"Scale command is only valid at the third position.");break;case FontRenderOps.TRANSFORM:{const[g,j,_,$,_e,st]=o.slice(d,d+6);c.push(rt=>rt.transform(g,j,_,$,_e,st)),d+=6}break;case FontRenderOps.TRANSLATE:{const[g,j]=o.slice(d,d+2);c.push(_=>_.translate(g,j)),d+=2}break}return this.compiledGlyphs[s]=function(h,g){c[0](h),c[1](h),h.scale(g,-g);for(let j=2,_=c.length;j<_;j++)c[j](h)}}}var vm;class BaseCanvasFactory{constructor({enableHWA:e=!1}){ft(this,vm,!1);dt(this,vm,e)}create(e,s){if(e<=0||s<=0)throw new Error("Invalid canvas size");const o=this._createCanvas(e,s);return{canvas:o,context:o.getContext("2d",{willReadFrequently:!et(this,vm)})}}reset(e,s,o){if(!e.canvas)throw new Error("Canvas is not specified");if(s<=0||o<=0)throw new Error("Invalid canvas size");e.canvas.width=s,e.canvas.height=o}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,s){unreachable("Abstract method `_createCanvas` called.")}}vm=new WeakMap;class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:e=globalThis.document,enableHWA:s=!1}){super({enableHWA:s}),this._document=e}_createCanvas(e,s){const o=this._document.createElement("canvas");return o.width=e,o.height=s,o}}class BaseCMapReaderFactory{constructor({baseUrl:e=null,isCompressed:s=!0}){this.baseUrl=e,this.isCompressed=s}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const s=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(s).then(o=>({cMapData:o,isCompressed:this.isCompressed})).catch(o=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${s}`)})}async _fetch(e){unreachable("Abstract method `_fetch` called.")}}class DOMCMapReaderFactory extends BaseCMapReaderFactory{async _fetch(e){const s=await fetchData(e,this.isCompressed?"arraybuffer":"text");return s instanceof ArrayBuffer?new Uint8Array(s):stringToBytes(s)}}class BaseFilterFactory{addFilter(e){return"none"}addHCMFilter(e,s){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,s,o,c,d){return"none"}destroy(e=!1){}}var Ol,Dl,pn,kn,Ys,Qx,Fl,Vt,Ks,wu,Ru,jx,_u,ey,Cv,Su,Dp,Fp,Av,Bp;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:s,ownerDocument:o=globalThis.document}){super();ft(this,Vt);ft(this,Ol);ft(this,Dl);ft(this,pn);ft(this,kn);ft(this,Ys);ft(this,Qx);ft(this,Fl,0);dt(this,kn,s),dt(this,Ys,o)}addFilter(s){if(!s)return"none";let o=et(this,Vt,Ks).get(s);if(o)return o;const[c,d,h]=pt(this,Vt,jx).call(this,s),g=s.length===1?c:`${c}${d}${h}`;if(o=et(this,Vt,Ks).get(g),o)return et(this,Vt,Ks).set(s,o),o;const j=`g_${et(this,kn)}_transfer_map_${$s(this,Fl)._++}`,_=pt(this,Vt,_u).call(this,j);et(this,Vt,Ks).set(s,_),et(this,Vt,Ks).set(g,_);const $=pt(this,Vt,Su).call(this,j);return pt(this,Vt,Fp).call(this,c,d,h,$),_}addHCMFilter(s,o){var it;const c=`${s}-${o}`,d="base";let h=et(this,Vt,wu).get(d);if((h==null?void 0:h.key)===c||(h?((it=h.filter)==null||it.remove(),h.key=c,h.url="none",h.filter=null):(h={key:c,url:"none",filter:null},et(this,Vt,wu).set(d,h)),!s||!o))return h.url;const g=pt(this,Vt,Bp).call(this,s);s=Util.makeHexColor(...g);const j=pt(this,Vt,Bp).call(this,o);if(o=Util.makeHexColor(...j),et(this,Vt,Ru).style.color="",s==="#000000"&&o==="#ffffff"||s===o)return h.url;const _=new Array(256);for(let nt=0;nt<=255;nt++){const lt=nt/255;_[nt]=lt<=.03928?lt/12.92:((lt+.055)/1.055)**2.4}const $=_.join(","),_e=`g_${et(this,kn)}_hcm_filter`,st=h.filter=pt(this,Vt,Su).call(this,_e);pt(this,Vt,Fp).call(this,$,$,$,st),pt(this,Vt,Cv).call(this,st);const rt=(nt,lt)=>{const ot=g[nt]/255,at=j[nt]/255,ct=new Array(lt+1);for(let ut=0;ut<=lt;ut++)ct[ut]=ot+ut/lt*(at-ot);return ct.join(",")};return pt(this,Vt,Fp).call(this,rt(0,5),rt(1,5),rt(2,5),st),h.url=pt(this,Vt,_u).call(this,_e),h.url}addAlphaFilter(s){let o=et(this,Vt,Ks).get(s);if(o)return o;const[c]=pt(this,Vt,jx).call(this,[s]),d=`alpha_${c}`;if(o=et(this,Vt,Ks).get(d),o)return et(this,Vt,Ks).set(s,o),o;const h=`g_${et(this,kn)}_alpha_map_${$s(this,Fl)._++}`,g=pt(this,Vt,_u).call(this,h);et(this,Vt,Ks).set(s,g),et(this,Vt,Ks).set(d,g);const j=pt(this,Vt,Su).call(this,h);return pt(this,Vt,Av).call(this,c,j),g}addLuminosityFilter(s){let o=et(this,Vt,Ks).get(s||"luminosity");if(o)return o;let c,d;if(s?([c]=pt(this,Vt,jx).call(this,[s]),d=`luminosity_${c}`):d="luminosity",o=et(this,Vt,Ks).get(d),o)return et(this,Vt,Ks).set(s,o),o;const h=`g_${et(this,kn)}_luminosity_map_${$s(this,Fl)._++}`,g=pt(this,Vt,_u).call(this,h);et(this,Vt,Ks).set(s,g),et(this,Vt,Ks).set(d,g);const j=pt(this,Vt,Su).call(this,h);return pt(this,Vt,ey).call(this,j),s&&pt(this,Vt,Av).call(this,c,j),g}addHighlightHCMFilter(s,o,c,d,h){var at;const g=`${o}-${c}-${d}-${h}`;let j=et(this,Vt,wu).get(s);if((j==null?void 0:j.key)===g||(j?((at=j.filter)==null||at.remove(),j.key=g,j.url="none",j.filter=null):(j={key:g,url:"none",filter:null},et(this,Vt,wu).set(s,j)),!o||!c))return j.url;const[_,$]=[o,c].map(pt(this,Vt,Bp).bind(this));let _e=Math.round(.2126*_[0]+.7152*_[1]+.0722*_[2]),st=Math.round(.2126*$[0]+.7152*$[1]+.0722*$[2]),[rt,it]=[d,h].map(pt(this,Vt,Bp).bind(this));st<_e&&([_e,st,rt,it]=[st,_e,it,rt]),et(this,Vt,Ru).style.color="";const nt=(ct,ut,ht)=>{const mt=new Array(256),xt=(st-_e)/ht,Et=ct/255,Tt=(ut-ct)/(255*ht);let St=0;for(let gt=0;gt<=ht;gt++){const Ct=Math.round(_e+gt*xt),At=Et+gt*Tt;for(let Rt=St;Rt<=Ct;Rt++)mt[Rt]=At;St=Ct+1}for(let gt=St;gt<256;gt++)mt[gt]=mt[St-1];return mt.join(",")},lt=`g_${et(this,kn)}_hcm_${s}_filter`,ot=j.filter=pt(this,Vt,Su).call(this,lt);return pt(this,Vt,Cv).call(this,ot),pt(this,Vt,Fp).call(this,nt(rt[0],it[0],5),nt(rt[1],it[1],5),nt(rt[2],it[2],5),ot),j.url=pt(this,Vt,_u).call(this,lt),j.url}destroy(s=!1){s&&et(this,Vt,wu).size!==0||(et(this,pn)&&(et(this,pn).parentNode.parentNode.remove(),dt(this,pn,null)),et(this,Dl)&&(et(this,Dl).clear(),dt(this,Dl,null)),dt(this,Fl,0))}}Ol=new WeakMap,Dl=new WeakMap,pn=new WeakMap,kn=new WeakMap,Ys=new WeakMap,Qx=new WeakMap,Fl=new WeakMap,Vt=new WeakSet,Ks=function(){return et(this,Dl)||dt(this,Dl,new Map)},wu=function(){return et(this,Qx)||dt(this,Qx,new Map)},Ru=function(){if(!et(this,pn)){const s=et(this,Ys).createElement("div"),{style:o}=s;o.visibility="hidden",o.contain="strict",o.width=o.height=0,o.position="absolute",o.top=o.left=0,o.zIndex=-1;const c=et(this,Ys).createElementNS(SVG_NS,"svg");c.setAttribute("width",0),c.setAttribute("height",0),dt(this,pn,et(this,Ys).createElementNS(SVG_NS,"defs")),s.append(c),c.append(et(this,pn)),et(this,Ys).body.append(s)}return et(this,pn)},jx=function(s){if(s.length===1){const _=s[0],$=new Array(256);for(let st=0;st<256;st++)$[st]=_[st]/255;const _e=$.join(",");return[_e,_e,_e]}const[o,c,d]=s,h=new Array(256),g=new Array(256),j=new Array(256);for(let _=0;_<256;_++)h[_]=o[_]/255,g[_]=c[_]/255,j[_]=d[_]/255;return[h.join(","),g.join(","),j.join(",")]},_u=function(s){if(et(this,Ol)===void 0){dt(this,Ol,"");const o=et(this,Ys).URL;o!==et(this,Ys).baseURI&&(isDataScheme(o)?warn('#createUrl: ignore "data:"-URL for performance reasons.'):dt(this,Ol,o.split("#",1)[0]))}return`url(${et(this,Ol)}#${s})`},ey=function(s){const o=et(this,Ys).createElementNS(SVG_NS,"feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),s.append(o)},Cv=function(s){const o=et(this,Ys).createElementNS(SVG_NS,"feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),s.append(o)},Su=function(s){const o=et(this,Ys).createElementNS(SVG_NS,"filter");return o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("id",s),et(this,Vt,Ru).append(o),o},Dp=function(s,o,c){const d=et(this,Ys).createElementNS(SVG_NS,o);d.setAttribute("type","discrete"),d.setAttribute("tableValues",c),s.append(d)},Fp=function(s,o,c,d){const h=et(this,Ys).createElementNS(SVG_NS,"feComponentTransfer");d.append(h),pt(this,Vt,Dp).call(this,h,"feFuncR",s),pt(this,Vt,Dp).call(this,h,"feFuncG",o),pt(this,Vt,Dp).call(this,h,"feFuncB",c)},Av=function(s,o){const c=et(this,Ys).createElementNS(SVG_NS,"feComponentTransfer");o.append(c),pt(this,Vt,Dp).call(this,c,"feFuncA",s)},Bp=function(s){return et(this,Vt,Ru).style.color=s,getRGB(getComputedStyle(et(this,Vt,Ru)).getPropertyValue("color"))};class BaseStandardFontDataFactory{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const s=`${this.baseUrl}${e}`;return this._fetch(s).catch(o=>{throw new Error(`Unable to load font data at: ${s}`)})}async _fetch(e){unreachable("Abstract method `_fetch` called.")}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{async _fetch(e){const s=await fetchData(e,"arraybuffer");return new Uint8Array(s)}}if(isNodeJS){var packageCapability=Promise.withResolvers(),packageMap=null;(async()=>{const e=await __vitePreload(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await __vitePreload(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),o=await __vitePreload(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),c=await __vitePreload(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let d,h;return new Map(Object.entries({fs:e,http:s,https:o,url:c,canvas:d,path2d:h}))})().then(e=>{packageMap=e,packageCapability.resolve()},e=>{warn(`loadPackages: ${e}`),packageMap=new Map,packageCapability.resolve()})}class NodePackages{static get promise(){return packageCapability.promise}static get(e){return packageMap==null?void 0:packageMap.get(e)}}async function node_utils_fetchData(i){const s=await NodePackages.get("fs").promises.readFile(i);return new Uint8Array(s)}class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas(e,s){return NodePackages.get("canvas").createCanvas(e,s)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{async _fetch(e){return node_utils_fetchData(e)}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{async _fetch(e){return node_utils_fetchData(e)}}const PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(i,e){if(!e)return;const s=e[2]-e[0],o=e[3]-e[1],c=new Path2D;c.rect(e[0],e[1],s,o),i.clip(c)}class BaseShadingPattern{getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let s;this._type==="axial"?s=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(s=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const o of this._colorStops)s.addColorStop(o[0],o[1]);return s}getPattern(e,s,o,c){let d;if(c===PathType.STROKE||c===PathType.FILL){const h=s.current.getClippedPathBoundingBox(c,getCurrentTransform(e))||[0,0,0,0],g=Math.ceil(h[2]-h[0])||1,j=Math.ceil(h[3]-h[1])||1,_=s.cachedCanvases.getCanvas("pattern",g,j),$=_.context;$.clearRect(0,0,$.canvas.width,$.canvas.height),$.beginPath(),$.rect(0,0,$.canvas.width,$.canvas.height),$.translate(-h[0],-h[1]),o=Util.transform(o,[1,0,0,1,h[0],h[1]]),$.transform(...s.baseTransform),this.matrix&&$.transform(...this.matrix),applyBoundingBox($,this._bbox),$.fillStyle=this._createGradient($),$.fill(),d=e.createPattern(_.canvas,"no-repeat");const _e=new DOMMatrix(o);d.setTransform(_e)}else applyBoundingBox(e,this._bbox),d=this._createGradient(e);return d}}function drawTriangle(i,e,s,o,c,d,h,g){const j=e.coords,_=e.colors,$=i.data,_e=i.width*4;let st;j[s+1]>j[o+1]&&(st=s,s=o,o=st,st=d,d=h,h=st),j[o+1]>j[c+1]&&(st=o,o=c,c=st,st=h,h=g,g=st),j[s+1]>j[o+1]&&(st=s,s=o,o=st,st=d,d=h,h=st);const rt=(j[s]+e.offsetX)*e.scaleX,it=(j[s+1]+e.offsetY)*e.scaleY,nt=(j[o]+e.offsetX)*e.scaleX,lt=(j[o+1]+e.offsetY)*e.scaleY,ot=(j[c]+e.offsetX)*e.scaleX,at=(j[c+1]+e.offsetY)*e.scaleY;if(it>=at)return;const ct=_[d],ut=_[d+1],ht=_[d+2],mt=_[h],xt=_[h+1],Et=_[h+2],Tt=_[g],St=_[g+1],gt=_[g+2],Ct=Math.round(it),At=Math.round(at);let Rt,kt,Mt,It,Nt,Pt,Lt,Bt;for(let Dt=Ct;Dt<=At;Dt++){if(Dt<lt){const $t=Dt<it?0:(it-Dt)/(it-lt);Rt=rt-(rt-nt)*$t,kt=ct-(ct-mt)*$t,Mt=ut-(ut-xt)*$t,It=ht-(ht-Et)*$t}else{let $t;Dt>at?$t=1:lt===at?$t=0:$t=(lt-Dt)/(lt-at),Rt=nt-(nt-ot)*$t,kt=mt-(mt-Tt)*$t,Mt=xt-(xt-St)*$t,It=Et-(Et-gt)*$t}let Ht;Dt<it?Ht=0:Dt>at?Ht=1:Ht=(it-Dt)/(it-at),Nt=rt-(rt-ot)*Ht,Pt=ct-(ct-Tt)*Ht,Lt=ut-(ut-St)*Ht,Bt=ht-(ht-gt)*Ht;const Gt=Math.round(Math.min(Rt,Nt)),rs=Math.round(Math.max(Rt,Nt));let Xt=_e*Dt+Gt*4;for(let $t=Gt;$t<=rs;$t++)Ht=(Rt-$t)/(Rt-Nt),Ht<0?Ht=0:Ht>1&&(Ht=1),$[Xt++]=kt-(kt-Pt)*Ht|0,$[Xt++]=Mt-(Mt-Lt)*Ht|0,$[Xt++]=It-(It-Bt)*Ht|0,$[Xt++]=255}}function drawFigure(i,e,s){const o=e.coords,c=e.colors;let d,h;switch(e.type){case"lattice":const g=e.verticesPerRow,j=Math.floor(o.length/g)-1,_=g-1;for(d=0;d<j;d++){let $=d*g;for(let _e=0;_e<_;_e++,$++)drawTriangle(i,s,o[$],o[$+1],o[$+g],c[$],c[$+1],c[$+g]),drawTriangle(i,s,o[$+g+1],o[$+1],o[$+g],c[$+g+1],c[$+1],c[$+g])}break;case"triangles":for(d=0,h=o.length;d<h;d+=3)drawTriangle(i,s,o[d],o[d+1],o[d+2],c[d],c[d+1],c[d+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,s,o){const g=Math.floor(this._bounds[0]),j=Math.floor(this._bounds[1]),_=Math.ceil(this._bounds[2])-g,$=Math.ceil(this._bounds[3])-j,_e=Math.min(Math.ceil(Math.abs(_*e[0]*1.1)),3e3),st=Math.min(Math.ceil(Math.abs($*e[1]*1.1)),3e3),rt=_/_e,it=$/st,nt={coords:this._coords,colors:this._colors,offsetX:-g,offsetY:-j,scaleX:1/rt,scaleY:1/it},lt=_e+2*2,ot=st+2*2,at=o.getCanvas("mesh",lt,ot),ct=at.context,ut=ct.createImageData(_e,st);if(s){const mt=ut.data;for(let xt=0,Et=mt.length;xt<Et;xt+=4)mt[xt]=s[0],mt[xt+1]=s[1],mt[xt+2]=s[2],mt[xt+3]=255}for(const mt of this._figures)drawFigure(ut,mt,nt);return ct.putImageData(ut,2,2),{canvas:at.canvas,offsetX:g-2*rt,offsetY:j-2*it,scaleX:rt,scaleY:it}}getPattern(e,s,o,c){applyBoundingBox(e,this._bbox);let d;if(c===PathType.SHADING)d=Util.singularValueDecompose2dScale(getCurrentTransform(e));else if(d=Util.singularValueDecompose2dScale(s.baseTransform),this.matrix){const g=Util.singularValueDecompose2dScale(this.matrix);d=[d[0]*g[0],d[1]*g[1]]}const h=this._createMeshCanvas(d,c===PathType.SHADING?null:this._background,s.cachedCanvases);return c!==PathType.SHADING&&(e.setTransform(...s.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(h.offsetX,h.offsetY),e.scale(h.scaleX,h.scaleY),e.createPattern(h.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(i){switch(i[0]){case"RadialAxial":return new RadialAxialShadingPattern(i);case"Mesh":return new MeshShadingPattern(i);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${i[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},Jx=class Jx{constructor(e,s,o,c,d){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=s,this.ctx=o,this.canvasGraphicsFactory=c,this.baseTransform=d}createPatternCanvas(e){const{bbox:s,operatorList:o,paintType:c,tilingType:d,color:h,canvasGraphicsFactory:g}=this;let{xstep:j,ystep:_}=this;j=Math.abs(j),_=Math.abs(_),info("TilingType: "+d);const $=s[0],_e=s[1],st=s[2],rt=s[3],it=st-$,nt=rt-_e,lt=Util.singularValueDecompose2dScale(this.matrix),ot=Util.singularValueDecompose2dScale(this.baseTransform),at=lt[0]*ot[0],ct=lt[1]*ot[1];let ut=it,ht=nt,mt=!1,xt=!1;const Et=Math.ceil(j*at),Tt=Math.ceil(_*ct),St=Math.ceil(it*at),gt=Math.ceil(nt*ct);Et>=St?ut=j:mt=!0,Tt>=gt?ht=_:xt=!0;const Ct=this.getSizeAndScale(ut,this.ctx.canvas.width,at),At=this.getSizeAndScale(ht,this.ctx.canvas.height,ct),Rt=e.cachedCanvases.getCanvas("pattern",Ct.size,At.size),kt=Rt.context,Mt=g.createCanvasGraphics(kt);if(Mt.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(Mt,c,h),kt.translate(-Ct.scale*$,-At.scale*_e),Mt.transform(Ct.scale,0,0,At.scale,0,0),kt.save(),this.clipBbox(Mt,$,_e,st,rt),Mt.baseTransform=getCurrentTransform(Mt.ctx),Mt.executeOperatorList(o),Mt.endDrawing(),kt.restore(),mt||xt){const It=Rt.canvas;mt&&(ut=j),xt&&(ht=_);const Nt=this.getSizeAndScale(ut,this.ctx.canvas.width,at),Pt=this.getSizeAndScale(ht,this.ctx.canvas.height,ct),Lt=Nt.size,Bt=Pt.size,Dt=e.cachedCanvases.getCanvas("pattern-workaround",Lt,Bt),Ht=Dt.context,Gt=mt?Math.floor(it/j):0,rs=xt?Math.floor(nt/_):0;for(let Xt=0;Xt<=Gt;Xt++)for(let $t=0;$t<=rs;$t++)Ht.drawImage(It,Lt*Xt,Bt*$t,Lt,Bt,0,0,Lt,Bt);return{canvas:Dt.canvas,scaleX:Nt.scale,scaleY:Pt.scale,offsetX:$,offsetY:_e}}return{canvas:Rt.canvas,scaleX:Ct.scale,scaleY:At.scale,offsetX:$,offsetY:_e}}getSizeAndScale(e,s,o){const c=Math.max(Jx.MAX_PATTERN_SIZE,s);let d=Math.ceil(e*o);return d>=c?d=c:o=d/e,{scale:o,size:d}}clipBbox(e,s,o,c,d){const h=c-s,g=d-o;e.ctx.rect(s,o,h,g),e.current.updateRectMinMax(getCurrentTransform(e.ctx),[s,o,c,d]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,s,o){const c=e.ctx,d=e.current;switch(s){case PaintType.COLORED:const h=this.ctx;c.fillStyle=h.fillStyle,c.strokeStyle=h.strokeStyle,d.fillColor=h.fillStyle,d.strokeColor=h.strokeStyle;break;case PaintType.UNCOLORED:const g=Util.makeHexColor(o[0],o[1],o[2]);c.fillStyle=g,c.strokeStyle=g,d.fillColor=g,d.strokeColor=g;break;default:throw new FormatError(`Unsupported paint type: ${s}`)}}getPattern(e,s,o,c){let d=o;c!==PathType.SHADING&&(d=Util.transform(d,s.baseTransform),this.matrix&&(d=Util.transform(d,this.matrix)));const h=this.createPatternCanvas(s);let g=new DOMMatrix(d);g=g.translate(h.offsetX,h.offsetY),g=g.scale(1/h.scaleX,1/h.scaleY);const j=e.createPattern(h.canvas,"repeat");return j.setTransform(g),j}};Qt(Jx,"MAX_PATTERN_SIZE",3e3);let TilingPattern=Jx;function convertBlackAndWhiteToRGBA({src:i,srcPos:e=0,dest:s,width:o,height:c,nonBlackColor:d=4294967295,inverseDecode:h=!1}){const g=util_FeatureTest.isLittleEndian?4278190080:255,[j,_]=h?[d,g]:[g,d],$=o>>3,_e=o&7,st=i.length;s=new Uint32Array(s.buffer);let rt=0;for(let it=0;it<c;it++){for(const lt=e+$;e<lt;e++){const ot=e<st?i[e]:255;s[rt++]=ot&128?_:j,s[rt++]=ot&64?_:j,s[rt++]=ot&32?_:j,s[rt++]=ot&16?_:j,s[rt++]=ot&8?_:j,s[rt++]=ot&4?_:j,s[rt++]=ot&2?_:j,s[rt++]=ot&1?_:j}if(_e===0)continue;const nt=e<st?i[e++]:255;for(let lt=0;lt<_e;lt++)s[rt++]=nt&1<<7-lt?_:j}return{srcPos:e,destPos:rt}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,MAX_SIZE_TO_COMPILE=1e3,FULL_CHUNK_HEIGHT=16;function mirrorContextOperations(i,e){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){e.save(),this.__originalSave()},i.restore=function(){e.restore(),this.__originalRestore()},i.translate=function(o,c){e.translate(o,c),this.__originalTranslate(o,c)},i.scale=function(o,c){e.scale(o,c),this.__originalScale(o,c)},i.transform=function(o,c,d,h,g,j){e.transform(o,c,d,h,g,j),this.__originalTransform(o,c,d,h,g,j)},i.setTransform=function(o,c,d,h,g,j){e.setTransform(o,c,d,h,g,j),this.__originalSetTransform(o,c,d,h,g,j)},i.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},i.rotate=function(o){e.rotate(o),this.__originalRotate(o)},i.clip=function(o){e.clip(o),this.__originalClip(o)},i.moveTo=function(s,o){e.moveTo(s,o),this.__originalMoveTo(s,o)},i.lineTo=function(s,o){e.lineTo(s,o),this.__originalLineTo(s,o)},i.bezierCurveTo=function(s,o,c,d,h,g){e.bezierCurveTo(s,o,c,d,h,g),this.__originalBezierCurveTo(s,o,c,d,h,g)},i.rect=function(s,o,c,d){e.rect(s,o,c,d),this.__originalRect(s,o,c,d)},i.closePath=function(){e.closePath(),this.__originalClosePath()},i.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,s,o){let c;return this.cache[e]!==void 0?(c=this.cache[e],this.canvasFactory.reset(c,s,o)):(c=this.canvasFactory.create(s,o),this.cache[e]=c),c}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const s=this.cache[e];this.canvasFactory.destroy(s),delete this.cache[e]}}}function drawImageAtIntegerCoords(i,e,s,o,c,d,h,g,j,_){const[$,_e,st,rt,it,nt]=getCurrentTransform(i);if(_e===0&&st===0){const at=h*$+it,ct=Math.round(at),ut=g*rt+nt,ht=Math.round(ut),mt=(h+j)*$+it,xt=Math.abs(Math.round(mt)-ct)||1,Et=(g+_)*rt+nt,Tt=Math.abs(Math.round(Et)-ht)||1;return i.setTransform(Math.sign($),0,0,Math.sign(rt),ct,ht),i.drawImage(e,s,o,c,d,0,0,xt,Tt),i.setTransform($,_e,st,rt,it,nt),[xt,Tt]}if($===0&&rt===0){const at=g*st+it,ct=Math.round(at),ut=h*_e+nt,ht=Math.round(ut),mt=(g+_)*st+it,xt=Math.abs(Math.round(mt)-ct)||1,Et=(h+j)*_e+nt,Tt=Math.abs(Math.round(Et)-ht)||1;return i.setTransform(0,Math.sign(_e),Math.sign(st),0,ct,ht),i.drawImage(e,s,o,c,d,0,0,Tt,xt),i.setTransform($,_e,st,rt,it,nt),[Tt,xt]}i.drawImage(e,s,o,c,d,h,g,j,_);const lt=Math.hypot($,_e),ot=Math.hypot(st,rt);return[lt*j,ot*_]}function compileType3Glyph(i){const{width:e,height:s}=i;if(e>MAX_SIZE_TO_COMPILE||s>MAX_SIZE_TO_COMPILE)return null;const o=1e3,c=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),d=e+1;let h=new Uint8Array(d*(s+1)),g,j,_;const $=e+7&-8;let _e=new Uint8Array($*s),st=0;for(const ot of i.data){let at=128;for(;at>0;)_e[st++]=ot&at?0:255,at>>=1}let rt=0;for(st=0,_e[st]!==0&&(h[0]=1,++rt),j=1;j<e;j++)_e[st]!==_e[st+1]&&(h[j]=_e[st]?2:1,++rt),st++;for(_e[st]!==0&&(h[j]=2,++rt),g=1;g<s;g++){st=g*$,_=g*d,_e[st-$]!==_e[st]&&(h[_]=_e[st]?1:8,++rt);let ot=(_e[st]?4:0)+(_e[st-$]?8:0);for(j=1;j<e;j++)ot=(ot>>2)+(_e[st+1]?4:0)+(_e[st-$+1]?8:0),c[ot]&&(h[_+j]=c[ot],++rt),st++;if(_e[st-$]!==_e[st]&&(h[_+j]=_e[st]?2:4,++rt),rt>o)return null}for(st=$*(s-1),_=g*d,_e[st]!==0&&(h[_]=8,++rt),j=1;j<e;j++)_e[st]!==_e[st+1]&&(h[_+j]=_e[st]?4:8,++rt),st++;if(_e[st]!==0&&(h[_+j]=4,++rt),rt>o)return null;const it=new Int32Array([0,d,-1,0,-d,0,0,0,1]),nt=new Path2D;for(g=0;rt&&g<=s;g++){let ot=g*d;const at=ot+e;for(;ot<at&&!h[ot];)ot++;if(ot===at)continue;nt.moveTo(ot%d,g);const ct=ot;let ut=h[ot];do{const ht=it[ut];do ot+=ht;while(!h[ot]);const mt=h[ot];mt!==5&&mt!==10?(ut=mt,h[ot]=0):(ut=mt&51*ut>>4,h[ot]&=ut>>2|ut<<2),nt.lineTo(ot%d,ot/d|0),h[ot]||--rt}while(ct!==ot);--g}return _e=null,h=null,function(ot){ot.save(),ot.scale(1/e,-1/s),ot.translate(0,-s),ot.fill(nt),ot.beginPath(),ot.restore()}}class CanvasExtraState{constructor(e,s){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,s])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,s){this.x=e,this.y=s}updatePathMinMax(e,s,o){[s,o]=Util.applyTransform([s,o],e),this.minX=Math.min(this.minX,s),this.minY=Math.min(this.minY,o),this.maxX=Math.max(this.maxX,s),this.maxY=Math.max(this.maxY,o)}updateRectMinMax(e,s){const o=Util.applyTransform(s,e),c=Util.applyTransform(s.slice(2),e),d=Util.applyTransform([s[0],s[3]],e),h=Util.applyTransform([s[2],s[1]],e);this.minX=Math.min(this.minX,o[0],c[0],d[0],h[0]),this.minY=Math.min(this.minY,o[1],c[1],d[1],h[1]),this.maxX=Math.max(this.maxX,o[0],c[0],d[0],h[0]),this.maxY=Math.max(this.maxY,o[1],c[1],d[1],h[1])}updateScalingPathMinMax(e,s){Util.scaleMinMax(e,s),this.minX=Math.min(this.minX,s[0]),this.minY=Math.min(this.minY,s[1]),this.maxX=Math.max(this.maxX,s[2]),this.maxY=Math.max(this.maxY,s[3])}updateCurvePathMinMax(e,s,o,c,d,h,g,j,_,$){const _e=Util.bezierBoundingBox(s,o,c,d,h,g,j,_,$);$||this.updateRectMinMax(e,_e)}getPathBoundingBox(e=PathType.FILL,s=null){const o=[this.minX,this.minY,this.maxX,this.maxY];if(e===PathType.STROKE){s||unreachable("Stroke bounding box must include transform.");const c=Util.singularValueDecompose2dScale(s),d=c[0]*this.lineWidth/2,h=c[1]*this.lineWidth/2;o[0]-=d,o[1]-=h,o[2]+=d,o[3]+=h}return o}updateClipFromPath(){const e=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=PathType.FILL,s=null){return Util.intersect(this.clipBox,this.getPathBoundingBox(e,s))}}function putBinaryImageData(i,e){if(typeof ImageData<"u"&&e instanceof ImageData){i.putImageData(e,0,0);return}const s=e.height,o=e.width,c=s%FULL_CHUNK_HEIGHT,d=(s-c)/FULL_CHUNK_HEIGHT,h=c===0?d:d+1,g=i.createImageData(o,FULL_CHUNK_HEIGHT);let j=0,_;const $=e.data,_e=g.data;let st,rt,it,nt;if(e.kind===util_ImageKind.GRAYSCALE_1BPP){const lt=$.byteLength,ot=new Uint32Array(_e.buffer,0,_e.byteLength>>2),at=ot.length,ct=o+7>>3,ut=4294967295,ht=util_FeatureTest.isLittleEndian?4278190080:255;for(st=0;st<h;st++){for(it=st<d?FULL_CHUNK_HEIGHT:c,_=0,rt=0;rt<it;rt++){const mt=lt-j;let xt=0;const Et=mt>ct?o:mt*8-7,Tt=Et&-8;let St=0,gt=0;for(;xt<Tt;xt+=8)gt=$[j++],ot[_++]=gt&128?ut:ht,ot[_++]=gt&64?ut:ht,ot[_++]=gt&32?ut:ht,ot[_++]=gt&16?ut:ht,ot[_++]=gt&8?ut:ht,ot[_++]=gt&4?ut:ht,ot[_++]=gt&2?ut:ht,ot[_++]=gt&1?ut:ht;for(;xt<Et;xt++)St===0&&(gt=$[j++],St=128),ot[_++]=gt&St?ut:ht,St>>=1}for(;_<at;)ot[_++]=0;i.putImageData(g,0,st*FULL_CHUNK_HEIGHT)}}else if(e.kind===util_ImageKind.RGBA_32BPP){for(rt=0,nt=o*FULL_CHUNK_HEIGHT*4,st=0;st<d;st++)_e.set($.subarray(j,j+nt)),j+=nt,i.putImageData(g,0,rt),rt+=FULL_CHUNK_HEIGHT;st<h&&(nt=o*c*4,_e.set($.subarray(j,j+nt)),i.putImageData(g,0,rt))}else if(e.kind===util_ImageKind.RGB_24BPP)for(it=FULL_CHUNK_HEIGHT,nt=o*it,st=0;st<h;st++){for(st>=d&&(it=c,nt=o*it),_=0,rt=nt;rt--;)_e[_++]=$[j++],_e[_++]=$[j++],_e[_++]=$[j++],_e[_++]=255;i.putImageData(g,0,st*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${e.kind}`)}function putBinaryImageMask(i,e){if(e.bitmap){i.drawImage(e.bitmap,0,0);return}const s=e.height,o=e.width,c=s%FULL_CHUNK_HEIGHT,d=(s-c)/FULL_CHUNK_HEIGHT,h=c===0?d:d+1,g=i.createImageData(o,FULL_CHUNK_HEIGHT);let j=0;const _=e.data,$=g.data;for(let _e=0;_e<h;_e++){const st=_e<d?FULL_CHUNK_HEIGHT:c;({srcPos:j}=convertBlackAndWhiteToRGBA({src:_,srcPos:j,dest:$,width:o,height:st,nonBlackColor:0})),i.putImageData(g,0,_e*FULL_CHUNK_HEIGHT)}}function copyCtxState(i,e){const s=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const o of s)i[o]!==void 0&&(e[o]=i[o]);i.setLineDash!==void 0&&(e.setLineDash(i.getLineDash()),e.lineDashOffset=i.lineDashOffset)}function resetCtxToDefault(i){if(i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0),!isNodeJS){const{filter:e}=i;e!=="none"&&e!==""&&(i.filter="none")}}function getImageSmoothingEnabled(i,e){if(e)return!0;const s=Util.singularValueDecompose2dScale(i);s[0]=Math.fround(s[0]),s[1]=Math.fround(s[1]);const o=Math.fround((globalThis.devicePixelRatio||1)*PixelsPerInch.PDF_TO_CSS_UNITS);return s[0]<=o&&s[1]<=o}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var zo,Nv,Tv;const uE=class uE{constructor(e,s,o,c,d,{optionalContentConfig:h,markedContentStack:g=null},j,_){ft(this,zo);this.ctx=e,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=s,this.objs=o,this.canvasFactory=c,this.filterFactory=d,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=g||[],this.optionalContentConfig=h,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=j,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=_,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,s=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):s}beginDrawing({transform:e,viewport:s,transparency:o=!1,background:c=null}){const d=this.ctx.canvas.width,h=this.ctx.canvas.height,g=this.ctx.fillStyle;if(this.ctx.fillStyle=c||"#ffffff",this.ctx.fillRect(0,0,d,h),this.ctx.fillStyle=g,o){const j=this.cachedCanvases.getCanvas("transparent",d,h);this.compositeCtx=this.ctx,this.transparentCanvas=j.canvas,this.ctx=j.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...s.transform),this.viewportScale=s.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList(e,s,o,c){const d=e.argsArray,h=e.fnArray;let g=s||0;const j=d.length;if(j===g)return g;const _=j-g>EXECUTION_STEPS&&typeof o=="function",$=_?Date.now()+EXECUTION_TIME:0;let _e=0;const st=this.commonObjs,rt=this.objs;let it;for(;;){if(c!==void 0&&g===c.nextBreakPoint)return c.breakIt(g,o),g;if(it=h[g],it!==OPS.dependency)this[it].apply(this,d[g]);else for(const nt of d[g]){const lt=nt.startsWith("g_")?st:rt;if(!lt.has(nt))return lt.get(nt,o),g}if(g++,g===j)return g;if(_&&++_e>EXECUTION_STEPS){if(Date.now()>$)return o(),g;_e=0}}}endDrawing(){pt(this,zo,Nv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const s of e.values())typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement&&(s.width=s.height=0);e.clear()}this._cachedBitmapsMap.clear(),pt(this,zo,Tv).call(this)}_scaleImage(e,s){const o=e.width??e.displayWidth,c=e.height??e.displayHeight;let d=Math.max(Math.hypot(s[0],s[1]),1),h=Math.max(Math.hypot(s[2],s[3]),1),g=o,j=c,_="prescale1",$,_e;for(;d>2&&g>1||h>2&&j>1;){let st=g,rt=j;d>2&&g>1&&(st=g>=16384?Math.floor(g/2)-1||1:Math.ceil(g/2),d/=g/st),h>2&&j>1&&(rt=j>=16384?Math.floor(j/2)-1||1:Math.ceil(j)/2,h/=j/rt),$=this.cachedCanvases.getCanvas(_,st,rt),_e=$.context,_e.clearRect(0,0,st,rt),_e.drawImage(e,0,0,g,j,0,0,st,rt),e=$.canvas,g=st,j=rt,_=_==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:g,paintHeight:j}}_createMaskCanvas(e){const s=this.ctx,{width:o,height:c}=e,d=this.current.fillColor,h=this.current.patternFill,g=getCurrentTransform(s);let j,_,$,_e;if((e.bitmap||e.data)&&e.count>1){const Et=e.bitmap||e.data.buffer;_=JSON.stringify(h?g:[g.slice(0,4),d]),j=this._cachedBitmapsMap.get(Et),j||(j=new Map,this._cachedBitmapsMap.set(Et,j));const Tt=j.get(_);if(Tt&&!h){const St=Math.round(Math.min(g[0],g[2])+g[4]),gt=Math.round(Math.min(g[1],g[3])+g[5]);return{canvas:Tt,offsetX:St,offsetY:gt}}$=Tt}$||(_e=this.cachedCanvases.getCanvas("maskCanvas",o,c),putBinaryImageMask(_e.context,e));let st=Util.transform(g,[1/o,0,0,-1/c,0,0]);st=Util.transform(st,[1,0,0,1,0,-c]);const[rt,it,nt,lt]=Util.getAxialAlignedBoundingBox([0,0,o,c],st),ot=Math.round(nt-rt)||1,at=Math.round(lt-it)||1,ct=this.cachedCanvases.getCanvas("fillCanvas",ot,at),ut=ct.context,ht=rt,mt=it;ut.translate(-ht,-mt),ut.transform(...st),$||($=this._scaleImage(_e.canvas,getCurrentTransformInverse(ut)),$=$.img,j&&h&&j.set(_,$)),ut.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(ut),e.interpolate),drawImageAtIntegerCoords(ut,$,0,0,$.width,$.height,0,0,o,c),ut.globalCompositeOperation="source-in";const xt=Util.transform(getCurrentTransformInverse(ut),[1,0,0,1,-ht,-mt]);return ut.fillStyle=h?d.getPattern(s,this,xt,PathType.FILL):d,ut.fillRect(0,0,o,c),j&&!h&&(this.cachedCanvases.delete("fillCanvas"),j.set(_,ct.canvas)),{canvas:ct.canvas,offsetX:Math.round(ht),offsetY:Math.round(mt)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=LINE_CAP_STYLES[e]}setLineJoin(e){this.ctx.lineJoin=LINE_JOIN_STYLES[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,s){const o=this.ctx;o.setLineDash!==void 0&&(o.setLineDash(e),o.lineDashOffset=s)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[s,o]of e)switch(s){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=o;break;case"ca":this.current.fillAlpha=o,this.ctx.globalAlpha=o;break;case"BM":this.ctx.globalCompositeOperation=o;break;case"SMask":this.current.activeSMask=o?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(o);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,s=this.ctx.canvas.height,o="smaskGroupAt"+this.groupLevel,c=this.cachedCanvases.getCanvas(o,e,s);this.suspendedCtx=this.ctx,this.ctx=c.context;const d=this.ctx;d.setTransform(...getCurrentTransform(this.suspendedCtx)),copyCtxState(this.suspendedCtx,d),mirrorContextOperations(d,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const s=this.current.activeSMask,o=this.suspendedCtx;this.composeSMask(o,s,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,s,o,c){const d=c[0],h=c[1],g=c[2]-d,j=c[3]-h;g===0||j===0||(this.genericComposeSMask(s.context,o,g,j,s.subtype,s.backdrop,s.transferMap,d,h,s.offsetX,s.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(o.canvas,0,0),e.restore())}genericComposeSMask(e,s,o,c,d,h,g,j,_,$,_e){let st=e.canvas,rt=j-$,it=_-_e;if(h){const lt=Util.makeHexColor(...h);if(rt<0||it<0||rt+o>st.width||it+c>st.height){const ot=this.cachedCanvases.getCanvas("maskExtension",o,c),at=ot.context;at.drawImage(st,-rt,-it),at.globalCompositeOperation="destination-atop",at.fillStyle=lt,at.fillRect(0,0,o,c),at.globalCompositeOperation="source-over",st=ot.canvas,rt=it=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const ot=new Path2D;ot.rect(rt,it,o,c),e.clip(ot),e.globalCompositeOperation="destination-atop",e.fillStyle=lt,e.fillRect(rt,it,o,c),e.restore()}}s.save(),s.globalAlpha=1,s.setTransform(1,0,0,1,0,0),d==="Alpha"&&g?s.filter=this.filterFactory.addAlphaFilter(g):d==="Luminosity"&&(s.filter=this.filterFactory.addLuminosityFilter(g));const nt=new Path2D;nt.rect(j,_,o,c),s.clip(nt),s.globalCompositeOperation="destination-in",s.drawImage(st,rt,it,o,c,j,_,o,c),s.restore()}save(){this.inSMaskMode?(copyCtxState(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),copyCtxState(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,s,o,c,d,h){this.ctx.transform(e,s,o,c,d,h),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,s,o){const c=this.ctx,d=this.current;let h=d.x,g=d.y,j,_;const $=getCurrentTransform(c),_e=$[0]===0&&$[3]===0||$[1]===0&&$[2]===0,st=_e?o.slice(0):null;for(let rt=0,it=0,nt=e.length;rt<nt;rt++)switch(e[rt]|0){case OPS.rectangle:h=s[it++],g=s[it++];const lt=s[it++],ot=s[it++],at=h+lt,ct=g+ot;c.moveTo(h,g),lt===0||ot===0?c.lineTo(at,ct):(c.lineTo(at,g),c.lineTo(at,ct),c.lineTo(h,ct)),_e||d.updateRectMinMax($,[h,g,at,ct]),c.closePath();break;case OPS.moveTo:h=s[it++],g=s[it++],c.moveTo(h,g),_e||d.updatePathMinMax($,h,g);break;case OPS.lineTo:h=s[it++],g=s[it++],c.lineTo(h,g),_e||d.updatePathMinMax($,h,g);break;case OPS.curveTo:j=h,_=g,h=s[it+4],g=s[it+5],c.bezierCurveTo(s[it],s[it+1],s[it+2],s[it+3],h,g),d.updateCurvePathMinMax($,j,_,s[it],s[it+1],s[it+2],s[it+3],h,g,st),it+=6;break;case OPS.curveTo2:j=h,_=g,c.bezierCurveTo(h,g,s[it],s[it+1],s[it+2],s[it+3]),d.updateCurvePathMinMax($,j,_,h,g,s[it],s[it+1],s[it+2],s[it+3],st),h=s[it+2],g=s[it+3],it+=4;break;case OPS.curveTo3:j=h,_=g,h=s[it+2],g=s[it+3],c.bezierCurveTo(s[it],s[it+1],h,g,h,g),d.updateCurvePathMinMax($,j,_,s[it],s[it+1],h,g,h,g,st),it+=4;break;case OPS.closePath:c.closePath();break}_e&&d.updateScalingPathMinMax($,st),d.setCurrentPoint(h,g)}closePath(){this.ctx.closePath()}stroke(e=!0){const s=this.ctx,o=this.current.strokeColor;s.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof o=="object"&&(o!=null&&o.getPattern)?(s.save(),s.strokeStyle=o.getPattern(s,this,getCurrentTransformInverse(s),PathType.STROKE),this.rescaleAndStroke(!1),s.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),s.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const s=this.ctx,o=this.current.fillColor,c=this.current.patternFill;let d=!1;c&&(s.save(),s.fillStyle=o.getPattern(s,this,getCurrentTransformInverse(s),PathType.FILL),d=!0);const h=this.current.getClippedPathBoundingBox();this.contentVisible&&h!==null&&(this.pendingEOFill?(s.fill("evenodd"),this.pendingEOFill=!1):s.fill()),d&&s.restore(),e&&this.consumePath(h)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,s=this.ctx;if(e===void 0){s.beginPath();return}s.save(),s.beginPath();for(const o of e)s.setTransform(...o.transform),s.translate(o.x,o.y),o.addToPath(s,o.fontSize);s.restore(),s.clip(),s.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,s){var $;const o=this.commonObjs.get(e),c=this.current;if(!o)throw new Error(`Can't find font for ${e}`);if(c.fontMatrix=o.fontMatrix||FONT_IDENTITY_MATRIX,(c.fontMatrix[0]===0||c.fontMatrix[3]===0)&&warn("Invalid font matrix for font "+e),s<0?(s=-s,c.fontDirection=-1):c.fontDirection=1,this.current.font=o,this.current.fontSize=s,o.isType3Font)return;const d=o.loadedName||"sans-serif",h=(($=o.systemFontInfo)==null?void 0:$.css)||`"${d}", ${o.fallbackName}`;let g="normal";o.black?g="900":o.bold&&(g="bold");const j=o.italic?"italic":"normal";let _=s;s<MIN_FONT_SIZE?_=MIN_FONT_SIZE:s>MAX_FONT_SIZE&&(_=MAX_FONT_SIZE),this.current.fontSizeScale=s/_,this.ctx.font=`${j} ${g} ${_}px ${h}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,s){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=s}setLeadingMoveText(e,s){this.setLeading(-s),this.moveText(e,s)}setTextMatrix(e,s,o,c,d,h){this.current.textMatrix=[e,s,o,c,d,h],this.current.textMatrixScale=Math.hypot(e,s),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,s,o,c){const d=this.ctx,h=this.current,g=h.font,j=h.textRenderingMode,_=h.fontSize/h.fontSizeScale,$=j&TextRenderingMode.FILL_STROKE_MASK,_e=!!(j&TextRenderingMode.ADD_TO_PATH_FLAG),st=h.patternFill&&!g.missingFile;let rt;(g.disableFontFace||_e||st)&&(rt=g.getPathGenerator(this.commonObjs,e)),g.disableFontFace||st?(d.save(),d.translate(s,o),d.beginPath(),rt(d,_),c&&d.setTransform(...c),($===TextRenderingMode.FILL||$===TextRenderingMode.FILL_STROKE)&&d.fill(),($===TextRenderingMode.STROKE||$===TextRenderingMode.FILL_STROKE)&&d.stroke(),d.restore()):(($===TextRenderingMode.FILL||$===TextRenderingMode.FILL_STROKE)&&d.fillText(e,s,o),($===TextRenderingMode.STROKE||$===TextRenderingMode.FILL_STROKE)&&d.strokeText(e,s,o)),_e&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(d),x:s,y:o,fontSize:_,addToPath:rt})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const s=e.getImageData(0,0,10,10).data;let o=!1;for(let c=3;c<s.length;c+=4)if(s[c]>0&&s[c]<255){o=!0;break}return shadow(this,"isFontSubpixelAAEnabled",o)}showText(e){const s=this.current,o=s.font;if(o.isType3Font)return this.showType3Text(e);const c=s.fontSize;if(c===0)return;const d=this.ctx,h=s.fontSizeScale,g=s.charSpacing,j=s.wordSpacing,_=s.fontDirection,$=s.textHScale*_,_e=e.length,st=o.vertical,rt=st?1:-1,it=o.defaultVMetrics,nt=c*s.fontMatrix[0],lt=s.textRenderingMode===TextRenderingMode.FILL&&!o.disableFontFace&&!s.patternFill;d.save(),d.transform(...s.textMatrix),d.translate(s.x,s.y+s.textRise),_>0?d.scale($,-1):d.scale($,1);let ot;if(s.patternFill){d.save();const mt=s.fillColor.getPattern(d,this,getCurrentTransformInverse(d),PathType.FILL);ot=getCurrentTransform(d),d.restore(),d.fillStyle=mt}let at=s.lineWidth;const ct=s.textMatrixScale;if(ct===0||at===0){const mt=s.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(mt===TextRenderingMode.STROKE||mt===TextRenderingMode.FILL_STROKE)&&(at=this.getSinglePixelWidth())}else at/=ct;if(h!==1&&(d.scale(h,h),at/=h),d.lineWidth=at,o.isInvalidPDFjsFont){const mt=[];let xt=0;for(const Et of e)mt.push(Et.unicode),xt+=Et.width;d.fillText(mt.join(""),0,0),s.x+=xt*nt*$,d.restore(),this.compose();return}let ut=0,ht;for(ht=0;ht<_e;++ht){const mt=e[ht];if(typeof mt=="number"){ut+=rt*mt*c/1e3;continue}let xt=!1;const Et=(mt.isSpace?j:0)+g,Tt=mt.fontChar,St=mt.accent;let gt,Ct,At=mt.width;if(st){const kt=mt.vmetric||it,Mt=-(mt.vmetric?kt[1]:At*.5)*nt,It=kt[2]*nt;At=kt?-kt[0]:At,gt=Mt/h,Ct=(ut+It)/h}else gt=ut/h,Ct=0;if(o.remeasure&&At>0){const kt=d.measureText(Tt).width*1e3/c*h;if(At<kt&&this.isFontSubpixelAAEnabled){const Mt=At/kt;xt=!0,d.save(),d.scale(Mt,1),gt/=Mt}else At!==kt&&(gt+=(At-kt)/2e3*c/h)}if(this.contentVisible&&(mt.isInFont||o.missingFile)){if(lt&&!St)d.fillText(Tt,gt,Ct);else if(this.paintChar(Tt,gt,Ct,ot),St){const kt=gt+c*St.offset.x/h,Mt=Ct-c*St.offset.y/h;this.paintChar(St.fontChar,kt,Mt,ot)}}const Rt=st?At*nt-Et*_:At*nt+Et*_;ut+=Rt,xt&&d.restore()}st?s.y-=ut:s.x+=ut*$,d.restore(),this.compose()}showType3Text(e){const s=this.ctx,o=this.current,c=o.font,d=o.fontSize,h=o.fontDirection,g=c.vertical?1:-1,j=o.charSpacing,_=o.wordSpacing,$=o.textHScale*h,_e=o.fontMatrix||FONT_IDENTITY_MATRIX,st=e.length,rt=o.textRenderingMode===TextRenderingMode.INVISIBLE;let it,nt,lt,ot;if(!(rt||d===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,s.save(),s.transform(...o.textMatrix),s.translate(o.x,o.y),s.scale($,h),it=0;it<st;++it){if(nt=e[it],typeof nt=="number"){ot=g*nt*d/1e3,this.ctx.translate(ot,0),o.x+=ot*$;continue}const at=(nt.isSpace?_:0)+j,ct=c.charProcOperatorList[nt.operatorListId];if(!ct){warn(`Type3 character "${nt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=nt,this.save(),s.scale(d,d),s.transform(..._e),this.executeOperatorList(ct),this.restore()),lt=Util.applyTransform([nt.width,0],_e)[0]*d+at,s.translate(lt,0),o.x+=lt*$}s.restore(),this.processingType3=null}}setCharWidth(e,s){}setCharWidthAndBounds(e,s,o,c,d,h){this.ctx.rect(o,c,d-o,h-c),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let s;if(e[0]==="TilingPattern"){const o=e[1],c=this.baseTransform||getCurrentTransform(this.ctx),d={createCanvasGraphics:h=>new uE(h,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};s=new TilingPattern(e,o,this.ctx,d,c)}else s=this._getPattern(e[1],e[2]);return s}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,s,o){this.ctx.strokeStyle=this.current.strokeColor=Util.makeHexColor(e,s,o)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,s,o){this.ctx.fillStyle=this.current.fillColor=Util.makeHexColor(e,s,o),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,s=null){let o;return this.cachedPatterns.has(e)?o=this.cachedPatterns.get(e):(o=getShadingPattern(this.getObject(e)),this.cachedPatterns.set(e,o)),s&&(o.matrix=s),o}shadingFill(e){if(!this.contentVisible)return;const s=this.ctx;this.save();const o=this._getPattern(e);s.fillStyle=o.getPattern(s,this,getCurrentTransformInverse(s),PathType.SHADING);const c=getCurrentTransformInverse(s);if(c){const{width:d,height:h}=s.canvas,[g,j,_,$]=Util.getAxialAlignedBoundingBox([0,0,d,h],c);this.ctx.fillRect(g,j,_-g,$-j)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin(e,s){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=getCurrentTransform(this.ctx),s)){const o=s[2]-s[0],c=s[3]-s[1];this.ctx.rect(s[0],s[1],o,c),this.current.updateRectMinMax(getCurrentTransform(this.ctx),s),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const s=this.ctx;e.isolated||info("TODO: Support non-isolated groups."),e.knockout&&warn("Knockout groups not supported.");const o=getCurrentTransform(s);if(e.matrix&&s.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let c=Util.getAxialAlignedBoundingBox(e.bbox,getCurrentTransform(s));const d=[0,0,s.canvas.width,s.canvas.height];c=Util.intersect(c,d)||[0,0,0,0];const h=Math.floor(c[0]),g=Math.floor(c[1]),j=Math.max(Math.ceil(c[2])-h,1),_=Math.max(Math.ceil(c[3])-g,1);this.current.startNewPathAndClipBox([0,0,j,_]);let $="groupAt"+this.groupLevel;e.smask&&($+="_smask_"+this.smaskCounter++%2);const _e=this.cachedCanvases.getCanvas($,j,_),st=_e.context;st.translate(-h,-g),st.transform(...o),e.smask?this.smaskStack.push({canvas:_e.canvas,context:st,offsetX:h,offsetY:g,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(s.setTransform(1,0,0,1,0,0),s.translate(h,g),s.save()),copyCtxState(s,st),this.ctx=st,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(s),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const s=this.ctx,o=this.groupStack.pop();if(this.ctx=o,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const c=getCurrentTransform(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...c);const d=Util.getAxialAlignedBoundingBox([0,0,s.canvas.width,s.canvas.height],c);this.ctx.drawImage(s.canvas,0,0),this.ctx.restore(),this.compose(d)}}beginAnnotation(e,s,o,c,d){if(pt(this,zo,Nv).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),s){const h=s[2]-s[0],g=s[3]-s[1];if(d&&this.annotationCanvasMap){o=o.slice(),o[4]-=s[0],o[5]-=s[1],s=s.slice(),s[0]=s[1]=0,s[2]=h,s[3]=g;const[j,_]=Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx)),{viewportScale:$}=this,_e=Math.ceil(h*this.outputScaleX*$),st=Math.ceil(g*this.outputScaleY*$);this.annotationCanvas=this.canvasFactory.create(_e,st);const{canvas:rt,context:it}=this.annotationCanvas;this.annotationCanvasMap.set(e,rt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=it,this.ctx.save(),this.ctx.setTransform(j,0,0,-_,0,g*_),resetCtxToDefault(this.ctx)}else resetCtxToDefault(this.ctx),this.endPath(),this.ctx.rect(s[0],s[1],h,g),this.ctx.clip(),this.ctx.beginPath()}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...o),this.transform(...c)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),pt(this,zo,Tv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const s=e.count;e=this.getObject(e.data,e),e.count=s;const o=this.ctx,c=this.processingType3;if(c&&(c.compiled===void 0&&(c.compiled=compileType3Glyph(e)),c.compiled)){c.compiled(o);return}const d=this._createMaskCanvas(e),h=d.canvas;o.save(),o.setTransform(1,0,0,1,0,0),o.drawImage(h,d.offsetX,d.offsetY),o.restore(),this.compose()}paintImageMaskXObjectRepeat(e,s,o=0,c=0,d,h){if(!this.contentVisible)return;e=this.getObject(e.data,e);const g=this.ctx;g.save();const j=getCurrentTransform(g);g.transform(s,o,c,d,0,0);const _=this._createMaskCanvas(e);g.setTransform(1,0,0,1,_.offsetX-j[4],_.offsetY-j[5]);for(let $=0,_e=h.length;$<_e;$+=2){const st=Util.transform(j,[s,o,c,d,h[$],h[$+1]]),[rt,it]=Util.applyTransform([0,0],st);g.drawImage(_.canvas,rt,it)}g.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const s=this.ctx,o=this.current.fillColor,c=this.current.patternFill;for(const d of e){const{data:h,width:g,height:j,transform:_}=d,$=this.cachedCanvases.getCanvas("maskCanvas",g,j),_e=$.context;_e.save();const st=this.getObject(h,d);putBinaryImageMask(_e,st),_e.globalCompositeOperation="source-in",_e.fillStyle=c?o.getPattern(_e,this,getCurrentTransformInverse(s),PathType.FILL):o,_e.fillRect(0,0,g,j),_e.restore(),s.save(),s.transform(..._),s.scale(1,-1),drawImageAtIntegerCoords(s,$.canvas,0,0,g,j,0,-1,1,1),s.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){warn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(s)}paintImageXObjectRepeat(e,s,o,c){if(!this.contentVisible)return;const d=this.getObject(e);if(!d){warn("Dependent image isn't ready yet");return}const h=d.width,g=d.height,j=[];for(let _=0,$=c.length;_<$;_+=2)j.push({transform:[s,0,0,o,c[_],c[_+1]],x:0,y:0,w:h,h:g});this.paintInlineImageXObjectGroup(d,j)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:s,width:o,height:c}=e,d=this.cachedCanvases.getCanvas("inlineImage",o,c),h=d.context;return h.filter=this.current.transferMaps,h.drawImage(s,0,0),h.filter="none",d.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const s=e.width,o=e.height,c=this.ctx;if(this.save(),!isNodeJS){const{filter:g}=c;g!=="none"&&g!==""&&(c.filter="none")}c.scale(1/s,-1/o);let d;if(e.bitmap)d=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)d=e;else{const j=this.cachedCanvases.getCanvas("inlineImage",s,o).context;putBinaryImageData(j,e),d=this.applyTransferMapsToCanvas(j)}const h=this._scaleImage(d,getCurrentTransformInverse(c));c.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(c),e.interpolate),drawImageAtIntegerCoords(c,h.img,0,0,h.paintWidth,h.paintHeight,0,-o,s,o),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,s){if(!this.contentVisible)return;const o=this.ctx;let c;if(e.bitmap)c=e.bitmap;else{const d=e.width,h=e.height,j=this.cachedCanvases.getCanvas("inlineImage",d,h).context;putBinaryImageData(j,e),c=this.applyTransferMapsToCanvas(j)}for(const d of s)o.save(),o.transform(...d.transform),o.scale(1,-1),drawImageAtIntegerCoords(o,c,d.x,d.y,d.w,d.h,0,-1,1,1),o.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,s){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,s){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(s)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const o=this.ctx;this.pendingClip&&(s||(this.pendingClip===EO_CLIP?o.clip("evenodd"):o.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),o.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=getCurrentTransform(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const s=Math.abs(e[0]*e[3]-e[2]*e[1]),o=Math.hypot(e[0],e[2]),c=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(o,c)/s}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:s,b:o,c,d}=this.ctx.getTransform();let h,g;if(o===0&&c===0){const j=Math.abs(s),_=Math.abs(d);if(j===_)if(e===0)h=g=1/j;else{const $=j*e;h=g=$<1?1/$:1}else if(e===0)h=1/j,g=1/_;else{const $=j*e,_e=_*e;h=$<1?1/$:1,g=_e<1?1/_e:1}}else{const j=Math.abs(s*d-o*c),_=Math.hypot(s,o),$=Math.hypot(c,d);if(e===0)h=$/j,g=_/j;else{const _e=e*j;h=$>_e?$/_e:1,g=_>_e?_/_e:1}}this._cachedScaleForStroking[0]=h,this._cachedScaleForStroking[1]=g}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:s}=this,{lineWidth:o}=this.current,[c,d]=this.getScaleForStroking();if(s.lineWidth=o||1,c===1&&d===1){s.stroke();return}const h=s.getLineDash();if(e&&s.save(),s.scale(c,d),h.length>0){const g=Math.max(c,d);s.setLineDash(h.map(j=>j/g)),s.lineDashOffset/=g}s.stroke(),e&&s.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};zo=new WeakSet,Nv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Tv=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const s=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=s}}};let CanvasGraphics=uE;for(const i in OPS)CanvasGraphics.prototype[i]!==void 0&&(CanvasGraphics.prototype[OPS[i]]=CanvasGraphics.prototype[i]);var Em,ym;class GlobalWorkerOptions{static get workerPort(){return et(this,Em)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");dt(this,Em,e)}static get workerSrc(){return et(this,ym)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");dt(this,ym,e)}}Em=new WeakMap,ym=new WeakMap,ft(GlobalWorkerOptions,Em,null),ft(GlobalWorkerOptions,ym,"");const CallbackKind={DATA:1,ERROR:2},StreamKind={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(i){switch(i instanceof Error||typeof i=="object"&&i!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new AbortException(i.message);case"MissingPDFException":return new MissingPDFException(i.message);case"PasswordException":return new PasswordException(i.message,i.code);case"UnexpectedResponseException":return new UnexpectedResponseException(i.message,i.status);case"UnknownErrorException":return new UnknownErrorException(i.message,i.details);default:return new UnknownErrorException(i.message,i.toString())}}var Zu,Tr,ty,sy,ry,bx;class MessageHandler{constructor(e,s,o){ft(this,Tr);ft(this,Zu,new AbortController);this.sourceName=e,this.targetName=s,this.comObj=o,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),o.addEventListener("message",pt(this,Tr,ty).bind(this),{signal:et(this,Zu).signal})}on(e,s){const o=this.actionHandler;if(o[e])throw new Error(`There is already an actionName called "${e}"`);o[e]=s}send(e,s,o){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:s},o)}sendWithPromise(e,s,o){const c=this.callbackId++,d=Promise.withResolvers();this.callbackCapabilities[c]=d;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:c,data:s},o)}catch(h){d.reject(h)}return d.promise}sendWithStream(e,s,o,c){const d=this.streamId++,h=this.sourceName,g=this.targetName,j=this.comObj;return new ReadableStream({start:_=>{const $=Promise.withResolvers();return this.streamControllers[d]={controller:_,startCall:$,pullCall:null,cancelCall:null,isClosed:!1},j.postMessage({sourceName:h,targetName:g,action:e,streamId:d,data:s,desiredSize:_.desiredSize},c),$.promise},pull:_=>{const $=Promise.withResolvers();return this.streamControllers[d].pullCall=$,j.postMessage({sourceName:h,targetName:g,stream:StreamKind.PULL,streamId:d,desiredSize:_.desiredSize}),$.promise},cancel:_=>{assert(_ instanceof Error,"cancel must have a valid reason");const $=Promise.withResolvers();return this.streamControllers[d].cancelCall=$,this.streamControllers[d].isClosed=!0,j.postMessage({sourceName:h,targetName:g,stream:StreamKind.CANCEL,streamId:d,reason:wrapReason(_)}),$.promise}},o)}destroy(){var e;(e=et(this,Zu))==null||e.abort(),dt(this,Zu,null)}}Zu=new WeakMap,Tr=new WeakSet,ty=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){pt(this,Tr,ry).call(this,e);return}if(e.callback){const o=e.callbackId,c=this.callbackCapabilities[o];if(!c)throw new Error(`Cannot resolve callback ${o}`);if(delete this.callbackCapabilities[o],e.callback===CallbackKind.DATA)c.resolve(e.data);else if(e.callback===CallbackKind.ERROR)c.reject(wrapReason(e.reason));else throw new Error("Unexpected callback case");return}const s=this.actionHandler[e.action];if(!s)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const o=this.sourceName,c=e.sourceName,d=this.comObj;new Promise(function(h){h(s(e.data))}).then(function(h){d.postMessage({sourceName:o,targetName:c,callback:CallbackKind.DATA,callbackId:e.callbackId,data:h})},function(h){d.postMessage({sourceName:o,targetName:c,callback:CallbackKind.ERROR,callbackId:e.callbackId,reason:wrapReason(h)})});return}if(e.streamId){pt(this,Tr,sy).call(this,e);return}s(e.data)},sy=function(e){const s=e.streamId,o=this.sourceName,c=e.sourceName,d=this.comObj,h=this,g=this.actionHandler[e.action],j={enqueue(_,$=1,_e){if(this.isCancelled)return;const st=this.desiredSize;this.desiredSize-=$,st>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),d.postMessage({sourceName:o,targetName:c,stream:StreamKind.ENQUEUE,streamId:s,chunk:_},_e)},close(){this.isCancelled||(this.isCancelled=!0,d.postMessage({sourceName:o,targetName:c,stream:StreamKind.CLOSE,streamId:s}),delete h.streamSinks[s])},error(_){assert(_ instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,d.postMessage({sourceName:o,targetName:c,stream:StreamKind.ERROR,streamId:s,reason:wrapReason(_)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};j.sinkCapability.resolve(),j.ready=j.sinkCapability.promise,this.streamSinks[s]=j,new Promise(function(_){_(g(e.data,j))}).then(function(){d.postMessage({sourceName:o,targetName:c,stream:StreamKind.START_COMPLETE,streamId:s,success:!0})},function(_){d.postMessage({sourceName:o,targetName:c,stream:StreamKind.START_COMPLETE,streamId:s,reason:wrapReason(_)})})},ry=function(e){const s=e.streamId,o=this.sourceName,c=e.sourceName,d=this.comObj,h=this.streamControllers[s],g=this.streamSinks[s];switch(e.stream){case StreamKind.START_COMPLETE:e.success?h.startCall.resolve():h.startCall.reject(wrapReason(e.reason));break;case StreamKind.PULL_COMPLETE:e.success?h.pullCall.resolve():h.pullCall.reject(wrapReason(e.reason));break;case StreamKind.PULL:if(!g){d.postMessage({sourceName:o,targetName:c,stream:StreamKind.PULL_COMPLETE,streamId:s,success:!0});break}g.desiredSize<=0&&e.desiredSize>0&&g.sinkCapability.resolve(),g.desiredSize=e.desiredSize,new Promise(function(j){var _;j((_=g.onPull)==null?void 0:_.call(g))}).then(function(){d.postMessage({sourceName:o,targetName:c,stream:StreamKind.PULL_COMPLETE,streamId:s,success:!0})},function(j){d.postMessage({sourceName:o,targetName:c,stream:StreamKind.PULL_COMPLETE,streamId:s,reason:wrapReason(j)})});break;case StreamKind.ENQUEUE:if(assert(h,"enqueue should have stream controller"),h.isClosed)break;h.controller.enqueue(e.chunk);break;case StreamKind.CLOSE:if(assert(h,"close should have stream controller"),h.isClosed)break;h.isClosed=!0,h.controller.close(),pt(this,Tr,bx).call(this,h,s);break;case StreamKind.ERROR:assert(h,"error should have stream controller"),h.controller.error(wrapReason(e.reason)),pt(this,Tr,bx).call(this,h,s);break;case StreamKind.CANCEL_COMPLETE:e.success?h.cancelCall.resolve():h.cancelCall.reject(wrapReason(e.reason)),pt(this,Tr,bx).call(this,h,s);break;case StreamKind.CANCEL:if(!g)break;new Promise(function(j){var _;j((_=g.onCancel)==null?void 0:_.call(g,wrapReason(e.reason)))}).then(function(){d.postMessage({sourceName:o,targetName:c,stream:StreamKind.CANCEL_COMPLETE,streamId:s,success:!0})},function(j){d.postMessage({sourceName:o,targetName:c,stream:StreamKind.CANCEL_COMPLETE,streamId:s,reason:wrapReason(j)})}),g.sinkCapability.reject(wrapReason(e.reason)),g.isCancelled=!0,delete this.streamSinks[s];break;default:throw new Error("Unexpected stream case")}},bx=async function(e,s){var o,c,d;await Promise.allSettled([(o=e.startCall)==null?void 0:o.promise,(c=e.pullCall)==null?void 0:c.promise,(d=e.cancelCall)==null?void 0:d.promise]),delete this.streamControllers[s]};var Bl,jm;class Metadata{constructor({parsedData:e,rawData:s}){ft(this,Bl);ft(this,jm);dt(this,Bl,e),dt(this,jm,s)}getRaw(){return et(this,jm)}get(e){return et(this,Bl).get(e)??null}getAll(){return objectFromMap(et(this,Bl))}has(e){return et(this,Bl).has(e)}}Bl=new WeakMap,jm=new WeakMap;const INTERNAL=Symbol("INTERNAL");var bm,wm,Rm,_d;class OptionalContentGroup{constructor(e,{name:s,intent:o,usage:c,rbGroups:d}){ft(this,bm,!1);ft(this,wm,!1);ft(this,Rm,!1);ft(this,_d,!0);dt(this,bm,!!(e&RenderingIntentFlag.DISPLAY)),dt(this,wm,!!(e&RenderingIntentFlag.PRINT)),this.name=s,this.intent=o,this.usage=c,this.rbGroups=d}get visible(){if(et(this,Rm))return et(this,_d);if(!et(this,_d))return!1;const{print:e,view:s}=this.usage;return et(this,bm)?(s==null?void 0:s.viewState)!=="OFF":et(this,wm)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,s,o=!1){e!==INTERNAL&&unreachable("Internal method `_setVisible` called."),dt(this,Rm,o),dt(this,_d,s)}}bm=new WeakMap,wm=new WeakMap,Rm=new WeakMap,_d=new WeakMap;var So,ms,_h,ep,_m,Pv;class OptionalContentConfig{constructor(e,s=RenderingIntentFlag.DISPLAY){ft(this,_m);ft(this,So,null);ft(this,ms,new Map);ft(this,_h,null);ft(this,ep,null);if(this.renderingIntent=s,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,dt(this,ep,e.order);for(const o of e.groups)et(this,ms).set(o.id,new OptionalContentGroup(s,o));if(e.baseState==="OFF")for(const o of et(this,ms).values())o._setVisible(INTERNAL,!1);for(const o of e.on)et(this,ms).get(o)._setVisible(INTERNAL,!0);for(const o of e.off)et(this,ms).get(o)._setVisible(INTERNAL,!1);dt(this,_h,this.getHash())}}isVisible(e){if(et(this,ms).size===0)return!0;if(!e)return info("Optional content group not defined."),!0;if(e.type==="OCG")return et(this,ms).has(e.id)?et(this,ms).get(e.id).visible:(warn(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return pt(this,_m,Pv).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const s of e.ids){if(!et(this,ms).has(s))return warn(`Optional content group not found: ${s}`),!0;if(et(this,ms).get(s).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const s of e.ids){if(!et(this,ms).has(s))return warn(`Optional content group not found: ${s}`),!0;if(!et(this,ms).get(s).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const s of e.ids){if(!et(this,ms).has(s))return warn(`Optional content group not found: ${s}`),!0;if(!et(this,ms).get(s).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const s of e.ids){if(!et(this,ms).has(s))return warn(`Optional content group not found: ${s}`),!0;if(et(this,ms).get(s).visible)return!1}return!0}return warn(`Unknown optional content policy ${e.policy}.`),!0}return warn(`Unknown group type ${e.type}.`),!0}setVisibility(e,s=!0,o=!0){var d;const c=et(this,ms).get(e);if(!c){warn(`Optional content group not found: ${e}`);return}if(o&&s&&c.rbGroups.length)for(const h of c.rbGroups)for(const g of h)g!==e&&((d=et(this,ms).get(g))==null||d._setVisible(INTERNAL,!1,!0));c._setVisible(INTERNAL,!!s,!0),dt(this,So,null)}setOCGState({state:e,preserveRB:s}){let o;for(const c of e){switch(c){case"ON":case"OFF":case"Toggle":o=c;continue}const d=et(this,ms).get(c);if(d)switch(o){case"ON":this.setVisibility(c,!0,s);break;case"OFF":this.setVisibility(c,!1,s);break;case"Toggle":this.setVisibility(c,!d.visible,s);break}}dt(this,So,null)}get hasInitialVisibility(){return et(this,_h)===null||this.getHash()===et(this,_h)}getOrder(){return et(this,ms).size?et(this,ep)?et(this,ep).slice():[...et(this,ms).keys()]:null}getGroups(){return et(this,ms).size>0?objectFromMap(et(this,ms)):null}getGroup(e){return et(this,ms).get(e)||null}getHash(){if(et(this,So)!==null)return et(this,So);const e=new MurmurHash3_64;for(const[s,o]of et(this,ms))e.update(`${s}:${o.visible}`);return dt(this,So,e.hexdigest())}}So=new WeakMap,ms=new WeakMap,_h=new WeakMap,ep=new WeakMap,_m=new WeakSet,Pv=function(e){const s=e.length;if(s<2)return!0;const o=e[0];for(let c=1;c<s;c++){const d=e[c];let h;if(Array.isArray(d))h=pt(this,_m,Pv).call(this,d);else if(et(this,ms).has(d))h=et(this,ms).get(d).visible;else return warn(`Optional content group not found: ${d}`),!0;switch(o){case"And":if(!h)return!1;break;case"Or":if(h)return!0;break;case"Not":return!h;default:return!0}}return o==="And"};class PDFDataTransportStream{constructor(e,{disableRange:s=!1,disableStream:o=!1}){assert(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:c,initialData:d,progressiveDone:h,contentDispositionFilename:g}=e;if(this._queuedChunks=[],this._progressiveDone=h,this._contentDispositionFilename=g,(d==null?void 0:d.length)>0){const j=d instanceof Uint8Array&&d.byteLength===d.buffer.byteLength?d.buffer:new Uint8Array(d).buffer;this._queuedChunks.push(j)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!o,this._isRangeSupported=!s,this._contentLength=c,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((j,_)=>{this._onReceiveData({begin:j,chunk:_})}),e.addProgressListener((j,_)=>{this._onProgress({loaded:j,total:_})}),e.addProgressiveReadListener(j=>{this._onReceiveData({chunk:j})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:s}){const o=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(o):this._queuedChunks.push(o);else{const c=this._rangeReaders.some(function(d){return d._begin!==e?!1:(d._enqueue(o),!0)});assert(c,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var s,o,c,d;e.total===void 0?(o=(s=this._rangeReaders[0])==null?void 0:s.onProgress)==null||o.call(s,{loaded:e.loaded}):(d=(c=this._fullRequestReader)==null?void 0:c.onProgress)==null||d.call(c,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const s=this._rangeReaders.indexOf(e);s>=0&&this._rangeReaders.splice(s,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,s){if(s<=this._progressiveDataLength)return null;const o=new PDFDataTransportStreamRangeReader(this,e,s);return this._pdfDataRangeTransport.requestDataRange(e,s),this._rangeReaders.push(o),o}cancelAllRequests(e){var s;(s=this._fullRequestReader)==null||s.cancel(e);for(const o of this._rangeReaders.slice(0))o.cancel(e);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor(e,s,o=!1,c=null){this._stream=e,this._done=o||!1,this._filename=isPdfFile(c)?c:null,this._queuedChunks=s||[],this._loaded=0;for(const d of this._queuedChunks)this._loaded+=d.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor(e,s,o){this._stream=e,this._begin=s,this._end=o,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const s=this._queuedChunk;return this._queuedChunk=null,{value:s,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(i){let e=!0,s=o("filename\\*","i").exec(i);if(s){s=s[1];let $=g(s);return $=unescape($),$=j($),$=_($),d($)}if(s=h(i),s){const $=_(s);return d($)}if(s=o("filename","i").exec(i),s){s=s[1];let $=g(s);return $=_($),d($)}function o($,_e){return new RegExp("(?:^|;)\\s*"+$+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',_e)}function c($,_e){if($){if(!/^[\x00-\xFF]+$/.test(_e))return _e;try{const st=new TextDecoder($,{fatal:!0}),rt=stringToBytes(_e);_e=st.decode(rt),e=!1}catch{}}return _e}function d($){return e&&/[\x80-\xff]/.test($)&&($=c("utf-8",$),e&&($=c("iso-8859-1",$))),$}function h($){const _e=[];let st;const rt=o("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(st=rt.exec($))!==null;){let[,nt,lt,ot]=st;if(nt=parseInt(nt,10),nt in _e){if(nt===0)break;continue}_e[nt]=[lt,ot]}const it=[];for(let nt=0;nt<_e.length&&nt in _e;++nt){let[lt,ot]=_e[nt];ot=g(ot),lt&&(ot=unescape(ot),nt===0&&(ot=j(ot))),it.push(ot)}return it.join("")}function g($){if($.startsWith('"')){const _e=$.slice(1).split('\\"');for(let st=0;st<_e.length;++st){const rt=_e[st].indexOf('"');rt!==-1&&(_e[st]=_e[st].slice(0,rt),_e.length=st+1),_e[st]=_e[st].replaceAll(/\\(.)/g,"$1")}$=_e.join('"')}return $}function j($){const _e=$.indexOf("'");if(_e===-1)return $;const st=$.slice(0,_e),it=$.slice(_e+1).replace(/^[^']*'/,"");return c(st,it)}function _($){return!$.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test($)?$:$.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(_e,st,rt,it){if(rt==="q"||rt==="Q")return it=it.replaceAll("_"," "),it=it.replaceAll(/=([0-9a-fA-F]{2})/g,function(nt,lt){return String.fromCharCode(parseInt(lt,16))}),c(st,it);try{it=atob(it)}catch{}return c(st,it)})}return""}function createHeaders(i,e){const s=new Headers;if(!i||!e||typeof e!="object")return s;for(const o in e){const c=e[o];c!==void 0&&s.append(o,c)}return s}function validateRangeRequestCapabilities({responseHeaders:i,isHttp:e,rangeChunkSize:s,disableRange:o}){const c={allowRangeRequests:!1,suggestedLength:void 0},d=parseInt(i.get("Content-Length"),10);return!Number.isInteger(d)||(c.suggestedLength=d,d<=2*s)||o||!e||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(c.allowRangeRequests=!0),c}function extractFilenameFromHeader(i){const e=i.get("Content-Disposition");if(e){let s=getFilenameFromContentDispositionHeader(e);if(s.includes("%"))try{s=decodeURIComponent(s)}catch{}if(isPdfFile(s))return s}return null}function createResponseStatusError(i,e){return i===404||i===0&&e.startsWith("file:")?new MissingPDFException('Missing PDF "'+e+'".'):new UnexpectedResponseException(`Unexpected server response (${i}) while retrieving PDF "${e}".`,i)}function validateResponseStatus(i){return i===200||i===206}function createFetchOptions(i,e,s){return{method:"GET",headers:i,signal:s.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function getArrayBuffer(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(warn(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class PDFFetchStream{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=createHeaders(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader(e,s){if(s<=this._progressiveDataLength)return null;const o=new PDFFetchStreamRangeReader(this,e,s);return this._rangeRequestReaders.push(o),o}cancelAllRequests(e){var s;(s=this._fullRequestReader)==null||s.cancel(e);for(const o of this._rangeRequestReaders.slice(0))o.cancel(e)}}class PDFFetchStreamReader{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const s=e.source;this._withCredentials=s.withCredentials||!1,this._contentLength=s.length,this._headersCapability=Promise.withResolvers(),this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange;const o=new Headers(e.headers),c=s.url;fetch(c,createFetchOptions(o,this._withCredentials,this._abortController)).then(d=>{if(!validateResponseStatus(d.status))throw createResponseStatusError(d.status,c);this._reader=d.body.getReader(),this._headersCapability.resolve();const h=d.headers,{allowRangeRequests:g,suggestedLength:j}=validateRangeRequestCapabilities({responseHeaders:h,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=g,this._contentLength=j||this._contentLength,this._filename=extractFilenameFromHeader(h),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var o;await this._headersCapability.promise;const{value:e,done:s}=await this._reader.read();return s?{value:e,done:s}:(this._loaded+=e.byteLength,(o=this.onProgress)==null||o.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer(e),done:!1})}cancel(e){var s;(s=this._reader)==null||s.cancel(e),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor(e,s,o){this._stream=e,this._reader=null,this._loaded=0;const c=e.source;this._withCredentials=c.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!c.disableStream,this._abortController=new AbortController;const d=new Headers(e.headers);d.append("Range",`bytes=${s}-${o-1}`);const h=c.url;fetch(h,createFetchOptions(d,this._withCredentials,this._abortController)).then(g=>{if(!validateResponseStatus(g.status))throw createResponseStatusError(g.status,h);this._readCapability.resolve(),this._reader=g.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var o;await this._readCapability.promise;const{value:e,done:s}=await this._reader.read();return s?{value:e,done:s}:(this._loaded+=e.byteLength,(o=this.onProgress)==null||o.call(this,{loaded:this._loaded}),{value:getArrayBuffer(e),done:!1})}cancel(e){var s;(s=this._reader)==null||s.cancel(e),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(i){const e=i.response;return typeof e!="string"?e:stringToBytes(e).buffer}class NetworkManager{constructor({url:e,httpHeaders:s,withCredentials:o}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=createHeaders(this.isHttp,s),this.withCredentials=o||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,s,o){const c={begin:e,end:s};for(const d in o)c[d]=o[d];return this.request(c)}requestFull(e){return this.request(e)}request(e){const s=new XMLHttpRequest,o=this.currXhrId++,c=this.pendingRequests[o]={xhr:s};s.open("GET",this.url),s.withCredentials=this.withCredentials;for(const[d,h]of this.headers)s.setRequestHeader(d,h);return this.isHttp&&"begin"in e&&"end"in e?(s.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),c.expectedStatus=PARTIAL_CONTENT_RESPONSE):c.expectedStatus=OK_RESPONSE,s.responseType="arraybuffer",e.onError&&(s.onerror=function(d){e.onError(s.status)}),s.onreadystatechange=this.onStateChange.bind(this,o),s.onprogress=this.onProgress.bind(this,o),c.onHeadersReceived=e.onHeadersReceived,c.onDone=e.onDone,c.onError=e.onError,c.onProgress=e.onProgress,s.send(null),o}onProgress(e,s){var c;const o=this.pendingRequests[e];o&&((c=o.onProgress)==null||c.call(o,s))}onStateChange(e,s){var j,_,$;const o=this.pendingRequests[e];if(!o)return;const c=o.xhr;if(c.readyState>=2&&o.onHeadersReceived&&(o.onHeadersReceived(),delete o.onHeadersReceived),c.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],c.status===0&&this.isHttp){(j=o.onError)==null||j.call(o,c.status);return}const d=c.status||OK_RESPONSE;if(!(d===OK_RESPONSE&&o.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&d!==o.expectedStatus){(_=o.onError)==null||_.call(o,c.status);return}const g=network_getArrayBuffer(c);if(d===PARTIAL_CONTENT_RESPONSE){const _e=c.getResponseHeader("Content-Range"),st=/bytes (\d+)-(\d+)\/(\d+)/.exec(_e);o.onDone({begin:parseInt(st[1],10),chunk:g})}else g?o.onDone({begin:0,chunk:g}):($=o.onError)==null||$.call(o,c.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const s=this.pendingRequests[e].xhr;delete this.pendingRequests[e],s.abort()}}class PDFNetworkStream{constructor(e){this._source=e,this._manager=new NetworkManager(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const s=this._rangeRequestReaders.indexOf(e);s>=0&&this._rangeRequestReaders.splice(s,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader(e,s){const o=new PDFNetworkStreamRangeRequestReader(this._manager,e,s);return o.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(o),o}cancelAllRequests(e){var s;(s=this._fullRequestReader)==null||s.cancel(e);for(const o of this._rangeRequestReaders.slice(0))o.cancel(e)}}class PDFNetworkStreamFullRequestReader{constructor(e,s){this._manager=e;const o={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=s.url,this._fullRequestId=e.requestFull(o),this._headersCapability=Promise.withResolvers(),this._disableRange=s.disableRange||!1,this._contentLength=s.length,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,s=this._manager.getRequestXhr(e),o=new Headers(s.getAllResponseHeaders().trim().split(/[\r\n]+/).map(h=>{const[g,...j]=h.split(": ");return[g,j.join(": ")]})),{allowRangeRequests:c,suggestedLength:d}=validateRangeRequestCapabilities({responseHeaders:o,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});c&&(this._isRangeSupported=!0),this._contentLength=d||this._contentLength,this._filename=extractFilenameFromHeader(o),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=createResponseStatusError(e,this._url),this._headersCapability.reject(this._storedError);for(const s of this._requests)s.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var s;(s=this.onProgress)==null||s.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor(e,s,o){this._manager=e;const c={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(s,o,c),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const s=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:s,done:!1}):this._queuedChunk=s,this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=createResponseStatusError(e,this._url);for(const s of this._requests)s.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var s;this.isStreamingSupported||(s=this.onProgress)==null||s.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const s=this._queuedChunk;return this._queuedChunk=null,{value:s,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const urlRegex=/^[a-z][a-z0-9\-+.]+:/i;function parseUrlOrPath(i){if(urlRegex.test(i))return new URL(i);const e=NodePackages.get("url");return new URL(e.pathToFileURL(i))}function createRequest(i,e,s){return i.protocol==="http:"?NodePackages.get("http").request(i,{headers:e},s):NodePackages.get("https").request(i,{headers:e},s)}class PDFNodeStream{constructor(e){this.source=e,this.url=parseUrlOrPath(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=createHeaders(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequestReader}getRangeReader(e,s){if(s<=this._progressiveDataLength)return null;const o=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,e,s):new PDFNodeStreamRangeReader(this,e,s);return this._rangeRequestReaders.push(o),o}cancelAllRequests(e){var s;(s=this._fullRequestReader)==null||s.cancel(e);for(const o of this._rangeRequestReaders.slice(0))o.cancel(e)}}class BaseFullReader{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const s=e.source;this._contentLength=s.length,this._loaded=0,this._filename=null,this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var o;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(o=this.onProgress)==null||o.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",s=>{this._error(s)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BaseRangeReader{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=e.source;this._isStreamingSupported=!s.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var o;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(o=this.onProgress)==null||o.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",s=>{this._error(s)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class PDFNodeStreamFullReader extends BaseFullReader{constructor(e){super(e);const s=Object.fromEntries(e.headers),o=c=>{if(c.statusCode===404){const j=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=j,this._headersCapability.reject(j);return}this._headersCapability.resolve(),this._setReadableStream(c);const d=new Headers(this._readableStream.headers),{allowRangeRequests:h,suggestedLength:g}=validateRangeRequestCapabilities({responseHeaders:d,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=g||this._contentLength,this._filename=extractFilenameFromHeader(d)};this._request=createRequest(this._url,s,o),this._request.on("error",c=>{this._storedError=c,this._headersCapability.reject(c)}),this._request.end()}}class PDFNodeStreamRangeReader extends BaseRangeReader{constructor(e,s,o){super(e);const c=Object.fromEntries(e.headers);c.Range=`bytes=${s}-${o-1}`;const d=h=>{if(h.statusCode===404){const g=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=g;return}this._setReadableStream(h)};this._request=createRequest(this._url,c,d),this._request.on("error",h=>{this._storedError=h}),this._request.end()}}class PDFNodeStreamFsFullReader extends BaseFullReader{constructor(e){super(e);const s=NodePackages.get("fs");s.promises.lstat(this._url).then(o=>{this._contentLength=o.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},o=>{o.code==="ENOENT"&&(o=new MissingPDFException(`Missing PDF "${this._url}".`)),this._storedError=o,this._headersCapability.reject(o)})}}class PDFNodeStreamFsRangeReader extends BaseRangeReader{constructor(e,s,o){super(e);const c=NodePackages.get("fs");this._setReadableStream(c.createReadStream(this._url,{start:s,end:o-1}))}}const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30,DEFAULT_FONT_ASCENT=.8;var SE,Co,lr,Sm,Cm,Ul,In,Am,Nm,Hl,tp,sp,Ao,rp,Tm,np,zl,Pm,km,As,Vl,Gl,Im,No,ip,Zn,ny,iy,kv,jr,wx,Iv,oy,ay;let TextLayer$2=(As=class{constructor({textContentSource:e,container:s,viewport:o}){ft(this,Zn);ft(this,Co,Promise.withResolvers());ft(this,lr,null);ft(this,Sm,!1);ft(this,Cm,!!((SE=globalThis.FontInspector)!=null&&SE.enabled));ft(this,Ul,null);ft(this,In,null);ft(this,Am,0);ft(this,Nm,0);ft(this,Hl,null);ft(this,tp,null);ft(this,sp,0);ft(this,Ao,0);ft(this,rp,Object.create(null));ft(this,Tm,[]);ft(this,np,null);ft(this,zl,[]);ft(this,Pm,new WeakMap);ft(this,km,null);var j;if(e instanceof ReadableStream)dt(this,np,e);else if(typeof e=="object")dt(this,np,new ReadableStream({start(_){_.enqueue(e),_.close()}}));else throw new Error('No "textContentSource" parameter specified.');dt(this,lr,dt(this,tp,s)),dt(this,Ao,o.scale*(globalThis.devicePixelRatio||1)),dt(this,sp,o.rotation),dt(this,In,{div:null,properties:null,ctx:null});const{pageWidth:c,pageHeight:d,pageX:h,pageY:g}=o.rawDims;dt(this,km,[1,0,0,-1,-h,g+d]),dt(this,Nm,c),dt(this,Am,d),pt(j=As,jr,oy).call(j),setLayerDimensions(s,o),et(this,Co).promise.finally(()=>{et(As,ip).delete(this),dt(this,In,null),dt(this,rp,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:s}=util_FeatureTest.platform;return shadow(this,"fontFamilyMap",new Map([["sans-serif",`${e&&s?"Calibri, ":""}sans-serif`],["monospace",`${e&&s?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{et(this,Hl).read().then(({value:s,done:o})=>{if(o){et(this,Co).resolve();return}et(this,Ul)??dt(this,Ul,s.lang),Object.assign(et(this,rp),s.styles),pt(this,Zn,ny).call(this,s.items),e()},et(this,Co).reject)};return dt(this,Hl,et(this,np).getReader()),et(As,ip).add(this),e(),et(this,Co).promise}update({viewport:e,onBefore:s=null}){var d;const o=e.scale*(globalThis.devicePixelRatio||1),c=e.rotation;if(c!==et(this,sp)&&(s==null||s(),dt(this,sp,c),setLayerDimensions(et(this,tp),{rotation:c})),o!==et(this,Ao)){s==null||s(),dt(this,Ao,o);const h={div:null,properties:null,ctx:pt(d=As,jr,wx).call(d,et(this,Ul))};for(const g of et(this,zl))h.properties=et(this,Pm).get(g),h.div=g,pt(this,Zn,kv).call(this,h)}}cancel(){var s;const e=new AbortException("TextLayer task cancelled.");(s=et(this,Hl))==null||s.cancel(e).catch(()=>{}),dt(this,Hl,null),et(this,Co).reject(e)}get textDivs(){return et(this,zl)}get textContentItemsStr(){return et(this,Tm)}static cleanup(){if(!(et(this,ip).size>0)){et(this,Vl).clear();for(const{canvas:e}of et(this,Gl).values())e.remove();et(this,Gl).clear()}}},Co=new WeakMap,lr=new WeakMap,Sm=new WeakMap,Cm=new WeakMap,Ul=new WeakMap,In=new WeakMap,Am=new WeakMap,Nm=new WeakMap,Hl=new WeakMap,tp=new WeakMap,sp=new WeakMap,Ao=new WeakMap,rp=new WeakMap,Tm=new WeakMap,np=new WeakMap,zl=new WeakMap,Pm=new WeakMap,km=new WeakMap,Vl=new WeakMap,Gl=new WeakMap,Im=new WeakMap,No=new WeakMap,ip=new WeakMap,Zn=new WeakSet,ny=function(e){var c,d;if(et(this,Sm))return;(d=et(this,In)).ctx??(d.ctx=pt(c=As,jr,wx).call(c,et(this,Ul)));const s=et(this,zl),o=et(this,Tm);for(const h of e){if(s.length>MAX_TEXT_DIVS_TO_RENDER){warn("Ignoring additional textDivs for performance reasons."),dt(this,Sm,!0);return}if(h.str===void 0){if(h.type==="beginMarkedContentProps"||h.type==="beginMarkedContent"){const g=et(this,lr);dt(this,lr,document.createElement("span")),et(this,lr).classList.add("markedContent"),h.id!==null&&et(this,lr).setAttribute("id",`${h.id}`),g.append(et(this,lr))}else h.type==="endMarkedContent"&&dt(this,lr,et(this,lr).parentNode);continue}o.push(h.str),pt(this,Zn,iy).call(this,h)}},iy=function(e){var nt;const s=document.createElement("span"),o={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};et(this,zl).push(s);const c=Util.transform(et(this,km),e.transform);let d=Math.atan2(c[1],c[0]);const h=et(this,rp)[e.fontName];h.vertical&&(d+=Math.PI/2);let g=et(this,Cm)&&h.fontSubstitution||h.fontFamily;g=As.fontFamilyMap.get(g)||g;const j=Math.hypot(c[2],c[3]),_=j*pt(nt=As,jr,ay).call(nt,g,et(this,Ul));let $,_e;d===0?($=c[4],_e=c[5]-_):($=c[4]+_*Math.sin(d),_e=c[5]-_*Math.cos(d));const st="calc(var(--scale-factor)*",rt=s.style;et(this,lr)===et(this,tp)?(rt.left=`${(100*$/et(this,Nm)).toFixed(2)}%`,rt.top=`${(100*_e/et(this,Am)).toFixed(2)}%`):(rt.left=`${st}${$.toFixed(2)}px)`,rt.top=`${st}${_e.toFixed(2)}px)`),rt.fontSize=`${st}${(et(As,No)*j).toFixed(2)}px)`,rt.fontFamily=g,o.fontSize=j,s.setAttribute("role","presentation"),s.textContent=e.str,s.dir=e.dir,et(this,Cm)&&(s.dataset.fontName=h.fontSubstitutionLoadedName||e.fontName),d!==0&&(o.angle=d*(180/Math.PI));let it=!1;if(e.str.length>1)it=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const lt=Math.abs(e.transform[0]),ot=Math.abs(e.transform[3]);lt!==ot&&Math.max(lt,ot)/Math.min(lt,ot)>1.5&&(it=!0)}if(it&&(o.canvasWidth=h.vertical?e.height:e.width),et(this,Pm).set(s,o),et(this,In).div=s,et(this,In).properties=o,pt(this,Zn,kv).call(this,et(this,In)),o.hasText&&et(this,lr).append(s),o.hasEOL){const lt=document.createElement("br");lt.setAttribute("role","presentation"),et(this,lr).append(lt)}},kv=function(e){var g;const{div:s,properties:o,ctx:c}=e,{style:d}=s;let h="";if(et(As,No)>1&&(h=`scale(${1/et(As,No)})`),o.canvasWidth!==0&&o.hasText){const{fontFamily:j}=d,{canvasWidth:_,fontSize:$}=o;pt(g=As,jr,Iv).call(g,c,$*et(this,Ao),j);const{width:_e}=c.measureText(s.textContent);_e>0&&(h=`scaleX(${_*et(this,Ao)/_e}) ${h}`)}o.angle!==0&&(h=`rotate(${o.angle}deg) ${h}`),h.length>0&&(d.transform=h)},jr=new WeakSet,wx=function(e=null){let s=et(this,Gl).get(e||(e=""));if(!s){const o=document.createElement("canvas");o.className="hiddenCanvasElement",o.lang=e,document.body.append(o),s=o.getContext("2d",{alpha:!1,willReadFrequently:!0}),et(this,Gl).set(e,s),et(this,Im).set(s,{size:0,family:""})}return s},Iv=function(e,s,o){const c=et(this,Im).get(e);s===c.size&&o===c.family||(e.font=`${s}px ${o}`,c.size=s,c.family=o)},oy=function(){if(et(this,No)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),dt(this,No,e.getBoundingClientRect().height),e.remove()},ay=function(e,s){const o=et(this,Vl).get(e);if(o)return o;const c=pt(this,jr,wx).call(this,s);c.canvas.width=c.canvas.height=DEFAULT_FONT_SIZE,pt(this,jr,Iv).call(this,c,DEFAULT_FONT_SIZE,e);const d=c.measureText("");let h=d.fontBoundingBoxAscent,g=Math.abs(d.fontBoundingBoxDescent);if(h){const $=h/(h+g);return et(this,Vl).set(e,$),c.canvas.width=c.canvas.height=0,$}c.strokeStyle="red",c.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),c.strokeText("g",0,0);let j=c.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;g=0;for(let $=j.length-1-3;$>=0;$-=4)if(j[$]>0){g=Math.ceil($/4/DEFAULT_FONT_SIZE);break}c.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),c.strokeText("A",0,DEFAULT_FONT_SIZE),j=c.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data,h=0;for(let $=0,_e=j.length;$<_e;$+=4)if(j[$]>0){h=DEFAULT_FONT_SIZE-Math.floor($/4/DEFAULT_FONT_SIZE);break}c.canvas.width=c.canvas.height=0;const _=h?h/(h+g):DEFAULT_FONT_ASCENT;return et(this,Vl).set(e,_),_},ft(As,jr),ft(As,Vl,new Map),ft(As,Gl,new Map),ft(As,Im,new WeakMap),ft(As,No,null),ft(As,ip,new Set),As);class XfaText{static textContent(e){const s=[],o={items:s,styles:Object.create(null)};function c(d){var j;if(!d)return;let h=null;const g=d.name;if(g==="#text")h=d.value;else if(XfaText.shouldBuildText(g))(j=d==null?void 0:d.attributes)!=null&&j.textContent?h=d.attributes.textContent:d.value&&(h=d.value);else return;if(h!==null&&s.push({str:h}),!!d.children)for(const _ of d.children)c(_)}return c(e),o}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=isNodeJS?NodeCanvasFactory:DOMCanvasFactory,DefaultCMapReaderFactory=isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory,DefaultFilterFactory=isNodeJS?NodeFilterFactory:DOMFilterFactory,DefaultStandardFontDataFactory=isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory;function getDocument(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const e=new PDFDocumentLoadingTask,{docId:s}=e,o=i.url?getUrlProp(i.url):null,c=i.data?getDataProp(i.data):null,d=i.httpHeaders||null,h=i.withCredentials===!0,g=i.password??null,j=i.range instanceof PDFDataRangeTransport$1?i.range:null,_=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let $=i.worker instanceof PDFWorker?i.worker:null;const _e=i.verbosity,st=typeof i.docBaseUrl=="string"&&!isDataScheme(i.docBaseUrl)?i.docBaseUrl:null,rt=typeof i.cMapUrl=="string"?i.cMapUrl:null,it=i.cMapPacked!==!1,nt=i.CMapReaderFactory||DefaultCMapReaderFactory,lt=typeof i.standardFontDataUrl=="string"?i.standardFontDataUrl:null,ot=i.StandardFontDataFactory||DefaultStandardFontDataFactory,at=i.stopAtErrors!==!0,ct=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,ut=i.isEvalSupported!==!1,ht=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!isNodeJS,mt=typeof i.isChrome=="boolean"?i.isChrome:!util_FeatureTest.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),xt=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,Et=typeof i.disableFontFace=="boolean"?i.disableFontFace:isNodeJS,Tt=i.fontExtraProperties===!0,St=i.enableXfa===!0,gt=i.ownerDocument||globalThis.document,Ct=i.disableRange===!0,At=i.disableStream===!0,Rt=i.disableAutoFetch===!0,kt=i.pdfBug===!0,Mt=i.CanvasFactory||DefaultCanvasFactory,It=i.FilterFactory||DefaultFilterFactory,Nt=i.enableHWA===!0,Pt=j?j.length:i.length??NaN,Lt=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!isNodeJS&&!Et,Bt=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:nt===DOMCMapReaderFactory&&ot===DOMStandardFontDataFactory&&rt&&lt&&isValidFetchUrl(rt,document.baseURI)&&isValidFetchUrl(lt,document.baseURI);i.canvasFactory&&deprecated("`canvasFactory`-instance option, please use `CanvasFactory` instead."),i.filterFactory&&deprecated("`filterFactory`-instance option, please use `FilterFactory` instead.");const Dt=null;setVerbosityLevel(_e);const Ht={canvasFactory:new Mt({ownerDocument:gt,enableHWA:Nt}),filterFactory:new It({docId:s,ownerDocument:gt}),cMapReaderFactory:Bt?null:new nt({baseUrl:rt,isCompressed:it}),standardFontDataFactory:Bt?null:new ot({baseUrl:lt})};if(!$){const Xt={verbosity:_e,port:GlobalWorkerOptions.workerPort};$=Xt.port?PDFWorker.fromPort(Xt):new PDFWorker(Xt),e._worker=$}const Gt={docId:s,apiVersion:"4.8.69",data:c,password:g,disableAutoFetch:Rt,rangeChunkSize:_,length:Pt,docBaseUrl:st,enableXfa:St,evaluatorOptions:{maxImageSize:ct,disableFontFace:Et,ignoreErrors:at,isEvalSupported:ut,isOffscreenCanvasSupported:ht,isChrome:mt,canvasMaxAreaInBytes:xt,fontExtraProperties:Tt,useSystemFonts:Lt,cMapUrl:Bt?rt:null,standardFontDataUrl:Bt?lt:null}},rs={disableFontFace:Et,fontExtraProperties:Tt,ownerDocument:gt,pdfBug:kt,styleElement:Dt,loadingParams:{disableAutoFetch:Rt,enableXfa:St}};return $.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if($.destroyed)throw new Error("Worker was destroyed");const Xt=$.messageHandler.sendWithPromise("GetDocRequest",Gt,c?[c.buffer]:null);let $t;if(j)$t=new PDFDataTransportStream(j,{disableRange:Ct,disableStream:At});else if(!c){if(!o)throw new Error("getDocument - no `url` parameter provided.");let Zt;isNodeJS?Zt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&isValidFetchUrl(o)?PDFFetchStream:PDFNodeStream:Zt=isValidFetchUrl(o)?PDFFetchStream:PDFNetworkStream,$t=new Zt({url:o,length:Pt,httpHeaders:d,withCredentials:h,rangeChunkSize:_,disableRange:Ct,disableStream:At})}return Xt.then(Zt=>{if(e.destroyed)throw new Error("Loading aborted");if($.destroyed)throw new Error("Worker was destroyed");const Jt=new MessageHandler(s,Zt,$.port),qt=new WorkerTransport(Jt,e,$t,rs,Ht);e._transport=qt,Jt.send("Ready",null)})}).catch(e._capability.reject),e}function getUrlProp(i){if(i instanceof URL)return i.href;try{return new URL(i,window.location).href}catch{if(isNodeJS&&typeof i=="string")return i}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(i){if(isNodeJS&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return stringToBytes(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i==null?void 0:i.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function isRefProxy(i){return typeof i=="object"&&Number.isInteger(i==null?void 0:i.num)&&i.num>=0&&Number.isInteger(i==null?void 0:i.gen)&&i.gen>=0}var Zx;const _g=class _g{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${$s(_g,Zx)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,s,o;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((s=this._transport)==null?void 0:s.destroy())}catch(c){throw(o=this._worker)!=null&&o.port&&delete this._worker._pendingDestroy,c}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Zx=new WeakMap,ft(_g,Zx,0);let PDFDocumentLoadingTask=_g,PDFDataRangeTransport$1=class{constructor(e,s,o=!1,c=null){this.length=e,this.initialData=s,this.progressiveDone=o,this.contentDispositionFilename=c,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,s){for(const o of this._rangeListeners)o(e,s)}onDataProgress(e,s){this._readyCapability.promise.then(()=>{for(const o of this._progressListeners)o(e,s)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const s of this._progressiveReadListeners)s(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,s){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class PDFDocumentProxy{constructor(e,s){this._pdfInfo=e,this._transport=s}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:s}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(s)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var To,Mn,Ar,Cu,Rx;class PDFPageProxy{constructor(e,s,o,c=!1){ft(this,Ar);ft(this,To,null);ft(this,Mn,!1);this._pageIndex=e,this._pageInfo=s,this._transport=o,this._stats=c?new StatTimer:null,this._pdfBug=c,this.commonObjs=o.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:s=this.rotate,offsetX:o=0,offsetY:c=0,dontFlip:d=!1}={}){return new PageViewport({viewBox:this.view,scale:e,rotation:s,offsetX:o,offsetY:c,dontFlip:d})}getAnnotations({intent:e="display"}={}){const{renderingIntent:s}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,s)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:s,intent:o="display",annotationMode:c=AnnotationMode.ENABLE,transform:d=null,background:h=null,optionalContentConfigPromise:g=null,annotationCanvasMap:j=null,pageColors:_=null,printAnnotationStorage:$=null,isEditing:_e=!1}){var ut,ht;(ut=this._stats)==null||ut.time("Overall");const st=this._transport.getRenderingIntent(o,c,$,_e),{renderingIntent:rt,cacheKey:it}=st;dt(this,Mn,!1),pt(this,Ar,Rx).call(this),g||(g=this._transport.getOptionalContentConfig(rt));let nt=this._intentStates.get(it);nt||(nt=Object.create(null),this._intentStates.set(it,nt)),nt.streamReaderCancelTimeout&&(clearTimeout(nt.streamReaderCancelTimeout),nt.streamReaderCancelTimeout=null);const lt=!!(rt&RenderingIntentFlag.PRINT);nt.displayReadyCapability||(nt.displayReadyCapability=Promise.withResolvers(),nt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ht=this._stats)==null||ht.time("Page Request"),this._pumpOperatorList(st));const ot=mt=>{var xt;nt.renderTasks.delete(at),(this._maybeCleanupAfterRender||lt)&&dt(this,Mn,!0),pt(this,Ar,Cu).call(this,!lt),mt?(at.capability.reject(mt),this._abortOperatorList({intentState:nt,reason:mt instanceof Error?mt:new Error(mt)})):at.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(xt=globalThis.Stats)!=null&&xt.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},at=new InternalRenderTask({callback:ot,params:{canvasContext:e,viewport:s,transform:d,background:h},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:j,operatorList:nt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!lt,pdfBug:this._pdfBug,pageColors:_});(nt.renderTasks||(nt.renderTasks=new Set)).add(at);const ct=at.task;return Promise.all([nt.displayReadyCapability.promise,g]).then(([mt,xt])=>{var Et;if(this.destroyed){ot();return}if((Et=this._stats)==null||Et.time("Rendering"),!(xt.renderingIntent&rt))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");at.initializeGraphics({transparency:mt,optionalContentConfig:xt}),at.operatorListChanged()}).catch(ot),ct}getOperatorList({intent:e="display",annotationMode:s=AnnotationMode.ENABLE,printAnnotationStorage:o=null,isEditing:c=!1}={}){var _;function d(){g.operatorList.lastChunk&&(g.opListReadCapability.resolve(g.operatorList),g.renderTasks.delete(j))}const h=this._transport.getRenderingIntent(e,s,o,c,!0);let g=this._intentStates.get(h.cacheKey);g||(g=Object.create(null),this._intentStates.set(h.cacheKey,g));let j;return g.opListReadCapability||(j=Object.create(null),j.operatorListChanged=d,g.opListReadCapability=Promise.withResolvers(),(g.renderTasks||(g.renderTasks=new Set)).add(j),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(_=this._stats)==null||_.time("Page Request"),this._pumpOperatorList(h)),g.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:s=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:s===!0},{highWaterMark:100,size(c){return c.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(o=>XfaText.textContent(o));const s=this.streamTextContent(e);return new Promise(function(o,c){function d(){h.read().then(function({value:j,done:_}){if(_){o(g);return}g.lang??(g.lang=j.lang),Object.assign(g.styles,j.styles),g.items.push(...j.items),d()},c)}const h=s.getReader(),g={items:[],styles:Object.create(null),lang:null};d()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const s of this._intentStates.values())if(this._abortOperatorList({intentState:s,reason:new Error("Page was destroyed."),force:!0}),!s.opListReadCapability)for(const o of s.renderTasks)e.push(o.completed),o.cancel();return this.objs.clear(),dt(this,Mn,!1),pt(this,Ar,Rx).call(this),Promise.all(e)}cleanup(e=!1){dt(this,Mn,!0);const s=pt(this,Ar,Cu).call(this,!1);return e&&s&&this._stats&&(this._stats=new StatTimer),s}_startRenderPage(e,s){var c,d;const o=this._intentStates.get(s);o&&((c=this._stats)==null||c.timeEnd("Page Request"),(d=o.displayReadyCapability)==null||d.resolve(e))}_renderPageChunk(e,s){for(let o=0,c=e.length;o<c;o++)s.operatorList.fnArray.push(e.fnArray[o]),s.operatorList.argsArray.push(e.argsArray[o]);s.operatorList.lastChunk=e.lastChunk,s.operatorList.separateAnnots=e.separateAnnots;for(const o of s.renderTasks)o.operatorListChanged();e.lastChunk&&pt(this,Ar,Cu).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:s,annotationStorageSerializable:o,modifiedIds:c}){const{map:d,transfer:h}=o,j=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:s,annotationStorage:d,modifiedIds:c},h).getReader(),_=this._intentStates.get(s);_.streamReader=j;const $=()=>{j.read().then(({value:_e,done:st})=>{if(st){_.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(_e,_),$())},_e=>{if(_.streamReader=null,!this._transport.destroyed){if(_.operatorList){_.operatorList.lastChunk=!0;for(const st of _.renderTasks)st.operatorListChanged();pt(this,Ar,Cu).call(this,!0)}if(_.displayReadyCapability)_.displayReadyCapability.reject(_e);else if(_.opListReadCapability)_.opListReadCapability.reject(_e);else throw _e}})};$()}_abortOperatorList({intentState:e,reason:s,force:o=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!o){if(e.renderTasks.size>0)return;if(s instanceof RenderingCancelledException){let c=RENDERING_CANCELLED_TIMEOUT;s.extraDelay>0&&s.extraDelay<1e3&&(c+=s.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:s,force:!0})},c);return}}if(e.streamReader.cancel(new AbortException(s.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[c,d]of this._intentStates)if(d===e){this._intentStates.delete(c);break}this.cleanup()}}}get stats(){return this._stats}}To=new WeakMap,Mn=new WeakMap,Ar=new WeakSet,Cu=function(e=!1){if(pt(this,Ar,Rx).call(this),!et(this,Mn)||this.destroyed)return!1;if(e)return dt(this,To,setTimeout(()=>{dt(this,To,null),pt(this,Ar,Cu).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:s,operatorList:o}of this._intentStates.values())if(s.size>0||!o.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),dt(this,Mn,!1),!0},Rx=function(){et(this,To)&&(clearTimeout(et(this,To)),dt(this,To,null))};var Ln,ev;class LoopbackPort{constructor(){ft(this,Ln,new Map);ft(this,ev,Promise.resolve())}postMessage(e,s){const o={data:structuredClone(e,s?{transfer:s}:null)};et(this,ev).then(()=>{for(const[c]of et(this,Ln))c.call(this,o)})}addEventListener(e,s,o=null){let c=null;if((o==null?void 0:o.signal)instanceof AbortSignal){const{signal:d}=o;if(d.aborted){warn("LoopbackPort - cannot use an `aborted` signal.");return}const h=()=>this.removeEventListener(e,s);c=()=>d.removeEventListener("abort",h),d.addEventListener("abort",h)}et(this,Ln).set(s,c)}removeEventListener(e,s){const o=et(this,Ln).get(s);o==null||o(),et(this,Ln).delete(s)}terminate(){for(const[,e]of et(this,Ln))e==null||e();et(this,Ln).clear()}}Ln=new WeakMap,ev=new WeakMap;var tv,Wl,Kl,op,_x,ap,Sx;const bs=class bs{constructor({name:e=null,port:s=null,verbosity:o=getVerbosityLevel()}={}){ft(this,op);var c;if(this.name=e,this.destroyed=!1,this.verbosity=o,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,s){if((c=et(bs,Kl))!=null&&c.has(s))throw new Error("Cannot use more than one PDFWorker per port.");(et(bs,Kl)||dt(bs,Kl,new WeakMap)).set(s,this),this._initializeFromPort(s);return}this._initialize()}get promise(){return isNodeJS?Promise.all([NodePackages.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),pt(this,op,_x).call(this)}_initialize(){if(et(bs,Wl)||et(bs,ap,Sx)){this._setupFakeWorker();return}let{workerSrc:e}=bs;try{bs._isSameOrigin(window.location.href,e)||(e=bs._createCDNWrapper(new URL(e,window.location).href));const s=new Worker(e,{type:"module"}),o=new MessageHandler("main","worker",s),c=()=>{d.abort(),o.destroy(),s.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},d=new AbortController;s.addEventListener("error",()=>{this._webWorker||c()},{signal:d.signal}),o.on("test",g=>{if(d.abort(),this.destroyed||!g){c();return}this._messageHandler=o,this._port=s,this._webWorker=s,pt(this,op,_x).call(this)}),o.on("ready",g=>{if(d.abort(),this.destroyed){c();return}try{h()}catch{this._setupFakeWorker()}});const h=()=>{const g=new Uint8Array;o.send("test",g,[g.buffer])};h();return}catch{info("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){et(bs,Wl)||(warn("Setting up fake worker."),dt(bs,Wl,!0)),bs._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const s=new LoopbackPort;this._port=s;const o=`fake${$s(bs,tv)._++}`,c=new MessageHandler(o+"_worker",o,s);e.setup(c,s),this._messageHandler=new MessageHandler(o,o+"_worker",s),pt(this,op,_x).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=et(bs,Kl))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var o;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const s=(o=et(this,Kl))==null?void 0:o.get(e.port);if(s){if(s._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return s}return new bs(e)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>et(this,ap,Sx)?et(this,ap,Sx):(await import(this.workerSrc)).WorkerMessageHandler)())}};tv=new WeakMap,Wl=new WeakMap,Kl=new WeakMap,op=new WeakSet,_x=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},ap=new WeakSet,Sx=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},ft(bs,ap),ft(bs,tv,0),ft(bs,Wl,!1),ft(bs,Kl),isNodeJS&&(dt(bs,Wl,!0),GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),bs._isSameOrigin=(e,s)=>{let o;try{if(o=new URL(e),!o.origin||o.origin==="null")return!1}catch{return!1}const c=new URL(s,o);return o.origin===c.origin},bs._createCDNWrapper=e=>{const s=`await import("${e}");`;return URL.createObjectURL(new Blob([s],{type:"text/javascript"}))};let PDFWorker=bs;var $n,mn,lp,cp,fn,Xl,Up;class WorkerTransport{constructor(e,s,o,c,d){ft(this,Xl);ft(this,$n,new Map);ft(this,mn,new Map);ft(this,lp,new Map);ft(this,cp,new Map);ft(this,fn,null);this.messageHandler=e,this.loadingTask=s,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:c.ownerDocument,styleElement:c.styleElement}),this.loadingParams=c.loadingParams,this._params=c,this.canvasFactory=d.canvasFactory,this.filterFactory=d.filterFactory,this.cMapReaderFactory=d.cMapReaderFactory,this.standardFontDataFactory=d.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=o,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent(e,s=AnnotationMode.ENABLE,o=null,c=!1,d=!1){let h=RenderingIntentFlag.DISPLAY,g=SerializableEmpty;switch(e){case"any":h=RenderingIntentFlag.ANY;break;case"display":break;case"print":h=RenderingIntentFlag.PRINT;break;default:warn(`getRenderingIntent - invalid intent: ${e}`)}const j=h&RenderingIntentFlag.PRINT&&o instanceof PrintAnnotationStorage?o:this.annotationStorage;switch(s){case AnnotationMode.DISABLE:h+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:h+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:h+=RenderingIntentFlag.ANNOTATIONS_STORAGE,g=j.serializable;break;default:warn(`getRenderingIntent - invalid annotationMode: ${s}`)}c&&(h+=RenderingIntentFlag.IS_EDITING),d&&(h+=RenderingIntentFlag.OPLIST);const{ids:_,hash:$}=j.modifiedIds,_e=[h,g.hash,$];return{renderingIntent:h,cacheKey:_e.join("_"),annotationStorageSerializable:g,modifiedIds:_}}destroy(){var o;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(o=et(this,fn))==null||o.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const c of et(this,mn).values())e.push(c._destroy());et(this,mn).clear(),et(this,lp).clear(),et(this,cp).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const s=this.messageHandler.sendWithPromise("Terminate",null);return e.push(s),Promise.all(e).then(()=>{var c;this.commonObjs.clear(),this.fontLoader.clear(),et(this,$n).clear(),this.filterFactory.destroy(),TextLayer$2.cleanup(),(c=this._networkStream)==null||c.cancelAllRequests(new AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:s}=this;e.on("GetReader",(o,c)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=d=>{this._lastProgress={loaded:d.loaded,total:d.total}},c.onPull=()=>{this._fullReader.read().then(function({value:d,done:h}){if(h){c.close();return}assert(d instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(d),1,[d])}).catch(d=>{c.error(d)})},c.onCancel=d=>{this._fullReader.cancel(d),c.ready.catch(h=>{if(!this.destroyed)throw h})}}),e.on("ReaderHeadersReady",async o=>{var g;await this._fullReader.headersReady;const{isStreamingSupported:c,isRangeSupported:d,contentLength:h}=this._fullReader;return(!c||!d)&&(this._lastProgress&&((g=s.onProgress)==null||g.call(s,this._lastProgress)),this._fullReader.onProgress=j=>{var _;(_=s.onProgress)==null||_.call(s,{loaded:j.loaded,total:j.total})}),{isStreamingSupported:c,isRangeSupported:d,contentLength:h}}),e.on("GetRangeReader",(o,c)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const d=this._networkStream.getRangeReader(o.begin,o.end);if(!d){c.close();return}c.onPull=()=>{d.read().then(function({value:h,done:g}){if(g){c.close();return}assert(h instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(h),1,[h])}).catch(h=>{c.error(h)})},c.onCancel=h=>{d.cancel(h),c.ready.catch(g=>{if(!this.destroyed)throw g})}}),e.on("GetDoc",({pdfInfo:o})=>{this._numPages=o.numPages,this._htmlForXfa=o.htmlForXfa,delete o.htmlForXfa,s._capability.resolve(new PDFDocumentProxy(o,this))}),e.on("DocException",function(o){let c;switch(o.name){case"PasswordException":c=new PasswordException(o.message,o.code);break;case"InvalidPDFException":c=new InvalidPDFException(o.message);break;case"MissingPDFException":c=new MissingPDFException(o.message);break;case"UnexpectedResponseException":c=new UnexpectedResponseException(o.message,o.status);break;case"UnknownErrorException":c=new UnknownErrorException(o.message,o.details);break;default:unreachable("DocException - expected a valid Error.")}s._capability.reject(c)}),e.on("PasswordRequest",o=>{if(dt(this,fn,Promise.withResolvers()),s.onPassword){const c=d=>{d instanceof Error?et(this,fn).reject(d):et(this,fn).resolve({password:d})};try{s.onPassword(c,o.code)}catch(d){et(this,fn).reject(d)}}else et(this,fn).reject(new PasswordException(o.message,o.code));return et(this,fn).promise}),e.on("DataLoaded",o=>{var c;(c=s.onProgress)==null||c.call(s,{loaded:o.length,total:o.length}),this.downloadInfoCapability.resolve(o)}),e.on("StartRenderPage",o=>{if(this.destroyed)return;et(this,mn).get(o.pageIndex)._startRenderPage(o.transparency,o.cacheKey)}),e.on("commonobj",([o,c,d])=>{var h;if(this.destroyed||this.commonObjs.has(o))return null;switch(c){case"Font":const{disableFontFace:g,fontExtraProperties:j,pdfBug:_}=this._params;if("error"in d){const rt=d.error;warn(`Error during font loading: ${rt}`),this.commonObjs.resolve(o,rt);break}const $=_&&((h=globalThis.FontInspector)!=null&&h.enabled)?(rt,it)=>globalThis.FontInspector.fontAdded(rt,it):null,_e=new FontFaceObject(d,{disableFontFace:g,inspectFont:$});this.fontLoader.bind(_e).catch(()=>e.sendWithPromise("FontFallback",{id:o})).finally(()=>{!j&&_e.data&&(_e.data=null),this.commonObjs.resolve(o,_e)});break;case"CopyLocalImage":const{imageRef:st}=d;assert(st,"The imageRef must be defined.");for(const rt of et(this,mn).values())for(const[,it]of rt.objs)if((it==null?void 0:it.ref)===st)return it.dataLen?(this.commonObjs.resolve(o,structuredClone(it)),it.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(o,d);break;default:throw new Error(`Got unknown common object type ${c}`)}return null}),e.on("obj",([o,c,d,h])=>{var j;if(this.destroyed)return;const g=et(this,mn).get(c);if(!g.objs.has(o)){if(g._intentStates.size===0){(j=h==null?void 0:h.bitmap)==null||j.close();return}switch(d){case"Image":g.objs.resolve(o,h),(h==null?void 0:h.dataLen)>MAX_IMAGE_SIZE_TO_CACHE&&(g._maybeCleanupAfterRender=!0);break;case"Pattern":g.objs.resolve(o,h);break;default:throw new Error(`Got unknown object type ${d}`)}}}),e.on("DocProgress",o=>{var c;this.destroyed||(c=s.onProgress)==null||c.call(s,{loaded:o.loaded,total:o.total})}),e.on("FetchBuiltInCMap",async o=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(o)}),e.on("FetchStandardFontData",async o=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(o)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var o;this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:s}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((o=this._fullReader)==null?void 0:o.filename)??null},s).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const s=e-1,o=et(this,lp).get(s);if(o)return o;const c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:s}).then(d=>{if(this.destroyed)throw new Error("Transport destroyed");d.refStr&&et(this,cp).set(d.refStr,e);const h=new PDFPageProxy(s,d,this,this._params.pdfBug);return et(this,mn).set(s,h),h});return et(this,lp).set(s,c),c}getPageIndex(e){return isRefProxy(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,s){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:s})}getFieldObjects(){return pt(this,Xl,Up).call(this,"GetFieldObjects")}hasJSActions(){return pt(this,Xl,Up).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return pt(this,Xl,Up).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return pt(this,Xl,Up).call(this,"GetOptionalContentConfig").then(s=>new OptionalContentConfig(s,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",s=et(this,$n).get(e);if(s)return s;const o=this.messageHandler.sendWithPromise(e,null).then(c=>{var d,h;return{info:c[0],metadata:c[1]?new Metadata(c[1]):null,contentDispositionFilename:((d=this._fullReader)==null?void 0:d.filename)??null,contentLength:((h=this._fullReader)==null?void 0:h.contentLength)??null}});return et(this,$n).set(e,o),o}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const s of et(this,mn).values())if(!s.cleanup())throw new Error(`startCleanup: Page ${s.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),et(this,$n).clear(),this.filterFactory.destroy(!0),TextLayer$2.cleanup()}}cachedPageNumber(e){if(!isRefProxy(e))return null;const s=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return et(this,cp).get(s)??null}}$n=new WeakMap,mn=new WeakMap,lp=new WeakMap,cp=new WeakMap,fn=new WeakMap,Xl=new WeakSet,Up=function(e,s=null){const o=et(this,$n).get(e);if(o)return o;const c=this.messageHandler.sendWithPromise(e,s);return et(this,$n).set(e,c),c};const INITIAL_DATA=Symbol("INITIAL_DATA");var zr,Mm,Mv;class PDFObjects{constructor(){ft(this,Mm);ft(this,zr,Object.create(null))}get(e,s=null){if(s){const c=pt(this,Mm,Mv).call(this,e);return c.promise.then(()=>s(c.data)),null}const o=et(this,zr)[e];if(!o||o.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return o.data}has(e){const s=et(this,zr)[e];return!!s&&s.data!==INITIAL_DATA}resolve(e,s=null){const o=pt(this,Mm,Mv).call(this,e);o.data=s,o.resolve()}clear(){var e;for(const s in et(this,zr)){const{data:o}=et(this,zr)[s];(e=o==null?void 0:o.bitmap)==null||e.close()}dt(this,zr,Object.create(null))}*[Symbol.iterator](){for(const e in et(this,zr)){const{data:s}=et(this,zr)[e];s!==INITIAL_DATA&&(yield[e,s])}}}zr=new WeakMap,Mm=new WeakSet,Mv=function(e){var s;return(s=et(this,zr))[e]||(s[e]={...Promise.withResolvers(),data:INITIAL_DATA})};var Po;class RenderTask{constructor(e){ft(this,Po,null);dt(this,Po,e),this.onContinue=null}get promise(){return et(this,Po).capability.promise}cancel(e=0){et(this,Po).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=et(this,Po).operatorList;if(!e)return!1;const{annotationCanvasMap:s}=et(this,Po);return e.form||e.canvas&&(s==null?void 0:s.size)>0}}Po=new WeakMap;var ko,Yl;const Yo=class Yo{constructor({callback:e,params:s,objs:o,commonObjs:c,annotationCanvasMap:d,operatorList:h,pageIndex:g,canvasFactory:j,filterFactory:_,useRequestAnimationFrame:$=!1,pdfBug:_e=!1,pageColors:st=null}){ft(this,ko,null);this.callback=e,this.params=s,this.objs=o,this.commonObjs=c,this.annotationCanvasMap=d,this.operatorListIdx=null,this.operatorList=h,this._pageIndex=g,this.canvasFactory=j,this.filterFactory=_,this._pdfBug=_e,this.pageColors=st,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=$===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=s.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:s}){var g,j;if(this.cancelled)return;if(this._canvas){if(et(Yo,Yl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");et(Yo,Yl).add(this._canvas)}this._pdfBug&&((g=globalThis.StepperManager)!=null&&g.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:o,viewport:c,transform:d,background:h}=this.params;this.gfx=new CanvasGraphics(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:s},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:d,viewport:c,transparency:e,background:h}),this.operatorListIdx=0,this.graphicsReady=!0,(j=this.graphicsReadyCallback)==null||j.call(this)}cancel(e=null,s=0){var o;this.running=!1,this.cancelled=!0,(o=this.gfx)==null||o.endDrawing(),et(this,ko)&&(window.cancelAnimationFrame(et(this,ko)),dt(this,ko,null)),et(Yo,Yl).delete(this._canvas),this.callback(e||new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,s))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?dt(this,ko,window.requestAnimationFrame(()=>{dt(this,ko,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),et(Yo,Yl).delete(this._canvas),this.callback())))}};ko=new WeakMap,Yl=new WeakMap,ft(Yo,Yl,new WeakSet);let InternalRenderTask=Yo;const version="4.8.69",build="3634dab10";function makeColorComp(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function scaleAndClamp(i){return Math.max(0,Math.min(255,255*i))}class ColorConverters{static CMYK_G([e,s,o,c]){return["G",1-Math.min(1,.3*e+.59*o+.11*s+c)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=scaleAndClamp(e),[e,e,e]}static G_HTML([e]){const s=makeColorComp(e);return`#${s}${s}${s}`}static RGB_G([e,s,o]){return["G",.3*e+.59*s+.11*o]}static RGB_rgb(e){return e.map(scaleAndClamp)}static RGB_HTML(e){return`#${e.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,s,o,c]){return["RGB",1-Math.min(1,e+c),1-Math.min(1,o+c),1-Math.min(1,s+c)]}static CMYK_rgb([e,s,o,c]){return[scaleAndClamp(1-Math.min(1,e+c)),scaleAndClamp(1-Math.min(1,o+c)),scaleAndClamp(1-Math.min(1,s+c))]}static CMYK_HTML(e){const s=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(s)}static RGB_CMYK([e,s,o]){const c=1-e,d=1-s,h=1-o,g=Math.min(c,d,h);return["CMYK",c,d,h,g]}}class BaseSVGFactory{create(e,s,o=!1){if(e<=0||s<=0)throw new Error("Invalid SVG dimensions");const c=this._createSVG("svg:svg");return c.setAttribute("version","1.1"),o||(c.setAttribute("width",`${e}px`),c.setAttribute("height",`${s}px`)),c.setAttribute("preserveAspectRatio","none"),c.setAttribute("viewBox",`0 0 ${e} ${s}`),c}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){unreachable("Abstract method `_createSVG` called.")}}class DOMSVGFactory extends BaseSVGFactory{_createSVG(e){return document.createElementNS(SVG_NS,e)}}class XfaLayer{static setupStorage(e,s,o,c,d){const h=c.getValue(s,{value:null});switch(o.name){case"textarea":if(h.value!==null&&(e.textContent=h.value),d==="print")break;e.addEventListener("input",g=>{c.setValue(s,{value:g.target.value})});break;case"input":if(o.attributes.type==="radio"||o.attributes.type==="checkbox"){if(h.value===o.attributes.xfaOn?e.setAttribute("checked",!0):h.value===o.attributes.xfaOff&&e.removeAttribute("checked"),d==="print")break;e.addEventListener("change",g=>{c.setValue(s,{value:g.target.checked?g.target.getAttribute("xfaOn"):g.target.getAttribute("xfaOff")})})}else{if(h.value!==null&&e.setAttribute("value",h.value),d==="print")break;e.addEventListener("input",g=>{c.setValue(s,{value:g.target.value})})}break;case"select":if(h.value!==null){e.setAttribute("value",h.value);for(const g of o.children)g.attributes.value===h.value?g.attributes.selected=!0:g.attributes.hasOwnProperty("selected")&&delete g.attributes.selected}e.addEventListener("input",g=>{const j=g.target.options,_=j.selectedIndex===-1?"":j[j.selectedIndex].value;c.setValue(s,{value:_})});break}}static setAttributes({html:e,element:s,storage:o=null,intent:c,linkService:d}){const{attributes:h}=s,g=e instanceof HTMLAnchorElement;h.type==="radio"&&(h.name=`${h.name}-${c}`);for(const[j,_]of Object.entries(h))if(_!=null)switch(j){case"class":_.length&&e.setAttribute(j,_.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",_);break;case"style":Object.assign(e.style,_);break;case"textContent":e.textContent=_;break;default:(!g||j!=="href"&&j!=="newWindow")&&e.setAttribute(j,_)}g&&d.addLinkAttributes(e,h.href,h.newWindow),o&&h.dataId&&this.setupStorage(e,h.dataId,s,o)}static render(e){var _e,st;const s=e.annotationStorage,o=e.linkService,c=e.xfaHtml,d=e.intent||"display",h=document.createElement(c.name);c.attributes&&this.setAttributes({html:h,element:c,intent:d,linkService:o});const g=d!=="richText",j=e.div;if(j.append(h),e.viewport){const rt=`matrix(${e.viewport.transform.join(",")})`;j.style.transform=rt}g&&j.setAttribute("class","xfaLayer xfaFont");const _=[];if(c.children.length===0){if(c.value){const rt=document.createTextNode(c.value);h.append(rt),g&&XfaText.shouldBuildText(c.name)&&_.push(rt)}return{textDivs:_}}const $=[[c,-1,h]];for(;$.length>0;){const[rt,it,nt]=$.at(-1);if(it+1===rt.children.length){$.pop();continue}const lt=rt.children[++$.at(-1)[1]];if(lt===null)continue;const{name:ot}=lt;if(ot==="#text"){const ct=document.createTextNode(lt.value);_.push(ct),nt.append(ct);continue}const at=(_e=lt==null?void 0:lt.attributes)!=null&&_e.xmlns?document.createElementNS(lt.attributes.xmlns,ot):document.createElement(ot);if(nt.append(at),lt.attributes&&this.setAttributes({html:at,element:lt,storage:s,intent:d,linkService:o}),((st=lt.children)==null?void 0:st.length)>0)$.push([lt,-1,at]);else if(lt.value){const ct=document.createTextNode(lt.value);g&&XfaText.shouldBuildText(ot)&&_.push(ct),at.append(ct)}}for(const rt of j.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))rt.setAttribute("readOnly",!0);return{textDivs:_}}static update(e){const s=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=s,e.div.hidden=!1}}const DEFAULT_TAB_INDEX=1e3,annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet;function getRectDims(i){return{width:i[2]-i[0],height:i[3]-i[1]}}class AnnotationElementFactory{static create(e){switch(e.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement(e);case AnnotationType.TEXT:return new TextAnnotationElement(e);case AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new TextWidgetAnnotationElement(e);case"Btn":return e.data.radioButton?new RadioButtonWidgetAnnotationElement(e):e.data.checkBox?new CheckboxWidgetAnnotationElement(e):new PushButtonWidgetAnnotationElement(e);case"Ch":return new ChoiceWidgetAnnotationElement(e);case"Sig":return new SignatureWidgetAnnotationElement(e)}return new WidgetAnnotationElement(e);case AnnotationType.POPUP:return new PopupAnnotationElement(e);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement(e);case AnnotationType.LINE:return new LineAnnotationElement(e);case AnnotationType.SQUARE:return new SquareAnnotationElement(e);case AnnotationType.CIRCLE:return new CircleAnnotationElement(e);case AnnotationType.POLYLINE:return new PolylineAnnotationElement(e);case AnnotationType.CARET:return new CaretAnnotationElement(e);case AnnotationType.INK:return new InkAnnotationElement(e);case AnnotationType.POLYGON:return new PolygonAnnotationElement(e);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(e);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(e);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(e);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(e);case AnnotationType.STAMP:return new StampAnnotationElement(e);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(e);default:return new AnnotationElement(e)}}}var Ql,up,dp,Lm,Lv;const dE=class dE{constructor(e,{isRenderable:s=!1,ignoreBorder:o=!1,createQuadrilaterals:c=!1}={}){ft(this,Lm);ft(this,Ql,null);ft(this,up,!1);ft(this,dp,null);this.isRenderable=s,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,s&&(this.container=this._createContainer(o)),c&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:s,richText:o}){return!!(e!=null&&e.str||s!=null&&s.str||o!=null&&o.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return dE._hasPopupData(this.data)}updateEdited(e){var o;if(!this.container)return;et(this,Ql)||dt(this,Ql,{rect:this.data.rect.slice(0)});const{rect:s}=e;s&&pt(this,Lm,Lv).call(this,s),(o=et(this,dp))==null||o.popup.updateEdited(e)}resetEdited(){var e;et(this,Ql)&&(pt(this,Lm,Lv).call(this,et(this,Ql).rect),(e=et(this,dp))==null||e.popup.resetEdited(),dt(this,Ql,null))}_createContainer(e){const{data:s,parent:{page:o,viewport:c}}=this,d=document.createElement("section");d.setAttribute("data-annotation-id",s.id),this instanceof WidgetAnnotationElement||(d.tabIndex=DEFAULT_TAB_INDEX);const{style:h}=d;if(h.zIndex=this.parent.zIndex++,s.alternativeText&&(d.title=s.alternativeText),s.noRotate&&d.classList.add("norotate"),!s.rect||this instanceof PopupAnnotationElement){const{rotation:nt}=s;return!s.hasOwnCanvas&&nt!==0&&this.setRotation(nt,d),d}const{width:g,height:j}=getRectDims(s.rect);if(!e&&s.borderStyle.width>0){h.borderWidth=`${s.borderStyle.width}px`;const nt=s.borderStyle.horizontalCornerRadius,lt=s.borderStyle.verticalCornerRadius;if(nt>0||lt>0){const at=`calc(${nt}px * var(--scale-factor)) / calc(${lt}px * var(--scale-factor))`;h.borderRadius=at}else if(this instanceof RadioButtonWidgetAnnotationElement){const at=`calc(${g}px * var(--scale-factor)) / calc(${j}px * var(--scale-factor))`;h.borderRadius=at}switch(s.borderStyle.style){case AnnotationBorderStyleType.SOLID:h.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:h.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:h.borderBottomStyle="solid";break}const ot=s.borderColor||null;ot?(dt(this,up,!0),h.borderColor=Util.makeHexColor(ot[0]|0,ot[1]|0,ot[2]|0)):h.borderWidth=0}const _=Util.normalizeRect([s.rect[0],o.view[3]-s.rect[1]+o.view[1],s.rect[2],o.view[3]-s.rect[3]+o.view[1]]),{pageWidth:$,pageHeight:_e,pageX:st,pageY:rt}=c.rawDims;h.left=`${100*(_[0]-st)/$}%`,h.top=`${100*(_[1]-rt)/_e}%`;const{rotation:it}=s;return s.hasOwnCanvas||it===0?(h.width=`${100*g/$}%`,h.height=`${100*j/_e}%`):this.setRotation(it,d),d}setRotation(e,s=this.container){if(!this.data.rect)return;const{pageWidth:o,pageHeight:c}=this.parent.viewport.rawDims,{width:d,height:h}=getRectDims(this.data.rect);let g,j;e%180===0?(g=100*d/o,j=100*h/c):(g=100*h/o,j=100*d/c),s.style.width=`${g}%`,s.style.height=`${j}%`,s.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(s,o,c)=>{const d=c.detail[s],h=d[0],g=d.slice(1);c.target.style[o]=ColorConverters[`${h}_HTML`](g),this.annotationStorage.setValue(this.data.id,{[o]:ColorConverters[`${h}_rgb`](g)})};return shadow(this,"_commonActions",{display:s=>{const{display:o}=s.detail,c=o%2===1;this.container.style.visibility=c?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:c,noPrint:o===1||o===2})},print:s=>{this.annotationStorage.setValue(this.data.id,{noPrint:!s.detail.print})},hidden:s=>{const{hidden:o}=s.detail;this.container.style.visibility=o?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:o,noView:o})},focus:s=>{setTimeout(()=>s.target.focus({preventScroll:!1}),0)},userName:s=>{s.target.title=s.detail.userName},readonly:s=>{s.target.disabled=s.detail.readonly},required:s=>{this._setRequired(s.target,s.detail.required)},bgColor:s=>{e("bgColor","backgroundColor",s)},fillColor:s=>{e("fillColor","backgroundColor",s)},fgColor:s=>{e("fgColor","color",s)},textColor:s=>{e("textColor","color",s)},borderColor:s=>{e("borderColor","borderColor",s)},strokeColor:s=>{e("strokeColor","borderColor",s)},rotation:s=>{const o=s.detail.rotation;this.setRotation(o),this.annotationStorage.setValue(this.data.id,{rotation:o})}})}_dispatchEventFromSandbox(e,s){const o=this._commonActions;for(const c of Object.keys(s.detail)){const d=e[c]||o[c];d==null||d(s)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const s=this.annotationStorage.getRawValue(this.data.id);if(!s)return;const o=this._commonActions;for(const[c,d]of Object.entries(s)){const h=o[c];if(h){const g={detail:{[c]:d},target:e};h(g),delete s[c]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[s,o,c,d]=this.data.rect.map(nt=>Math.fround(nt));if(e.length===8){const[nt,lt,ot,at]=e.subarray(2,6);if(c===nt&&d===lt&&s===ot&&o===at)return}const{style:h}=this.container;let g;if(et(this,up)){const{borderColor:nt,borderWidth:lt}=h;h.borderWidth=0,g=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${nt}" stroke-width="${lt}">`],this.container.classList.add("hasBorder")}const j=c-s,_=d-o,{svgFactory:$}=this,_e=$.createElement("svg");_e.classList.add("quadrilateralsContainer"),_e.setAttribute("width",0),_e.setAttribute("height",0);const st=$.createElement("defs");_e.append(st);const rt=$.createElement("clipPath"),it=`clippath_${this.data.id}`;rt.setAttribute("id",it),rt.setAttribute("clipPathUnits","objectBoundingBox"),st.append(rt);for(let nt=2,lt=e.length;nt<lt;nt+=8){const ot=e[nt],at=e[nt+1],ct=e[nt+2],ut=e[nt+3],ht=$.createElement("rect"),mt=(ct-s)/j,xt=(d-at)/_,Et=(ot-ct)/j,Tt=(at-ut)/_;ht.setAttribute("x",mt),ht.setAttribute("y",xt),ht.setAttribute("width",Et),ht.setAttribute("height",Tt),rt.append(ht),g==null||g.push(`<rect vector-effect="non-scaling-stroke" x="${mt}" y="${xt}" width="${Et}" height="${Tt}"/>`)}et(this,up)&&(g.push("</g></svg>')"),h.backgroundImage=g.join("")),this.container.append(_e),this.container.style.clipPath=`url(#${it})`}_createPopup(){const{data:e}=this,s=dt(this,dp,new PopupAnnotationElement({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(s.render())}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,s=null){const o=[];if(this._fieldObjects){const c=this._fieldObjects[e];if(c)for(const{page:d,id:h,exportValues:g}of c){if(d===-1||h===s)continue;const j=typeof g=="string"?g:null,_=document.querySelector(`[data-element-id="${h}"]`);if(_&&!GetElementsByNameSet.has(_)){warn(`_getElementsByName - element not allowed: ${h}`);continue}o.push({id:h,exportValue:j,domElement:_})}return o}for(const c of document.getElementsByName(e)){const{exportValue:d}=c,h=c.getAttribute("data-element-id");h!==s&&GetElementsByNameSet.has(c)&&o.push({id:h,exportValue:d,domElement:c})}return o}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const s of e)s.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:s}}=this;this.container.addEventListener("dblclick",()=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("switchannotationeditormode",{source:this,mode:e,editId:s})})}};Ql=new WeakMap,up=new WeakMap,dp=new WeakMap,Lm=new WeakSet,Lv=function(e){const{container:{style:s},data:{rect:o,rotation:c},parent:{viewport:{rawDims:{pageWidth:d,pageHeight:h,pageX:g,pageY:j}}}}=this;o==null||o.splice(0,4,...e);const{width:_,height:$}=getRectDims(e);s.left=`${100*(e[0]-g)/d}%`,s.top=`${100*(h-e[3]+j)/h}%`,c===0?(s.width=`${100*_/d}%`,s.height=`${100*$/h}%`):this.setRotation(c)};let AnnotationElement=dE;var yr,Go,ly,cy;class LinkAnnotationElement extends AnnotationElement{constructor(s,o=null){super(s,{isRenderable:!0,ignoreBorder:!!(o!=null&&o.ignoreBorder),createQuadrilaterals:!0});ft(this,yr);this.isTooltipOnly=s.data.isTooltipOnly}render(){const{data:s,linkService:o}=this,c=document.createElement("a");c.setAttribute("data-element-id",s.id);let d=!1;return s.url?(o.addLinkAttributes(c,s.url,s.newWindow),d=!0):s.action?(this._bindNamedAction(c,s.action),d=!0):s.attachment?(pt(this,yr,ly).call(this,c,s.attachment,s.attachmentDest),d=!0):s.setOCGState?(pt(this,yr,cy).call(this,c,s.setOCGState),d=!0):s.dest?(this._bindLink(c,s.dest),d=!0):(s.actions&&(s.actions.Action||s.actions["Mouse Up"]||s.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(c,s),d=!0),s.resetForm?(this._bindResetFormAction(c,s.resetForm),d=!0):this.isTooltipOnly&&!d&&(this._bindLink(c,""),d=!0)),this.container.classList.add("linkAnnotation"),d&&this.container.append(c),this.container}_bindLink(s,o){s.href=this.linkService.getDestinationHash(o),s.onclick=()=>(o&&this.linkService.goToDestination(o),!1),(o||o==="")&&pt(this,yr,Go).call(this)}_bindNamedAction(s,o){s.href=this.linkService.getAnchorUrl(""),s.onclick=()=>(this.linkService.executeNamedAction(o),!1),pt(this,yr,Go).call(this)}_bindJSAction(s,o){s.href=this.linkService.getAnchorUrl("");const c=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const d of Object.keys(o.actions)){const h=c.get(d);h&&(s[h]=()=>{var g;return(g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o.id,name:d}}),!1})}s.onclick||(s.onclick=()=>!1),pt(this,yr,Go).call(this)}_bindResetFormAction(s,o){const c=s.onclick;if(c||(s.href=this.linkService.getAnchorUrl("")),pt(this,yr,Go).call(this),!this._fieldObjects){warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),c||(s.onclick=()=>!1);return}s.onclick=()=>{var _e;c==null||c();const{fields:d,refs:h,include:g}=o,j=[];if(d.length!==0||h.length!==0){const st=new Set(h);for(const rt of d){const it=this._fieldObjects[rt]||[];for(const{id:nt}of it)st.add(nt)}for(const rt of Object.values(this._fieldObjects))for(const it of rt)st.has(it.id)===g&&j.push(it)}else for(const st of Object.values(this._fieldObjects))j.push(...st);const _=this.annotationStorage,$=[];for(const st of j){const{id:rt}=st;switch($.push(rt),st.type){case"text":{const nt=st.defaultValue||"";_.setValue(rt,{value:nt});break}case"checkbox":case"radiobutton":{const nt=st.defaultValue===st.exportValues;_.setValue(rt,{value:nt});break}case"combobox":case"listbox":{const nt=st.defaultValue||"";_.setValue(rt,{value:nt});break}default:continue}const it=document.querySelector(`[data-element-id="${rt}"]`);if(it){if(!GetElementsByNameSet.has(it)){warn(`_bindResetFormAction - element not allowed: ${rt}`);continue}}else continue;it.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((_e=this.linkService.eventBus)==null||_e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:$,name:"ResetForm"}})),!1}}}yr=new WeakSet,Go=function(){this.container.setAttribute("data-internal-link","")},ly=function(s,o,c=null){s.href=this.linkService.getAnchorUrl(""),o.description&&(s.title=o.description),s.onclick=()=>{var d;return(d=this.downloadManager)==null||d.openOrDownloadData(o.content,o.filename,c),!1},pt(this,yr,Go).call(this)},cy=function(s,o){s.href=this.linkService.getAnchorUrl(""),s.onclick=()=>(this.linkService.executeSetOCGState(o),!1),pt(this,yr,Go).call(this)};class TextAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas(e){var s;this.data.hasOwnCanvas&&(((s=e.previousSibling)==null?void 0:s.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return util_FeatureTest.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,s,o,c,d){o.includes("mouse")?e.addEventListener(o,h=>{var g;(g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:c,value:d(h),shift:h.shiftKey,modifier:this._getKeyModifier(h)}})}):e.addEventListener(o,h=>{var g;if(o==="blur"){if(!s.focused||!h.relatedTarget)return;s.focused=!1}else if(o==="focus"){if(s.focused)return;s.focused=!0}d&&((g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:c,value:d(h)}}))})}_setEventListeners(e,s,o,c){var d,h,g;for(const[j,_]of o)(_==="Action"||(d=this.data.actions)!=null&&d[_])&&((_==="Focus"||_==="Blur")&&(s||(s={focused:!1})),this._setEventListener(e,s,j,_,c),_==="Focus"&&!((h=this.data.actions)!=null&&h.Blur)?this._setEventListener(e,s,"blur","Blur",null):_==="Blur"&&!((g=this.data.actions)!=null&&g.Focus)&&this._setEventListener(e,s,"focus","Focus",null))}_setBackgroundColor(e){const s=this.data.backgroundColor||null;e.style.backgroundColor=s===null?"transparent":Util.makeHexColor(s[0],s[1],s[2])}_setTextStyle(e){const s=["left","center","right"],{fontColor:o}=this.data.defaultAppearanceData,c=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,d=e.style;let h;const g=2,j=_=>Math.round(10*_)/10;if(this.data.multiLine){const _=Math.abs(this.data.rect[3]-this.data.rect[1]-g),$=Math.round(_/(LINE_FACTOR*c))||1,_e=_/$;h=Math.min(c,j(_e/LINE_FACTOR))}else{const _=Math.abs(this.data.rect[3]-this.data.rect[1]-g);h=Math.min(c,j(_/LINE_FACTOR))}d.fontSize=`calc(${h}px * var(--scale-factor))`,d.color=Util.makeHexColor(o[0],o[1],o[2]),this.data.textAlignment!==null&&(d.textAlign=s[this.data.textAlignment])}_setRequired(e,s){s?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",s)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){const s=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:s})}setPropertyOnSiblings(e,s,o,c){const d=this.annotationStorage;for(const h of this._getElementsByName(e.name,e.id))h.domElement&&(h.domElement[s]=o),d.setValue(h.id,{[c]:o})}render(){var c,d;const e=this.annotationStorage,s=this.data.id;this.container.classList.add("textWidgetAnnotation");let o=null;if(this.renderForms){const h=e.getValue(s,{value:this.data.fieldValue});let g=h.value||"";const j=e.getValue(s,{charLimit:this.data.maxLen}).charLimit;j&&g.length>j&&(g=g.slice(0,j));let _=h.formattedValue||((c=this.data.textContent)==null?void 0:c.join(`
`))||null;_&&this.data.comb&&(_=_.replaceAll(/\s+/g,""));const $={userValue:g,formattedValue:_,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(o=document.createElement("textarea"),o.textContent=_??g,this.data.doNotScroll&&(o.style.overflowY="hidden")):(o=document.createElement("input"),o.type="text",o.setAttribute("value",_??g),this.data.doNotScroll&&(o.style.overflowX="hidden")),this.data.hasOwnCanvas&&(o.hidden=!0),GetElementsByNameSet.add(o),o.setAttribute("data-element-id",s),o.disabled=this.data.readOnly,o.name=this.data.fieldName,o.tabIndex=DEFAULT_TAB_INDEX,this._setRequired(o,this.data.required),j&&(o.maxLength=j),o.addEventListener("input",st=>{e.setValue(s,{value:st.target.value}),this.setPropertyOnSiblings(o,"value",st.target.value,"value"),$.formattedValue=null}),o.addEventListener("resetform",st=>{const rt=this.data.defaultFieldValue??"";o.value=$.userValue=rt,$.formattedValue=null});let _e=st=>{const{formattedValue:rt}=$;rt!=null&&(st.target.value=rt),st.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){o.addEventListener("focus",rt=>{var nt;if($.focused)return;const{target:it}=rt;$.userValue&&(it.value=$.userValue),$.lastCommittedValue=it.value,$.commitKey=1,(nt=this.data.actions)!=null&&nt.Focus||($.focused=!0)}),o.addEventListener("updatefromsandbox",rt=>{this.showElementAndHideCanvas(rt.target);const it={value(nt){$.userValue=nt.detail.value??"",e.setValue(s,{value:$.userValue.toString()}),nt.target.value=$.userValue},formattedValue(nt){const{formattedValue:lt}=nt.detail;$.formattedValue=lt,lt!=null&&nt.target!==document.activeElement&&(nt.target.value=lt),e.setValue(s,{formattedValue:lt})},selRange(nt){nt.target.setSelectionRange(...nt.detail.selRange)},charLimit:nt=>{var ct;const{charLimit:lt}=nt.detail,{target:ot}=nt;if(lt===0){ot.removeAttribute("maxLength");return}ot.setAttribute("maxLength",lt);let at=$.userValue;!at||at.length<=lt||(at=at.slice(0,lt),ot.value=$.userValue=at,e.setValue(s,{value:at}),(ct=this.linkService.eventBus)==null||ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:at,willCommit:!0,commitKey:1,selStart:ot.selectionStart,selEnd:ot.selectionEnd}}))}};this._dispatchEventFromSandbox(it,rt)}),o.addEventListener("keydown",rt=>{var lt;$.commitKey=1;let it=-1;if(rt.key==="Escape"?it=0:rt.key==="Enter"&&!this.data.multiLine?it=2:rt.key==="Tab"&&($.commitKey=3),it===-1)return;const{value:nt}=rt.target;$.lastCommittedValue!==nt&&($.lastCommittedValue=nt,$.userValue=nt,(lt=this.linkService.eventBus)==null||lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:nt,willCommit:!0,commitKey:it,selStart:rt.target.selectionStart,selEnd:rt.target.selectionEnd}}))});const st=_e;_e=null,o.addEventListener("blur",rt=>{var nt,lt;if(!$.focused||!rt.relatedTarget)return;(nt=this.data.actions)!=null&&nt.Blur||($.focused=!1);const{value:it}=rt.target;$.userValue=it,$.lastCommittedValue!==it&&((lt=this.linkService.eventBus)==null||lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:it,willCommit:!0,commitKey:$.commitKey,selStart:rt.target.selectionStart,selEnd:rt.target.selectionEnd}})),st(rt)}),(d=this.data.actions)!=null&&d.Keystroke&&o.addEventListener("beforeinput",rt=>{var ht;$.lastCommittedValue=null;const{data:it,target:nt}=rt,{value:lt,selectionStart:ot,selectionEnd:at}=nt;let ct=ot,ut=at;switch(rt.inputType){case"deleteWordBackward":{const mt=lt.substring(0,ot).match(/\w*[^\w]*$/);mt&&(ct-=mt[0].length);break}case"deleteWordForward":{const mt=lt.substring(ot).match(/^[^\w]*\w*/);mt&&(ut+=mt[0].length);break}case"deleteContentBackward":ot===at&&(ct-=1);break;case"deleteContentForward":ot===at&&(ut+=1);break}rt.preventDefault(),(ht=this.linkService.eventBus)==null||ht.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:lt,change:it||"",willCommit:!1,selStart:ct,selEnd:ut}})}),this._setEventListeners(o,$,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],rt=>rt.target.value)}if(_e&&o.addEventListener("blur",_e),this.data.comb){const rt=(this.data.rect[2]-this.data.rect[0])/j;o.classList.add("comb"),o.style.letterSpacing=`calc(${rt}px * var(--scale-factor) - 1ch)`}}else o=document.createElement("div"),o.textContent=this.data.fieldValue,o.style.verticalAlign="middle",o.style.display="table-cell",this.data.hasOwnCanvas&&(o.hidden=!0);return this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,s=this.data,o=s.id;let c=e.getValue(o,{value:s.exportValue===s.fieldValue}).value;typeof c=="string"&&(c=c!=="Off",e.setValue(o,{value:c})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const d=document.createElement("input");return GetElementsByNameSet.add(d),d.setAttribute("data-element-id",o),d.disabled=s.readOnly,this._setRequired(d,this.data.required),d.type="checkbox",d.name=s.fieldName,c&&d.setAttribute("checked",!0),d.setAttribute("exportValue",s.exportValue),d.tabIndex=DEFAULT_TAB_INDEX,d.addEventListener("change",h=>{const{name:g,checked:j}=h.target;for(const _ of this._getElementsByName(g,o)){const $=j&&_.exportValue===s.exportValue;_.domElement&&(_.domElement.checked=$),e.setValue(_.id,{value:$})}e.setValue(o,{value:j})}),d.addEventListener("resetform",h=>{const g=s.defaultFieldValue||"Off";h.target.checked=g===s.exportValue}),this.enableScripting&&this.hasJSActions&&(d.addEventListener("updatefromsandbox",h=>{const g={value(j){j.target.checked=j.detail.value!=="Off",e.setValue(o,{value:j.target.checked})}};this._dispatchEventFromSandbox(g,h)}),this._setEventListeners(d,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)),this._setBackgroundColor(d),this._setDefaultPropertiesFromJS(d),this.container.append(d),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,s=this.data,o=s.id;let c=e.getValue(o,{value:s.fieldValue===s.buttonValue}).value;if(typeof c=="string"&&(c=c!==s.buttonValue,e.setValue(o,{value:c})),c)for(const h of this._getElementsByName(s.fieldName,o))e.setValue(h.id,{value:!1});const d=document.createElement("input");if(GetElementsByNameSet.add(d),d.setAttribute("data-element-id",o),d.disabled=s.readOnly,this._setRequired(d,this.data.required),d.type="radio",d.name=s.fieldName,c&&d.setAttribute("checked",!0),d.tabIndex=DEFAULT_TAB_INDEX,d.addEventListener("change",h=>{const{name:g,checked:j}=h.target;for(const _ of this._getElementsByName(g,o))e.setValue(_.id,{value:!1});e.setValue(o,{value:j})}),d.addEventListener("resetform",h=>{const g=s.defaultFieldValue;h.target.checked=g!=null&&g===s.buttonValue}),this.enableScripting&&this.hasJSActions){const h=s.buttonValue;d.addEventListener("updatefromsandbox",g=>{const j={value:_=>{const $=h===_.detail.value;for(const _e of this._getElementsByName(_.target.name)){const st=$&&_e.id===o;_e.domElement&&(_e.domElement.checked=st),e.setValue(_e.id,{value:st})}}};this._dispatchEventFromSandbox(j,g)}),this._setEventListeners(d,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.checked)}return this._setBackgroundColor(d),this._setDefaultPropertiesFromJS(d),this.container.append(d),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const s=e.lastChild;return this.enableScripting&&this.hasJSActions&&s&&(this._setDefaultPropertiesFromJS(s),s.addEventListener("updatefromsandbox",o=>{this._dispatchEventFromSandbox({},o)})),e}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,s=this.data.id,o=e.getValue(s,{value:this.data.fieldValue}),c=document.createElement("select");GetElementsByNameSet.add(c),c.setAttribute("data-element-id",s),c.disabled=this.data.readOnly,this._setRequired(c,this.data.required),c.name=this.data.fieldName,c.tabIndex=DEFAULT_TAB_INDEX;let d=this.data.combo&&this.data.options.length>0;this.data.combo||(c.size=this.data.options.length,this.data.multiSelect&&(c.multiple=!0)),c.addEventListener("resetform",$=>{const _e=this.data.defaultFieldValue;for(const st of c.options)st.selected=st.value===_e});for(const $ of this.data.options){const _e=document.createElement("option");_e.textContent=$.displayValue,_e.value=$.exportValue,o.value.includes($.exportValue)&&(_e.setAttribute("selected",!0),d=!1),c.append(_e)}let h=null;if(d){const $=document.createElement("option");$.value=" ",$.setAttribute("hidden",!0),$.setAttribute("selected",!0),c.prepend($),h=()=>{$.remove(),c.removeEventListener("input",h),h=null},c.addEventListener("input",h)}const g=$=>{const _e=$?"value":"textContent",{options:st,multiple:rt}=c;return rt?Array.prototype.filter.call(st,it=>it.selected).map(it=>it[_e]):st.selectedIndex===-1?null:st[st.selectedIndex][_e]};let j=g(!1);const _=$=>{const _e=$.target.options;return Array.prototype.map.call(_e,st=>({displayValue:st.textContent,exportValue:st.value}))};return this.enableScripting&&this.hasJSActions?(c.addEventListener("updatefromsandbox",$=>{const _e={value(st){h==null||h();const rt=st.detail.value,it=new Set(Array.isArray(rt)?rt:[rt]);for(const nt of c.options)nt.selected=it.has(nt.value);e.setValue(s,{value:g(!0)}),j=g(!1)},multipleSelection(st){c.multiple=!0},remove(st){const rt=c.options,it=st.detail.remove;rt[it].selected=!1,c.remove(it),rt.length>0&&Array.prototype.findIndex.call(rt,lt=>lt.selected)===-1&&(rt[0].selected=!0),e.setValue(s,{value:g(!0),items:_(st)}),j=g(!1)},clear(st){for(;c.length!==0;)c.remove(0);e.setValue(s,{value:null,items:[]}),j=g(!1)},insert(st){const{index:rt,displayValue:it,exportValue:nt}=st.detail.insert,lt=c.children[rt],ot=document.createElement("option");ot.textContent=it,ot.value=nt,lt?lt.before(ot):c.append(ot),e.setValue(s,{value:g(!0),items:_(st)}),j=g(!1)},items(st){const{items:rt}=st.detail;for(;c.length!==0;)c.remove(0);for(const it of rt){const{displayValue:nt,exportValue:lt}=it,ot=document.createElement("option");ot.textContent=nt,ot.value=lt,c.append(ot)}c.options.length>0&&(c.options[0].selected=!0),e.setValue(s,{value:g(!0),items:_(st)}),j=g(!1)},indices(st){const rt=new Set(st.detail.indices);for(const it of st.target.options)it.selected=rt.has(it.index);e.setValue(s,{value:g(!0)}),j=g(!1)},editable(st){st.target.disabled=!st.detail.editable}};this._dispatchEventFromSandbox(_e,$)}),c.addEventListener("input",$=>{var rt;const _e=g(!0),st=g(!1);e.setValue(s,{value:_e}),$.preventDefault(),(rt=this.linkService.eventBus)==null||rt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:j,change:st,changeEx:_e,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(c,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],$=>$.target.value)):c.addEventListener("input",function($){e.setValue(s,{value:g(!0)})}),this.data.combo&&this._setTextStyle(c),this._setBackgroundColor(c),this._setDefaultPropertiesFromJS(c),this.container.append(c),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor(e){const{data:s,elements:o}=e;super(e,{isRenderable:AnnotationElement._hasPopupData(s)}),this.elements=o,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),s=[];for(const o of this.elements)o.popup=e,o.container.ariaHasPopup="dialog",s.push(o.data.id),o.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(o=>`${AnnotationPrefix}${o}`).join(",")),this.container}}var hp,sv,rv,pp,Jl,Cs,On,mp,$m,Om,fp,Dn,Vr,Fn,Dm,Bn,Fm,Zl,_c,gs,Cx,$v,uy,dy,hy,py,Ax,Nx,Ov;class PopupElement{constructor({container:e,color:s,elements:o,titleObj:c,modificationDate:d,contentsObj:h,richText:g,parent:j,rect:_,parentRect:$,open:_e}){ft(this,gs);ft(this,hp,pt(this,gs,hy).bind(this));ft(this,sv,pt(this,gs,Ov).bind(this));ft(this,rv,pt(this,gs,Nx).bind(this));ft(this,pp,pt(this,gs,Ax).bind(this));ft(this,Jl,null);ft(this,Cs,null);ft(this,On,null);ft(this,mp,null);ft(this,$m,null);ft(this,Om,null);ft(this,fp,null);ft(this,Dn,!1);ft(this,Vr,null);ft(this,Fn,null);ft(this,Dm,null);ft(this,Bn,null);ft(this,Fm,null);ft(this,Zl,null);ft(this,_c,!1);var st;dt(this,Cs,e),dt(this,Fm,c),dt(this,On,h),dt(this,Bn,g),dt(this,Om,j),dt(this,Jl,s),dt(this,Dm,_),dt(this,fp,$),dt(this,$m,o),dt(this,mp,PDFDateString.toDateObject(d)),this.trigger=o.flatMap(rt=>rt.getElementsToTriggerPopup());for(const rt of this.trigger)rt.addEventListener("click",et(this,pp)),rt.addEventListener("mouseenter",et(this,rv)),rt.addEventListener("mouseleave",et(this,sv)),rt.classList.add("popupTriggerArea");for(const rt of o)(st=rt.container)==null||st.addEventListener("keydown",et(this,hp));et(this,Cs).hidden=!0,_e&&pt(this,gs,Ax).call(this)}render(){if(et(this,Vr))return;const e=dt(this,Vr,document.createElement("div"));if(e.className="popup",et(this,Jl)){const d=e.style.outlineColor=Util.makeHexColor(...et(this,Jl));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${d} 30%, white)`:e.style.backgroundColor=Util.makeHexColor(...et(this,Jl).map(g=>Math.floor(.7*(255-g)+g)))}const s=document.createElement("span");s.className="header";const o=document.createElement("h1");if(s.append(o),{dir:o.dir,str:o.textContent}=et(this,Fm),e.append(s),et(this,mp)){const d=document.createElement("span");d.classList.add("popupDate"),d.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),d.setAttribute("data-l10n-args",JSON.stringify({dateObj:et(this,mp).valueOf()})),s.append(d)}const c=et(this,gs,Cx);if(c)XfaLayer.render({xfaHtml:c,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const d=this._formatContents(et(this,On));e.append(d)}et(this,Cs).append(e)}_formatContents({str:e,dir:s}){const o=document.createElement("p");o.classList.add("popupContent"),o.dir=s;const c=e.split(/(?:\r\n?|\n)/);for(let d=0,h=c.length;d<h;++d){const g=c[d];o.append(document.createTextNode(g)),d<h-1&&o.append(document.createElement("br"))}return o}updateEdited({rect:e,popupContent:s}){var o;et(this,Zl)||dt(this,Zl,{contentsObj:et(this,On),richText:et(this,Bn)}),e&&dt(this,Fn,null),s&&(dt(this,Bn,pt(this,gs,dy).call(this,s)),dt(this,On,null)),(o=et(this,Vr))==null||o.remove(),dt(this,Vr,null)}resetEdited(){var e;et(this,Zl)&&({contentsObj:$s(this,On)._,richText:$s(this,Bn)._}=et(this,Zl),dt(this,Zl,null),(e=et(this,Vr))==null||e.remove(),dt(this,Vr,null),dt(this,Fn,null))}forceHide(){dt(this,_c,this.isVisible),et(this,_c)&&(et(this,Cs).hidden=!0)}maybeShow(){et(this,_c)&&(et(this,Vr)||pt(this,gs,Nx).call(this),dt(this,_c,!1),et(this,Cs).hidden=!1)}get isVisible(){return et(this,Cs).hidden===!1}}hp=new WeakMap,sv=new WeakMap,rv=new WeakMap,pp=new WeakMap,Jl=new WeakMap,Cs=new WeakMap,On=new WeakMap,mp=new WeakMap,$m=new WeakMap,Om=new WeakMap,fp=new WeakMap,Dn=new WeakMap,Vr=new WeakMap,Fn=new WeakMap,Dm=new WeakMap,Bn=new WeakMap,Fm=new WeakMap,Zl=new WeakMap,_c=new WeakMap,gs=new WeakSet,Cx=function(){const e=et(this,Bn),s=et(this,On);return e!=null&&e.str&&(!(s!=null&&s.str)||s.str===e.str)&&et(this,Bn).html||null},$v=function(){var e,s,o;return((o=(s=(e=et(this,gs,Cx))==null?void 0:e.attributes)==null?void 0:s.style)==null?void 0:o.fontSize)||0},uy=function(){var e,s,o;return((o=(s=(e=et(this,gs,Cx))==null?void 0:e.attributes)==null?void 0:s.style)==null?void 0:o.color)||null},dy=function(e){const s=[],o={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:s}]}},c={style:{color:et(this,gs,uy),fontSize:et(this,gs,$v)?`calc(${et(this,gs,$v)}px * var(--scale-factor))`:""}};for(const d of e.split(`
`))s.push({name:"span",value:d,attributes:c});return o},hy=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&et(this,Dn))&&pt(this,gs,Ax).call(this)},py=function(){if(et(this,Fn)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:c,pageY:d}}}=et(this,Om);let h=!!et(this,fp),g=h?et(this,fp):et(this,Dm);for(const it of et(this,$m))if(!g||Util.intersect(it.data.rect,g)!==null){g=it.data.rect,h=!0;break}const j=Util.normalizeRect([g[0],e[3]-g[1]+e[1],g[2],e[3]-g[3]+e[1]]),$=h?g[2]-g[0]+5:0,_e=j[0]+$,st=j[1];dt(this,Fn,[100*(_e-c)/s,100*(st-d)/o]);const{style:rt}=et(this,Cs);rt.left=`${et(this,Fn)[0]}%`,rt.top=`${et(this,Fn)[1]}%`},Ax=function(){dt(this,Dn,!et(this,Dn)),et(this,Dn)?(pt(this,gs,Nx).call(this),et(this,Cs).addEventListener("click",et(this,pp)),et(this,Cs).addEventListener("keydown",et(this,hp))):(pt(this,gs,Ov).call(this),et(this,Cs).removeEventListener("click",et(this,pp)),et(this,Cs).removeEventListener("keydown",et(this,hp)))},Nx=function(){et(this,Vr)||this.render(),this.isVisible?et(this,Dn)&&et(this,Cs).classList.add("focused"):(pt(this,gs,py).call(this),et(this,Cs).hidden=!1,et(this,Cs).style.zIndex=parseInt(et(this,Cs).style.zIndex)+1e3)},Ov=function(){et(this,Cs).classList.remove("focused"),!(et(this,Dn)||!this.isVisible)&&(et(this,Cs).hidden=!0,et(this,Cs).style.zIndex=parseInt(et(this,Cs).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const s of this.textContent){const o=document.createElement("span");o.textContent=s,e.append(o)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Bm;class LineAnnotationElement extends AnnotationElement{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});ft(this,Bm,null)}render(){this.container.classList.add("lineAnnotation");const s=this.data,{width:o,height:c}=getRectDims(s.rect),d=this.svgFactory.create(o,c,!0),h=dt(this,Bm,this.svgFactory.createElement("svg:line"));return h.setAttribute("x1",s.rect[2]-s.lineCoordinates[0]),h.setAttribute("y1",s.rect[3]-s.lineCoordinates[1]),h.setAttribute("x2",s.rect[2]-s.lineCoordinates[2]),h.setAttribute("y2",s.rect[3]-s.lineCoordinates[3]),h.setAttribute("stroke-width",s.borderStyle.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),d.append(h),this.container.append(d),!s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return et(this,Bm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bm=new WeakMap;var Um;class SquareAnnotationElement extends AnnotationElement{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});ft(this,Um,null)}render(){this.container.classList.add("squareAnnotation");const s=this.data,{width:o,height:c}=getRectDims(s.rect),d=this.svgFactory.create(o,c,!0),h=s.borderStyle.width,g=dt(this,Um,this.svgFactory.createElement("svg:rect"));return g.setAttribute("x",h/2),g.setAttribute("y",h/2),g.setAttribute("width",o-h),g.setAttribute("height",c-h),g.setAttribute("stroke-width",h||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),d.append(g),this.container.append(d),!s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return et(this,Um)}addHighlightArea(){this.container.classList.add("highlightArea")}}Um=new WeakMap;var Hm;class CircleAnnotationElement extends AnnotationElement{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});ft(this,Hm,null)}render(){this.container.classList.add("circleAnnotation");const s=this.data,{width:o,height:c}=getRectDims(s.rect),d=this.svgFactory.create(o,c,!0),h=s.borderStyle.width,g=dt(this,Hm,this.svgFactory.createElement("svg:ellipse"));return g.setAttribute("cx",o/2),g.setAttribute("cy",c/2),g.setAttribute("rx",o/2-h/2),g.setAttribute("ry",c/2-h/2),g.setAttribute("stroke-width",h||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),d.append(g),this.container.append(d),!s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return et(this,Hm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hm=new WeakMap;var zm;class PolylineAnnotationElement extends AnnotationElement{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});ft(this,zm,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:s,vertices:o,borderStyle:c,popupRef:d}}=this;if(!o)return this.container;const{width:h,height:g}=getRectDims(s),j=this.svgFactory.create(h,g,!0);let _=[];for(let _e=0,st=o.length;_e<st;_e+=2){const rt=o[_e]-s[0],it=s[3]-o[_e+1];_.push(`${rt},${it}`)}_=_.join(" ");const $=dt(this,zm,this.svgFactory.createElement(this.svgElementName));return $.setAttribute("points",_),$.setAttribute("stroke-width",c.width||1),$.setAttribute("stroke","transparent"),$.setAttribute("fill","transparent"),j.append($),this.container.append(j),!d&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return et(this,zm)}addHighlightArea(){this.container.classList.add("highlightArea")}}zm=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Vm;class InkAnnotationElement extends AnnotationElement{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});ft(this,Vm,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?AnnotationEditorType.HIGHLIGHT:AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:s,inkLists:o,borderStyle:c,popupRef:d}}=this,{width:h,height:g}=getRectDims(s),j=this.svgFactory.create(h,g,!0);for(const _ of o){let $=[];for(let st=0,rt=_.length;st<rt;st+=2){const it=_[st]-s[0],nt=s[3]-_[st+1];$.push(`${it},${nt}`)}$=$.join(" ");const _e=this.svgFactory.createElement(this.svgElementName);et(this,Vm).push(_e),_e.setAttribute("points",$),_e.setAttribute("stroke-width",c.width||1),_e.setAttribute("stroke","transparent"),_e.setAttribute("fill","transparent"),j.append(_e)}return!d&&this.hasPopupData&&this._createPopup(),this.container.append(j),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return et(this,Vm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vm=new WeakMap;class HighlightAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=AnnotationEditorType.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class StampAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=AnnotationEditorType.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Gm,Wm,Dv;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(s){var c;super(s,{isRenderable:!0});ft(this,Wm);ft(this,Gm,null);const{file:o}=this.data;this.filename=o.filename,this.content=o.content,(c=this.linkService.eventBus)==null||c.dispatch("fileattachmentannotation",{source:this,...o})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:s,data:o}=this;let c;o.hasAppearance||o.fillAlpha===0?c=document.createElement("div"):(c=document.createElement("img"),c.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(o.name)?"paperclip":"pushpin"}.svg`,o.fillAlpha&&o.fillAlpha<1&&(c.style=`filter: opacity(${Math.round(o.fillAlpha*100)}%);`)),c.addEventListener("dblclick",pt(this,Wm,Dv).bind(this)),dt(this,Gm,c);const{isMac:d}=util_FeatureTest.platform;return s.addEventListener("keydown",h=>{h.key==="Enter"&&(d?h.metaKey:h.ctrlKey)&&pt(this,Wm,Dv).call(this)}),!o.popupRef&&this.hasPopupData?this._createPopup():c.classList.add("popupTriggerArea"),s.append(c),s}getElementsToTriggerPopup(){return et(this,Gm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gm=new WeakMap,Wm=new WeakSet,Dv=function(){var s;(s=this.downloadManager)==null||s.openOrDownloadData(this.content,this.filename)};var qm,eu,tu,Km,gu,my,Fv,CE;let AnnotationLayer$2=(CE=class{constructor({div:e,accessibilityManager:s,annotationCanvasMap:o,annotationEditorUIManager:c,page:d,viewport:h,structTreeLayer:g}){ft(this,gu);ft(this,qm,null);ft(this,eu,null);ft(this,tu,new Map);ft(this,Km,null);this.div=e,dt(this,qm,s),dt(this,eu,o),dt(this,Km,g||null),this.page=d,this.viewport=h,this.zIndex=0,this._annotationEditorUIManager=c}hasEditableAnnotations(){return et(this,tu).size>0}async render(e){var h;const{annotations:s}=e,o=this.div;setLayerDimensions(o,this.viewport);const c=new Map,d={data:null,layer:o,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:e.annotationStorage||new AnnotationStorage,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const g of s){if(g.noHTML)continue;const j=g.annotationType===AnnotationType.POPUP;if(j){const _e=c.get(g.id);if(!_e)continue;d.elements=_e}else{const{width:_e,height:st}=getRectDims(g.rect);if(_e<=0||st<=0)continue}d.data=g;const _=AnnotationElementFactory.create(d);if(!_.isRenderable)continue;if(!j&&g.popupRef){const _e=c.get(g.popupRef);_e?_e.push(_):c.set(g.popupRef,[_])}const $=_.render();g.hidden&&($.style.visibility="hidden"),await pt(this,gu,my).call(this,$,g.id),_._isEditable&&(et(this,tu).set(_.data.id,_),(h=this._annotationEditorUIManager)==null||h.renderAnnotationElement(_))}pt(this,gu,Fv).call(this)}update({viewport:e}){const s=this.div;this.viewport=e,setLayerDimensions(s,{rotation:e.rotation}),pt(this,gu,Fv).call(this),s.hidden=!1}getEditableAnnotations(){return Array.from(et(this,tu).values())}getEditableAnnotation(e){return et(this,tu).get(e)}},qm=new WeakMap,eu=new WeakMap,tu=new WeakMap,Km=new WeakMap,gu=new WeakSet,my=async function(e,s){var h,g;const o=e.firstChild||e,c=o.id=`${AnnotationPrefix}${s}`,d=await((h=et(this,Km))==null?void 0:h.getAriaAttributes(c));if(d)for(const[j,_]of d)o.setAttribute(j,_);this.div.append(e),(g=et(this,qm))==null||g.moveElementInDOM(this.div,e,o,!1)},Fv=function(){if(!et(this,eu))return;const e=this.div;for(const[s,o]of et(this,eu)){const c=e.querySelector(`[data-annotation-id="${s}"]`);if(!c)continue;o.className="annotationContent";const{firstChild:d}=c;d?d.nodeName==="CANVAS"?d.replaceWith(o):d.classList.contains("annotationContent")?d.after(o):d.before(o):c.append(o)}et(this,eu).clear()},CE);const EOL_PATTERN=/\r\n?|\n/g;var Gr,mr,Xm,su,fr,Ps,fy,xy,gy,Tx,Jn,Px,kx,vy,Bv,Ey;const Es=class Es extends AnnotationEditor{constructor(s){super({...s,name:"freeTextEditor"});ft(this,Ps);ft(this,Gr);ft(this,mr,"");ft(this,Xm,`${this.id}-editor`);ft(this,su,null);ft(this,fr);dt(this,Gr,s.color||Es._defaultColor||AnnotationEditor._defaultLineColor),dt(this,fr,s.fontSize||Es._defaultFontSize)}static get _keyboardManager(){const s=Es.prototype,o=h=>h.isEmpty(),c=AnnotationEditorUIManager.TRANSLATE_SMALL,d=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],s.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],s.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],s._translateEmpty,{args:[-c,0],checker:o}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],s._translateEmpty,{args:[-d,0],checker:o}],[["ArrowRight","mac+ArrowRight"],s._translateEmpty,{args:[c,0],checker:o}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],s._translateEmpty,{args:[d,0],checker:o}],[["ArrowUp","mac+ArrowUp"],s._translateEmpty,{args:[0,-c],checker:o}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],s._translateEmpty,{args:[0,-d],checker:o}],[["ArrowDown","mac+ArrowDown"],s._translateEmpty,{args:[0,c],checker:o}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],s._translateEmpty,{args:[0,d],checker:o}]]))}static initialize(s,o){AnnotationEditor.initialize(s,o);const c=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(c.getPropertyValue("--freetext-padding"))}static updateDefaultParams(s,o){switch(s){case AnnotationEditorParamsType.FREETEXT_SIZE:Es._defaultFontSize=o;break;case AnnotationEditorParamsType.FREETEXT_COLOR:Es._defaultColor=o;break}}updateParams(s,o){switch(s){case AnnotationEditorParamsType.FREETEXT_SIZE:pt(this,Ps,fy).call(this,o);break;case AnnotationEditorParamsType.FREETEXT_COLOR:pt(this,Ps,xy).call(this,o);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Es._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,Es._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,et(this,fr)],[AnnotationEditorParamsType.FREETEXT_COLOR,et(this,Gr)]]}_translateEmpty(s,o){this._uiManager.translateSelectedEditors(s,o,!0)}getInitialTranslation(){const s=this.parentScale;return[-Es._internalPadding*s,-(Es._internalPadding+et(this,fr))*s]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),dt(this,su,new AbortController);const s=this._uiManager.combinedSignal(et(this,su));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:s}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:s}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:s}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:s}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:s})}disableEditMode(){var s;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",et(this,Xm)),this._isDraggable=!0,(s=et(this,su))==null||s.abort(),dt(this,su,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(s){this._focusEventsAllowed&&(super.focusin(s),s.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var s;this.width||(this.enableEditMode(),this.editorDiv.focus(),(s=this._initialOptions)!=null&&s.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const s=et(this,mr),o=dt(this,mr,pt(this,Ps,gy).call(this).trimEnd());if(s===o)return;const c=d=>{if(dt(this,mr,d),!d){this.remove();return}pt(this,Ps,kx).call(this),this._uiManager.rebuild(this),pt(this,Ps,Tx).call(this)};this.addCommands({cmd:()=>{c(o)},undo:()=>{c(s)},mustExec:!1}),pt(this,Ps,Tx).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(s){this.enterInEditMode()}keydown(s){s.target===this.div&&s.key==="Enter"&&(this.enterInEditMode(),s.preventDefault())}editorDivKeydown(s){Es._keyboardManager.exec(this,s)}editorDivFocus(s){this.isEditing=!0}editorDivBlur(s){this.isEditing=!1}editorDivInput(s){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let s,o;this.width&&(s=this.x,o=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",et(this,Xm)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:c}=this.editorDiv;if(c.fontSize=`calc(${et(this,fr)}px * var(--scale-factor))`,c.color=et(this,Gr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bindEvents(this,this.div,["dblclick","keydown"]),this.width){const[d,h]=this.parentDimensions;if(this.annotationElementId){const{position:g}=this._initialData;let[j,_]=this.getInitialTranslation();[j,_]=this.pageTranslationToScreen(j,_);const[$,_e]=this.pageDimensions,[st,rt]=this.pageTranslation;let it,nt;switch(this.rotation){case 0:it=s+(g[0]-st)/$,nt=o+this.height-(g[1]-rt)/_e;break;case 90:it=s+(g[0]-st)/$,nt=o-(g[1]-rt)/_e,[j,_]=[_,-j];break;case 180:it=s-this.width+(g[0]-st)/$,nt=o-(g[1]-rt)/_e,[j,_]=[-j,-_];break;case 270:it=s+(g[0]-st-this.height*_e)/$,nt=o+(g[1]-rt-this.width*$)/_e,[j,_]=[-_,j];break}this.setAt(it*d,nt*h,j,_)}else this.setAt(s*d,o*h,this.width*d,this.height*h);pt(this,Ps,kx).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(s){var it,nt,lt;const o=s.clipboardData||window.clipboardData,{types:c}=o;if(c.length===1&&c[0]==="text/plain")return;s.preventDefault();const d=pt(it=Es,Jn,Bv).call(it,o.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!d)return;const h=window.getSelection();if(!h.rangeCount)return;this.editorDiv.normalize(),h.deleteFromDocument();const g=h.getRangeAt(0);if(!d.includes(`
`)){g.insertNode(document.createTextNode(d)),this.editorDiv.normalize(),h.collapseToStart();return}const{startContainer:j,startOffset:_}=g,$=[],_e=[];if(j.nodeType===Node.TEXT_NODE){const ot=j.parentElement;if(_e.push(j.nodeValue.slice(_).replaceAll(EOL_PATTERN,"")),ot!==this.editorDiv){let at=$;for(const ct of this.editorDiv.childNodes){if(ct===ot){at=_e;continue}at.push(pt(nt=Es,Jn,Px).call(nt,ct))}}$.push(j.nodeValue.slice(0,_).replaceAll(EOL_PATTERN,""))}else if(j===this.editorDiv){let ot=$,at=0;for(const ct of this.editorDiv.childNodes)at++===_&&(ot=_e),ot.push(pt(lt=Es,Jn,Px).call(lt,ct))}dt(this,mr,`${$.join(`
`)}${d}${_e.join(`
`)}`),pt(this,Ps,kx).call(this);const st=new Range;let rt=$.reduce((ot,at)=>ot+at.length,0);for(const{firstChild:ot}of this.editorDiv.childNodes)if(ot.nodeType===Node.TEXT_NODE){const at=ot.nodeValue.length;if(rt<=at){st.setStart(ot,rt),st.setEnd(ot,rt);break}rt-=at}h.removeAllRanges(),h.addRange(st)}get contentDiv(){return this.editorDiv}static async deserialize(s,o,c){var g;let d=null;if(s instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:j,fontColor:_},rect:$,rotation:_e,id:st,popupRef:rt},textContent:it,textPosition:nt,parent:{page:{pageNumber:lt}}}=s;if(!it||it.length===0)return null;d=s={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(_),fontSize:j,value:it.join(`
`),position:nt,pageIndex:lt-1,rect:$.slice(0),rotation:_e,id:st,deleted:!1,popupRef:rt}}const h=await super.deserialize(s,o,c);return dt(h,fr,s.fontSize),dt(h,Gr,Util.makeHexColor(...s.color)),dt(h,mr,pt(g=Es,Jn,Bv).call(g,s.value)),h.annotationElementId=s.id||null,h._initialData=d,h}serialize(s=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const o=Es._internalPadding*this.parentScale,c=this.getRect(o,o),d=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:et(this,Gr)),h={annotationType:AnnotationEditorType.FREETEXT,color:d,fontSize:et(this,fr),value:pt(this,Ps,vy).call(this),pageIndex:this.pageIndex,rect:c,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return s?h:this.annotationElementId&&!pt(this,Ps,Ey).call(this,h)?null:(h.id=this.annotationElementId,h)}renderAnnotationElement(s){const o=super.renderAnnotationElement(s);if(this.deleted)return o;const{style:c}=o;c.fontSize=`calc(${et(this,fr)}px * var(--scale-factor))`,c.color=et(this,Gr),o.replaceChildren();for(const h of et(this,mr).split(`
`)){const g=document.createElement("div");g.append(h?document.createTextNode(h):document.createElement("br")),o.append(g)}const d=Es._internalPadding*this.parentScale;return s.updateEdited({rect:this.getRect(d,d),popupContent:et(this,mr)}),o}resetAnnotationElement(s){super.resetAnnotationElement(s),s.resetEdited()}};Gr=new WeakMap,mr=new WeakMap,Xm=new WeakMap,su=new WeakMap,fr=new WeakMap,Ps=new WeakSet,fy=function(s){const o=d=>{this.editorDiv.style.fontSize=`calc(${d}px * var(--scale-factor))`,this.translate(0,-(d-et(this,fr))*this.parentScale),dt(this,fr,d),pt(this,Ps,Tx).call(this)},c=et(this,fr);this.addCommands({cmd:o.bind(this,s),undo:o.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},xy=function(s){const o=d=>{dt(this,Gr,this.editorDiv.style.color=d)},c=et(this,Gr);this.addCommands({cmd:o.bind(this,s),undo:o.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},gy=function(){var c;const s=[];this.editorDiv.normalize();let o=null;for(const d of this.editorDiv.childNodes)(o==null?void 0:o.nodeType)===Node.TEXT_NODE&&d.nodeName==="BR"||(s.push(pt(c=Es,Jn,Px).call(c,d)),o=d);return s.join(`
`)},Tx=function(){const[s,o]=this.parentDimensions;let c;if(this.isAttachedToDOM)c=this.div.getBoundingClientRect();else{const{currentLayer:d,div:h}=this,g=h.style.display,j=h.classList.contains("hidden");h.classList.remove("hidden"),h.style.display="hidden",d.div.append(this.div),c=h.getBoundingClientRect(),h.remove(),h.style.display=g,h.classList.toggle("hidden",j)}this.rotation%180===this.parentRotation%180?(this.width=c.width/s,this.height=c.height/o):(this.width=c.height/s,this.height=c.width/o),this.fixAndSetPosition()},Jn=new WeakSet,Px=function(s){return(s.nodeType===Node.TEXT_NODE?s.nodeValue:s.innerText).replaceAll(EOL_PATTERN,"")},kx=function(){if(this.editorDiv.replaceChildren(),!!et(this,mr))for(const s of et(this,mr).split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),this.editorDiv.append(o)}},vy=function(){return et(this,mr).replaceAll(""," ")},Bv=function(s){return s.replaceAll(" ","")},Ey=function(s){const{value:o,fontSize:c,color:d,pageIndex:h}=this._initialData;return this._hasBeenMoved||s.value!==o||s.fontSize!==c||s.color.some((g,j)=>g!==d[j])||s.pageIndex!==h},ft(Es,Jn),Qt(Es,"_freeTextDefaultContent",""),Qt(Es,"_internalPadding",0),Qt(Es,"_defaultColor",null),Qt(Es,"_defaultFontSize",10),Qt(Es,"_type","freetext"),Qt(Es,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=Es,Outline$2=class{toSVGPath(){unreachable("Abstract method `toSVGPath` must be implemented.")}get box(){unreachable("Abstract getter `box` must be implemented.")}serialize(e,s){unreachable("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){unreachable("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){unreachable("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}};var xr,Wr,xp,gp,xn,ls,ru,nu,Ym,Qm,vp,Ep,Io,Jm,nv,iv,Ls,Hp,yy,jy,by,wy,Ry,_y;const _n=class _n{constructor({x:e,y:s},o,c,d,h,g=0){ft(this,Ls);ft(this,xr);ft(this,Wr,[]);ft(this,xp);ft(this,gp);ft(this,xn,[]);ft(this,ls,new Float64Array(18));ft(this,ru);ft(this,nu);ft(this,Ym);ft(this,Qm);ft(this,vp);ft(this,Ep);ft(this,Io,[]);dt(this,xr,o),dt(this,Ep,d*c),dt(this,gp,h),et(this,ls).set([NaN,NaN,NaN,NaN,e,s],6),dt(this,xp,g),dt(this,Qm,et(_n,Jm)*c),dt(this,Ym,et(_n,iv)*c),dt(this,vp,c),et(this,Io).push(e,s)}isEmpty(){return isNaN(et(this,ls)[8])}add({x:e,y:s}){var Tt;dt(this,ru,e),dt(this,nu,s);const[o,c,d,h]=et(this,xr);let[g,j,_,$]=et(this,ls).subarray(8,12);const _e=e-_,st=s-$,rt=Math.hypot(_e,st);if(rt<et(this,Ym))return!1;const it=rt-et(this,Qm),nt=it/rt,lt=nt*_e,ot=nt*st;let at=g,ct=j;g=_,j=$,_+=lt,$+=ot,(Tt=et(this,Io))==null||Tt.push(e,s);const ut=-ot/it,ht=lt/it,mt=ut*et(this,Ep),xt=ht*et(this,Ep);return et(this,ls).set(et(this,ls).subarray(2,8),0),et(this,ls).set([_+mt,$+xt],4),et(this,ls).set(et(this,ls).subarray(14,18),12),et(this,ls).set([_-mt,$-xt],16),isNaN(et(this,ls)[6])?(et(this,xn).length===0&&(et(this,ls).set([g+mt,j+xt],2),et(this,xn).push(NaN,NaN,NaN,NaN,(g+mt-o)/d,(j+xt-c)/h),et(this,ls).set([g-mt,j-xt],14),et(this,Wr).push(NaN,NaN,NaN,NaN,(g-mt-o)/d,(j-xt-c)/h)),et(this,ls).set([at,ct,g,j,_,$],6),!this.isEmpty()):(et(this,ls).set([at,ct,g,j,_,$],6),Math.abs(Math.atan2(ct-j,at-g)-Math.atan2(ot,lt))<Math.PI/2?([g,j,_,$]=et(this,ls).subarray(2,6),et(this,xn).push(NaN,NaN,NaN,NaN,((g+_)/2-o)/d,((j+$)/2-c)/h),[g,j,at,ct]=et(this,ls).subarray(14,18),et(this,Wr).push(NaN,NaN,NaN,NaN,((at+g)/2-o)/d,((ct+j)/2-c)/h),!0):([at,ct,g,j,_,$]=et(this,ls).subarray(0,6),et(this,xn).push(((at+5*g)/6-o)/d,((ct+5*j)/6-c)/h,((5*g+_)/6-o)/d,((5*j+$)/6-c)/h,((g+_)/2-o)/d,((j+$)/2-c)/h),[_,$,g,j,at,ct]=et(this,ls).subarray(12,18),et(this,Wr).push(((at+5*g)/6-o)/d,((ct+5*j)/6-c)/h,((5*g+_)/6-o)/d,((5*j+$)/6-c)/h,((g+_)/2-o)/d,((j+$)/2-c)/h),!0))}toSVGPath(){if(this.isEmpty())return"";const e=et(this,xn),s=et(this,Wr);if(isNaN(et(this,ls)[6])&&!this.isEmpty())return pt(this,Ls,yy).call(this);const o=[];o.push(`M${e[4]} ${e[5]}`);for(let c=6;c<e.length;c+=6)isNaN(e[c])?o.push(`L${e[c+4]} ${e[c+5]}`):o.push(`C${e[c]} ${e[c+1]} ${e[c+2]} ${e[c+3]} ${e[c+4]} ${e[c+5]}`);pt(this,Ls,by).call(this,o);for(let c=s.length-6;c>=6;c-=6)isNaN(s[c])?o.push(`L${s[c+4]} ${s[c+5]}`):o.push(`C${s[c]} ${s[c+1]} ${s[c+2]} ${s[c+3]} ${s[c+4]} ${s[c+5]}`);return pt(this,Ls,jy).call(this,o),o.join(" ")}newFreeDrawOutline(e,s,o,c,d,h){return new FreeDrawOutline(e,s,o,c,d,h)}getOutlines(){var _e;const e=et(this,xn),s=et(this,Wr),o=et(this,ls),[c,d,h,g]=et(this,xr),j=new Float64Array((((_e=et(this,Io))==null?void 0:_e.length)??0)+2);for(let st=0,rt=j.length-2;st<rt;st+=2)j[st]=(et(this,Io)[st]-c)/h,j[st+1]=(et(this,Io)[st+1]-d)/g;if(j[j.length-2]=(et(this,ru)-c)/h,j[j.length-1]=(et(this,nu)-d)/g,isNaN(o[6])&&!this.isEmpty())return pt(this,Ls,wy).call(this,j);const _=new Float64Array(et(this,xn).length+24+et(this,Wr).length);let $=e.length;for(let st=0;st<$;st+=2){if(isNaN(e[st])){_[st]=_[st+1]=NaN;continue}_[st]=e[st],_[st+1]=e[st+1]}$=pt(this,Ls,_y).call(this,_,$);for(let st=s.length-6;st>=6;st-=6)for(let rt=0;rt<6;rt+=2){if(isNaN(s[st+rt])){_[$]=_[$+1]=NaN,$+=2;continue}_[$]=s[st+rt],_[$+1]=s[st+rt+1],$+=2}return pt(this,Ls,Ry).call(this,_,$),this.newFreeDrawOutline(_,j,et(this,xr),et(this,vp),et(this,xp),et(this,gp))}};xr=new WeakMap,Wr=new WeakMap,xp=new WeakMap,gp=new WeakMap,xn=new WeakMap,ls=new WeakMap,ru=new WeakMap,nu=new WeakMap,Ym=new WeakMap,Qm=new WeakMap,vp=new WeakMap,Ep=new WeakMap,Io=new WeakMap,Jm=new WeakMap,nv=new WeakMap,iv=new WeakMap,Ls=new WeakSet,Hp=function(){const e=et(this,ls).subarray(4,6),s=et(this,ls).subarray(16,18),[o,c,d,h]=et(this,xr);return[(et(this,ru)+(e[0]-s[0])/2-o)/d,(et(this,nu)+(e[1]-s[1])/2-c)/h,(et(this,ru)+(s[0]-e[0])/2-o)/d,(et(this,nu)+(s[1]-e[1])/2-c)/h]},yy=function(){const[e,s,o,c]=et(this,xr),[d,h,g,j]=pt(this,Ls,Hp).call(this);return`M${(et(this,ls)[2]-e)/o} ${(et(this,ls)[3]-s)/c} L${(et(this,ls)[4]-e)/o} ${(et(this,ls)[5]-s)/c} L${d} ${h} L${g} ${j} L${(et(this,ls)[16]-e)/o} ${(et(this,ls)[17]-s)/c} L${(et(this,ls)[14]-e)/o} ${(et(this,ls)[15]-s)/c} Z`},jy=function(e){const s=et(this,Wr);e.push(`L${s[4]} ${s[5]} Z`)},by=function(e){const[s,o,c,d]=et(this,xr),h=et(this,ls).subarray(4,6),g=et(this,ls).subarray(16,18),[j,_,$,_e]=pt(this,Ls,Hp).call(this);e.push(`L${(h[0]-s)/c} ${(h[1]-o)/d} L${j} ${_} L${$} ${_e} L${(g[0]-s)/c} ${(g[1]-o)/d}`)},wy=function(e){const s=et(this,ls),[o,c,d,h]=et(this,xr),[g,j,_,$]=pt(this,Ls,Hp).call(this),_e=new Float64Array(36);return _e.set([NaN,NaN,NaN,NaN,(s[2]-o)/d,(s[3]-c)/h,NaN,NaN,NaN,NaN,(s[4]-o)/d,(s[5]-c)/h,NaN,NaN,NaN,NaN,g,j,NaN,NaN,NaN,NaN,_,$,NaN,NaN,NaN,NaN,(s[16]-o)/d,(s[17]-c)/h,NaN,NaN,NaN,NaN,(s[14]-o)/d,(s[15]-c)/h],0),this.newFreeDrawOutline(_e,e,et(this,xr),et(this,vp),et(this,xp),et(this,gp))},Ry=function(e,s){const o=et(this,Wr);return e.set([NaN,NaN,NaN,NaN,o[4],o[5]],s),s+=6},_y=function(e,s){const o=et(this,ls).subarray(4,6),c=et(this,ls).subarray(16,18),[d,h,g,j]=et(this,xr),[_,$,_e,st]=pt(this,Ls,Hp).call(this);return e.set([NaN,NaN,NaN,NaN,(o[0]-d)/g,(o[1]-h)/j,NaN,NaN,NaN,NaN,_,$,NaN,NaN,NaN,NaN,_e,st,NaN,NaN,NaN,NaN,(c[0]-d)/g,(c[1]-h)/j],s),s+=24},ft(_n,Jm,8),ft(_n,nv,2),ft(_n,iv,et(_n,Jm)+et(_n,nv));let FreeDrawOutliner=_n;var yp,iu,Un,Zm,gr,_f,Ns,ur,zp,Vp,Sy;class FreeDrawOutline extends Outline$2{constructor(s,o,c,d,h,g){super();ft(this,ur);ft(this,yp);ft(this,iu,null);ft(this,Un);ft(this,Zm);ft(this,gr);ft(this,_f);ft(this,Ns);dt(this,Ns,s),dt(this,gr,o),dt(this,yp,c),dt(this,_f,d),dt(this,Un,h),dt(this,Zm,g),pt(this,ur,Sy).call(this,g);const{x:j,y:_,width:$,height:_e}=et(this,iu);for(let st=0,rt=s.length;st<rt;st+=2)s[st]=(s[st]-j)/$,s[st+1]=(s[st+1]-_)/_e;for(let st=0,rt=o.length;st<rt;st+=2)o[st]=(o[st]-j)/$,o[st+1]=(o[st+1]-_)/_e}toSVGPath(){const s=[`M${et(this,Ns)[4]} ${et(this,Ns)[5]}`];for(let o=6,c=et(this,Ns).length;o<c;o+=6){if(isNaN(et(this,Ns)[o])){s.push(`L${et(this,Ns)[o+4]} ${et(this,Ns)[o+5]}`);continue}s.push(`C${et(this,Ns)[o]} ${et(this,Ns)[o+1]} ${et(this,Ns)[o+2]} ${et(this,Ns)[o+3]} ${et(this,Ns)[o+4]} ${et(this,Ns)[o+5]}`)}return s.push("Z"),s.join(" ")}serialize([s,o,c,d],h){const g=c-s,j=d-o;let _,$;switch(h){case 0:_=pt(this,ur,zp).call(this,et(this,Ns),s,d,g,-j),$=pt(this,ur,zp).call(this,et(this,gr),s,d,g,-j);break;case 90:_=pt(this,ur,Vp).call(this,et(this,Ns),s,o,g,j),$=pt(this,ur,Vp).call(this,et(this,gr),s,o,g,j);break;case 180:_=pt(this,ur,zp).call(this,et(this,Ns),c,o,-g,j),$=pt(this,ur,zp).call(this,et(this,gr),c,o,-g,j);break;case 270:_=pt(this,ur,Vp).call(this,et(this,Ns),c,d,-g,-j),$=pt(this,ur,Vp).call(this,et(this,gr),c,d,-g,-j);break}return{outline:Array.from(_),points:[Array.from($)]}}get box(){return et(this,iu)}newOutliner(s,o,c,d,h,g=0){return new FreeDrawOutliner(s,o,c,d,h,g)}getNewOutline(s,o){const{x:c,y:d,width:h,height:g}=et(this,iu),[j,_,$,_e]=et(this,yp),st=h*$,rt=g*_e,it=c*$+j,nt=d*_e+_,lt=this.newOutliner({x:et(this,gr)[0]*st+it,y:et(this,gr)[1]*rt+nt},et(this,yp),et(this,_f),s,et(this,Zm),o??et(this,Un));for(let ot=2;ot<et(this,gr).length;ot+=2)lt.add({x:et(this,gr)[ot]*st+it,y:et(this,gr)[ot+1]*rt+nt});return lt.getOutlines()}get mustRemoveSelfIntersections(){return!0}}yp=new WeakMap,iu=new WeakMap,Un=new WeakMap,Zm=new WeakMap,gr=new WeakMap,_f=new WeakMap,Ns=new WeakMap,ur=new WeakSet,zp=function(s,o,c,d,h){const g=new Float64Array(s.length);for(let j=0,_=s.length;j<_;j+=2)g[j]=o+s[j]*d,g[j+1]=c+s[j+1]*h;return g},Vp=function(s,o,c,d,h){const g=new Float64Array(s.length);for(let j=0,_=s.length;j<_;j+=2)g[j]=o+s[j+1]*d,g[j+1]=c+s[j]*h;return g},Sy=function(s){const o=et(this,Ns);let c=o[4],d=o[5],h=c,g=d,j=c,_=d,$=c,_e=d;const st=s?Math.max:Math.min;for(let ot=6,at=o.length;ot<at;ot+=6){if(isNaN(o[ot]))h=Math.min(h,o[ot+4]),g=Math.min(g,o[ot+5]),j=Math.max(j,o[ot+4]),_=Math.max(_,o[ot+5]),_e<o[ot+5]?($=o[ot+4],_e=o[ot+5]):_e===o[ot+5]&&($=st($,o[ot+4]));else{const ct=Util.bezierBoundingBox(c,d,...o.slice(ot,ot+6));h=Math.min(h,ct[0]),g=Math.min(g,ct[1]),j=Math.max(j,ct[2]),_=Math.max(_,ct[3]),_e<ct[3]?($=ct[2],_e=ct[3]):_e===ct[3]&&($=st($,ct[2]))}c=o[ot+4],d=o[ot+5]}const rt=h-et(this,Un),it=g-et(this,Un),nt=j-h+2*et(this,Un),lt=_-g+2*et(this,Un);dt(this,iu,{x:rt,y:it,width:nt,height:lt,lastPoint:[$,_e]})};var ex,Mo,qr,rr,Cy,Ix,Ay,Ny,Uv;class HighlightOutliner{constructor(e,s=0,o=0,c=!0){ft(this,rr);ft(this,ex);ft(this,Mo,[]);ft(this,qr,[]);let d=1/0,h=-1/0,g=1/0,j=-1/0;const _=10**-4;for(const{x:lt,y:ot,width:at,height:ct}of e){const ut=Math.floor((lt-s)/_)*_,ht=Math.ceil((lt+at+s)/_)*_,mt=Math.floor((ot-s)/_)*_,xt=Math.ceil((ot+ct+s)/_)*_,Et=[ut,mt,xt,!0],Tt=[ht,mt,xt,!1];et(this,Mo).push(Et,Tt),d=Math.min(d,ut),h=Math.max(h,ht),g=Math.min(g,mt),j=Math.max(j,xt)}const $=h-d+2*o,_e=j-g+2*o,st=d-o,rt=g-o,it=et(this,Mo).at(c?-1:-2),nt=[it[0],it[2]];for(const lt of et(this,Mo)){const[ot,at,ct]=lt;lt[0]=(ot-st)/$,lt[1]=(at-rt)/_e,lt[2]=(ct-rt)/_e}dt(this,ex,{x:st,y:rt,width:$,height:_e,lastPoint:nt})}getOutlines(){et(this,Mo).sort((s,o)=>s[0]-o[0]||s[1]-o[1]||s[2]-o[2]);const e=[];for(const s of et(this,Mo))s[3]?(e.push(...pt(this,rr,Uv).call(this,s)),pt(this,rr,Ay).call(this,s)):(pt(this,rr,Ny).call(this,s),e.push(...pt(this,rr,Uv).call(this,s)));return pt(this,rr,Cy).call(this,e)}}ex=new WeakMap,Mo=new WeakMap,qr=new WeakMap,rr=new WeakSet,Cy=function(e){const s=[],o=new Set;for(const h of e){const[g,j,_]=h;s.push([g,j,h],[g,_,h])}s.sort((h,g)=>h[1]-g[1]||h[0]-g[0]);for(let h=0,g=s.length;h<g;h+=2){const j=s[h][2],_=s[h+1][2];j.push(_),_.push(j),o.add(j),o.add(_)}const c=[];let d;for(;o.size>0;){const h=o.values().next().value;let[g,j,_,$,_e]=h;o.delete(h);let st=g,rt=j;for(d=[g,_],c.push(d);;){let it;if(o.has($))it=$;else if(o.has(_e))it=_e;else break;o.delete(it),[g,j,_,$,_e]=it,st!==g&&(d.push(st,rt,g,rt===j?j:_),st=g),rt=rt===j?_:j}d.push(st,rt)}return new HighlightOutline(c,et(this,ex))},Ix=function(e){const s=et(this,qr);let o=0,c=s.length-1;for(;o<=c;){const d=o+c>>1,h=s[d][0];if(h===e)return d;h<e?o=d+1:c=d-1}return c+1},Ay=function([,e,s]){const o=pt(this,rr,Ix).call(this,e);et(this,qr).splice(o,0,[e,s])},Ny=function([,e,s]){const o=pt(this,rr,Ix).call(this,e);for(let c=o;c<et(this,qr).length;c++){const[d,h]=et(this,qr)[c];if(d!==e)break;if(d===e&&h===s){et(this,qr).splice(c,1);return}}for(let c=o-1;c>=0;c--){const[d,h]=et(this,qr)[c];if(d!==e)break;if(d===e&&h===s){et(this,qr).splice(c,1);return}}},Uv=function(e){const[s,o,c]=e,d=[[s,o,c]],h=pt(this,rr,Ix).call(this,c);for(let g=0;g<h;g++){const[j,_]=et(this,qr)[g];for(let $=0,_e=d.length;$<_e;$++){const[,st,rt]=d[$];if(!(_<=st||rt<=j)){if(st>=j){if(rt>_)d[$][1]=_;else{if(_e===1)return[];d.splice($,1),$--,_e--}continue}d[$][2]=j,rt>_&&d.push([s,_,rt])}}}return d};var tx,jp;class HighlightOutline extends Outline$2{constructor(s,o){super();ft(this,tx);ft(this,jp);dt(this,jp,s),dt(this,tx,o)}toSVGPath(){const s=[];for(const o of et(this,jp)){let[c,d]=o;s.push(`M${c} ${d}`);for(let h=2;h<o.length;h+=2){const g=o[h],j=o[h+1];g===c?(s.push(`V${j}`),d=j):j===d&&(s.push(`H${g}`),c=g)}s.push("Z")}return s.join(" ")}serialize([s,o,c,d],h){const g=[],j=c-s,_=d-o;for(const $ of et(this,jp)){const _e=new Array($.length);for(let st=0;st<$.length;st+=2)_e[st]=s+$[st]*j,_e[st+1]=d-$[st+1]*_;g.push(_e)}return g}get box(){return et(this,tx)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}tx=new WeakMap,jp=new WeakMap;class FreeHighlightOutliner extends FreeDrawOutliner{newFreeDrawOutline(e,s,o,c,d,h){return new FreeHighlightOutline(e,s,o,c,d,h)}get classNamesForDrawing(){return["highlight","free"]}}class FreeHighlightOutline extends FreeDrawOutline{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,s,o,c,d,h=0){return new FreeHighlightOutliner(e,s,o,c,d,h)}}var Kr,ou,bp,Is,sx,wp,rx,nx,Lo,Xr,Rp,ix,xs,Hv,zv,Vv,Wo,Ty,ao;const or=class or{constructor({editor:e=null,uiManager:s=null}){ft(this,xs);ft(this,Kr,null);ft(this,ou,null);ft(this,bp);ft(this,Is,null);ft(this,sx,!1);ft(this,wp,!1);ft(this,rx,null);ft(this,nx);ft(this,Lo,null);ft(this,Xr,null);ft(this,Rp);var o;e?(dt(this,wp,!1),dt(this,Rp,AnnotationEditorParamsType.HIGHLIGHT_COLOR),dt(this,rx,e)):(dt(this,wp,!0),dt(this,Rp,AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR)),dt(this,Xr,(e==null?void 0:e._uiManager)||s),dt(this,nx,et(this,Xr)._eventBus),dt(this,bp,(e==null?void 0:e.color)||((o=et(this,Xr))==null?void 0:o.highlightColors.values().next().value)||"#FFFF98"),et(or,ix)||dt(or,ix,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],or.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],or.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],or.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],or.prototype._moveToPrevious],[["Home","mac+Home"],or.prototype._moveToBeginning],[["End","mac+End"],or.prototype._moveToEnd]]))}renderButton(){const e=dt(this,Kr,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const s=et(this,Xr)._signal;e.addEventListener("click",pt(this,xs,Wo).bind(this),{signal:s}),e.addEventListener("keydown",pt(this,xs,Vv).bind(this),{signal:s});const o=dt(this,ou,document.createElement("span"));return o.className="swatch",o.setAttribute("aria-hidden",!0),o.style.backgroundColor=et(this,bp),e.append(o),e}renderMainDropdown(){const e=dt(this,Is,pt(this,xs,Hv).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===et(this,Kr)){pt(this,xs,Wo).call(this,e);return}const s=e.target.getAttribute("data-color");s&&pt(this,xs,zv).call(this,s,e)}_moveToNext(e){var s,o;if(!et(this,xs,ao)){pt(this,xs,Wo).call(this,e);return}if(e.target===et(this,Kr)){(s=et(this,Is).firstChild)==null||s.focus();return}(o=e.target.nextSibling)==null||o.focus()}_moveToPrevious(e){var s,o;if(e.target===((s=et(this,Is))==null?void 0:s.firstChild)||e.target===et(this,Kr)){et(this,xs,ao)&&this._hideDropdownFromKeyboard();return}et(this,xs,ao)||pt(this,xs,Wo).call(this,e),(o=e.target.previousSibling)==null||o.focus()}_moveToBeginning(e){var s;if(!et(this,xs,ao)){pt(this,xs,Wo).call(this,e);return}(s=et(this,Is).firstChild)==null||s.focus()}_moveToEnd(e){var s;if(!et(this,xs,ao)){pt(this,xs,Wo).call(this,e);return}(s=et(this,Is).lastChild)==null||s.focus()}hideDropdown(){var e,s;(e=et(this,Is))==null||e.classList.add("hidden"),(s=et(this,Lo))==null||s.abort(),dt(this,Lo,null)}_hideDropdownFromKeyboard(){var e;if(!et(this,wp)){if(!et(this,xs,ao)){(e=et(this,rx))==null||e.unselect();return}this.hideDropdown(),et(this,Kr).focus({preventScroll:!0,focusVisible:et(this,sx)})}}updateColor(e){if(et(this,ou)&&(et(this,ou).style.backgroundColor=e),!et(this,Is))return;const s=et(this,Xr).highlightColors.values();for(const o of et(this,Is).children)o.setAttribute("aria-selected",s.next().value===e)}destroy(){var e,s;(e=et(this,Kr))==null||e.remove(),dt(this,Kr,null),dt(this,ou,null),(s=et(this,Is))==null||s.remove(),dt(this,Is,null)}};Kr=new WeakMap,ou=new WeakMap,bp=new WeakMap,Is=new WeakMap,sx=new WeakMap,wp=new WeakMap,rx=new WeakMap,nx=new WeakMap,Lo=new WeakMap,Xr=new WeakMap,Rp=new WeakMap,ix=new WeakMap,xs=new WeakSet,Hv=function(){const e=document.createElement("div"),s=et(this,Xr)._signal;e.addEventListener("contextmenu",noContextMenu,{signal:s}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[o,c]of et(this,Xr).highlightColors){const d=document.createElement("button");d.tabIndex="0",d.role="option",d.setAttribute("data-color",c),d.title=o,d.setAttribute("data-l10n-id",et(or,ix)[o]);const h=document.createElement("span");d.append(h),h.className="swatch",h.style.backgroundColor=c,d.setAttribute("aria-selected",c===et(this,bp)),d.addEventListener("click",pt(this,xs,zv).bind(this,c),{signal:s}),e.append(d)}return e.addEventListener("keydown",pt(this,xs,Vv).bind(this),{signal:s}),e},zv=function(e,s){s.stopPropagation(),et(this,nx).dispatch("switchannotationeditorparams",{source:this,type:et(this,Rp),value:e})},Vv=function(e){or._keyboardManager.exec(this,e)},Wo=function(e){if(et(this,xs,ao)){this.hideDropdown();return}if(dt(this,sx,e.detail===0),et(this,Lo)||(dt(this,Lo,new AbortController),window.addEventListener("pointerdown",pt(this,xs,Ty).bind(this),{signal:et(this,Xr).combinedSignal(et(this,Lo))})),et(this,Is)){et(this,Is).classList.remove("hidden");return}const s=dt(this,Is,pt(this,xs,Hv).call(this));et(this,Kr).append(s)},Ty=function(e){var s;(s=et(this,Is))!=null&&s.contains(e.target)||this.hideDropdown()},ao=function(){return et(this,Is)&&!et(this,Is).classList.contains("hidden")},ft(or,ix,null);let ColorPicker=or;var _p,ox,Hn,au,Sp,_r,ax,lx,lu,Yr,Qs,cr,Cp,zn,Ms,Ap,Sr,ux,ss,Gv,Mx,Py,ky,Iy,Wv,qo,Nr,Au,My,Lx,Gp,Ly,$y,Oy,Dy,Fy;const ds=class ds extends AnnotationEditor{constructor(s){super({...s,name:"highlightEditor"});ft(this,ss);ft(this,_p,null);ft(this,ox,0);ft(this,Hn);ft(this,au,null);ft(this,Sp,null);ft(this,_r,null);ft(this,ax,null);ft(this,lx,0);ft(this,lu,null);ft(this,Yr,null);ft(this,Qs,null);ft(this,cr,!1);ft(this,Cp,null);ft(this,zn);ft(this,Ms,null);ft(this,Ap,"");ft(this,Sr);ft(this,ux,"");this.color=s.color||ds._defaultColor,dt(this,Sr,s.thickness||ds._defaultThickness),dt(this,zn,s.opacity||ds._defaultOpacity),dt(this,Hn,s.boxes||null),dt(this,ux,s.methodOfCreation||""),dt(this,Ap,s.text||""),this._isDraggable=!1,s.highlightId>-1?(dt(this,cr,!0),pt(this,ss,Mx).call(this,s),pt(this,ss,qo).call(this)):et(this,Hn)&&(dt(this,_p,s.anchorNode),dt(this,ox,s.anchorOffset),dt(this,ax,s.focusNode),dt(this,lx,s.focusOffset),pt(this,ss,Gv).call(this),pt(this,ss,qo).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const s=ds.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],s._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],s._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],s._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],s._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:et(this,cr)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:et(this,Sr),methodOfCreation:et(this,ux)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(s){return{numberOfColors:s.get("color").size}}static initialize(s,o){var c;AnnotationEditor.initialize(s,o),ds._defaultColor||(ds._defaultColor=((c=o.highlightColors)==null?void 0:c.values().next().value)||"#fff066")}static updateDefaultParams(s,o){switch(s){case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:ds._defaultColor=o;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:ds._defaultThickness=o;break}}translateInPage(s,o){}get toolbarPosition(){return et(this,Cp)}updateParams(s,o){switch(s){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:pt(this,ss,Py).call(this,o);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:pt(this,ss,ky).call(this,o);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,ds._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,ds._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||ds._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,et(this,Sr)||ds._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,et(this,cr)]]}async addEditToolbar(){const s=await super.addEditToolbar();return s?(this._uiManager.highlightColors&&(dt(this,Sp,new ColorPicker({editor:this})),s.addColorPicker(et(this,Sp))),s):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(pt(this,ss,Gp).call(this))}getBaseTranslation(){return[0,0]}getRect(s,o){return super.getRect(s,o,pt(this,ss,Gp).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){pt(this,ss,Wv).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(pt(this,ss,qo).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(s){var c;let o=!1;this.parent&&!s?pt(this,ss,Wv).call(this):s&&(pt(this,ss,qo).call(this,s),o=!this.parent&&((c=this.div)==null?void 0:c.classList.contains("selectedEditor"))),super.setParent(s),this.show(this._isVisible),o&&this.select()}rotate(s){var d,h,g;const{drawLayer:o}=this.parent;let c;et(this,cr)?(s=(s-this.rotation+360)%360,c=pt(d=ds,Nr,Au).call(d,et(this,Yr).box,s)):c=pt(h=ds,Nr,Au).call(h,this,s),o.rotate(et(this,Qs),s),o.rotate(et(this,Ms),s),o.updateBox(et(this,Qs),c),o.updateBox(et(this,Ms),pt(g=ds,Nr,Au).call(g,et(this,_r).box,s))}render(){if(this.div)return this.div;const s=super.render();et(this,Ap)&&(s.setAttribute("aria-label",et(this,Ap)),s.setAttribute("role","mark")),et(this,cr)?s.classList.add("free"):this.div.addEventListener("keydown",pt(this,ss,My).bind(this),{signal:this._uiManager._signal});const o=dt(this,lu,document.createElement("div"));s.append(o),o.setAttribute("aria-hidden","true"),o.className="internal",o.style.clipPath=et(this,au);const[c,d]=this.parentDimensions;return this.setDims(this.width*c,this.height*d),bindEvents(this,et(this,lu),["pointerover","pointerleave"]),this.enableEditing(),s}pointerover(){this.isSelected||this.parent.drawLayer.addClass(et(this,Ms),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(et(this,Ms),"hovered")}_moveCaret(s){switch(this.parent.unselect(this),s){case 0:case 2:pt(this,ss,Lx).call(this,!0);break;case 1:case 3:pt(this,ss,Lx).call(this,!1);break}}select(){var s,o;super.select(),et(this,Ms)&&((s=this.parent)==null||s.drawLayer.removeClass(et(this,Ms),"hovered"),(o=this.parent)==null||o.drawLayer.addClass(et(this,Ms),"selected"))}unselect(){var s;super.unselect(),et(this,Ms)&&((s=this.parent)==null||s.drawLayer.removeClass(et(this,Ms),"selected"),et(this,cr)||pt(this,ss,Lx).call(this,!1))}get _mustFixPosition(){return!et(this,cr)}show(s=this._isVisible){super.show(s),this.parent&&(this.parent.drawLayer.show(et(this,Qs),s),this.parent.drawLayer.show(et(this,Ms),s))}static startHighlighting(s,o,{target:c,x:d,y:h}){const{x:g,y:j,width:_,height:$}=c.getBoundingClientRect(),_e=new AbortController,st=s.combinedSignal(_e),rt=nt=>{nt.preventDefault(),nt.stopPropagation()},it=nt=>{_e.abort(),pt(this,Nr,Dy).call(this,s,nt)};window.addEventListener("blur",it,{signal:st}),window.addEventListener("pointerup",it,{signal:st}),window.addEventListener("pointerdown",rt,{capture:!0,passive:!1,signal:st}),window.addEventListener("contextmenu",noContextMenu,{signal:st}),c.addEventListener("pointermove",pt(this,Nr,Oy).bind(this,s),{signal:st}),this._freeHighlight=new FreeHighlightOutliner({x:d,y:h},[g,j,_,$],s.scale,this._defaultThickness/2,o,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=s.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(s,o,c){var nt,lt,ot,at;let d=null;if(s instanceof HighlightAnnotationElement){const{data:{quadPoints:ct,rect:ut,rotation:ht,id:mt,color:xt,opacity:Et,popupRef:Tt},parent:{page:{pageNumber:St}}}=s;d=s={annotationType:AnnotationEditorType.HIGHLIGHT,color:Array.from(xt),opacity:Et,quadPoints:ct,boxes:null,pageIndex:St-1,rect:ut.slice(0),rotation:ht,id:mt,deleted:!1,popupRef:Tt}}else if(s instanceof InkAnnotationElement){const{data:{inkLists:ct,rect:ut,rotation:ht,id:mt,color:xt,borderStyle:{rawWidth:Et},popupRef:Tt},parent:{page:{pageNumber:St}}}=s;d=s={annotationType:AnnotationEditorType.HIGHLIGHT,color:Array.from(xt),thickness:Et,inkLists:ct,boxes:null,pageIndex:St-1,rect:ut.slice(0),rotation:ht,id:mt,deleted:!1,popupRef:Tt}}const{color:h,quadPoints:g,inkLists:j,opacity:_}=s,$=await super.deserialize(s,o,c);$.color=Util.makeHexColor(...h),dt($,zn,_||1),j&&dt($,Sr,s.thickness),$.annotationElementId=s.id||null,$._initialData=d;const[_e,st]=$.pageDimensions,[rt,it]=$.pageTranslation;if(g){const ct=dt($,Hn,[]);for(let ut=0;ut<g.length;ut+=8)ct.push({x:(g[ut]-rt)/_e,y:1-(g[ut+1]-it)/st,width:(g[ut+2]-g[ut])/_e,height:(g[ut+1]-g[ut+5])/st});pt(nt=$,ss,Gv).call(nt),pt(lt=$,ss,qo).call(lt),$.rotate($.rotation)}else if(j){dt($,cr,!0);const ct=j[0],ut={x:ct[0]-rt,y:st-(ct[1]-it)},ht=new FreeHighlightOutliner(ut,[0,0,_e,st],1,et($,Sr)/2,!0,.001);for(let Et=0,Tt=ct.length;Et<Tt;Et+=2)ut.x=ct[Et]-rt,ut.y=st-(ct[Et+1]-it),ht.add(ut);const{id:mt,clipPathId:xt}=o.drawLayer.draw(ht,$.color,$._defaultOpacity,!0);pt(ot=$,ss,Mx).call(ot,{highlightOutlines:ht.getOutlines(),highlightId:mt,clipPathId:xt}),pt(at=$,ss,qo).call(at)}return $}serialize(s=!1){if(this.isEmpty()||s)return null;if(this.deleted)return this.serializeDeleted();const o=this.getRect(0,0),c=AnnotationEditor._colorManager.convert(this.color),d={annotationType:AnnotationEditorType.HIGHLIGHT,color:c,opacity:et(this,zn),thickness:et(this,Sr),quadPoints:pt(this,ss,Ly).call(this),outlines:pt(this,ss,$y).call(this,o),pageIndex:this.pageIndex,rect:o,rotation:pt(this,ss,Gp).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!pt(this,ss,Fy).call(this,d)?null:(d.id=this.annotationElementId,d)}renderAnnotationElement(s){return s.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};_p=new WeakMap,ox=new WeakMap,Hn=new WeakMap,au=new WeakMap,Sp=new WeakMap,_r=new WeakMap,ax=new WeakMap,lx=new WeakMap,lu=new WeakMap,Yr=new WeakMap,Qs=new WeakMap,cr=new WeakMap,Cp=new WeakMap,zn=new WeakMap,Ms=new WeakMap,Ap=new WeakMap,Sr=new WeakMap,ux=new WeakMap,ss=new WeakSet,Gv=function(){const s=new HighlightOutliner(et(this,Hn),.001);dt(this,Yr,s.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=et(this,Yr).box;const o=new HighlightOutliner(et(this,Hn),.0025,.001,this._uiManager.direction==="ltr");dt(this,_r,o.getOutlines());const{lastPoint:c}=et(this,_r).box;dt(this,Cp,[(c[0]-this.x)/this.width,(c[1]-this.y)/this.height])},Mx=function({highlightOutlines:s,highlightId:o,clipPathId:c}){var _e,st;if(dt(this,Yr,s),dt(this,_r,s.getNewOutline(et(this,Sr)/2+1.5,.0025)),o>=0)dt(this,Qs,o),dt(this,au,c),this.parent.drawLayer.finalizeLine(o,s),dt(this,Ms,this.parent.drawLayer.drawOutline(et(this,_r)));else if(this.parent){const rt=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(et(this,Qs),s),this.parent.drawLayer.updateBox(et(this,Qs),pt(_e=ds,Nr,Au).call(_e,et(this,Yr).box,(rt-this.rotation+360)%360)),this.parent.drawLayer.updateLine(et(this,Ms),et(this,_r)),this.parent.drawLayer.updateBox(et(this,Ms),pt(st=ds,Nr,Au).call(st,et(this,_r).box,rt))}const{x:h,y:g,width:j,height:_}=s.box;switch(this.rotation){case 0:this.x=h,this.y=g,this.width=j,this.height=_;break;case 90:{const[rt,it]=this.parentDimensions;this.x=g,this.y=1-h,this.width=j*it/rt,this.height=_*rt/it;break}case 180:this.x=1-h,this.y=1-g,this.width=j,this.height=_;break;case 270:{const[rt,it]=this.parentDimensions;this.x=1-g,this.y=h,this.width=j*it/rt,this.height=_*rt/it;break}}const{lastPoint:$}=et(this,_r).box;dt(this,Cp,[($[0]-h)/j,($[1]-g)/_])},Py=function(s){const o=(h,g)=>{var j,_,$;this.color=h,(j=this.parent)==null||j.drawLayer.changeColor(et(this,Qs),h),(_=et(this,Sp))==null||_.updateColor(h),dt(this,zn,g),($=this.parent)==null||$.drawLayer.changeOpacity(et(this,Qs),g)},c=this.color,d=et(this,zn);this.addCommands({cmd:o.bind(this,s,ds._defaultOpacity),undo:o.bind(this,c,d),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(s)},!0)},ky=function(s){const o=et(this,Sr),c=d=>{dt(this,Sr,d),pt(this,ss,Iy).call(this,d)};this.addCommands({cmd:c.bind(this,s),undo:c.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:s},!0)},Iy=function(s){if(!et(this,cr))return;pt(this,ss,Mx).call(this,{highlightOutlines:et(this,Yr).getNewOutline(s/2)}),this.fixAndSetPosition();const[o,c]=this.parentDimensions;this.setDims(this.width*o,this.height*c)},Wv=function(){et(this,Qs)===null||!this.parent||(this.parent.drawLayer.remove(et(this,Qs)),dt(this,Qs,null),this.parent.drawLayer.remove(et(this,Ms)),dt(this,Ms,null))},qo=function(s=this.parent){et(this,Qs)===null&&({id:$s(this,Qs)._,clipPathId:$s(this,au)._}=s.drawLayer.draw(et(this,Yr),this.color,et(this,zn)),dt(this,Ms,s.drawLayer.drawOutline(et(this,_r))),et(this,lu)&&(et(this,lu).style.clipPath=et(this,au)))},Nr=new WeakSet,Au=function({x:s,y:o,width:c,height:d},h){switch(h){case 90:return{x:1-o-d,y:s,width:d,height:c};case 180:return{x:1-s-c,y:1-o-d,width:c,height:d};case 270:return{x:o,y:1-s-c,width:d,height:c}}return{x:s,y:o,width:c,height:d}},My=function(s){ds._keyboardManager.exec(this,s)},Lx=function(s){if(!et(this,_p))return;const o=window.getSelection();s?o.setPosition(et(this,_p),et(this,ox)):o.setPosition(et(this,ax),et(this,lx))},Gp=function(){return et(this,cr)?this.rotation:0},Ly=function(){if(et(this,cr))return null;const[s,o]=this.pageDimensions,[c,d]=this.pageTranslation,h=et(this,Hn),g=new Float32Array(h.length*8);let j=0;for(const{x:_,y:$,width:_e,height:st}of h){const rt=_*s+c,it=(1-$-st)*o+d;g[j]=g[j+4]=rt,g[j+1]=g[j+3]=it,g[j+2]=g[j+6]=rt+_e*s,g[j+5]=g[j+7]=it+st*o,j+=8}return g},$y=function(s){return et(this,Yr).serialize(s,pt(this,ss,Gp).call(this))},Oy=function(s,o){this._freeHighlight.add(o)&&s.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},Dy=function(s,o){this._freeHighlight.isEmpty()?s.drawLayer.remove(this._freeHighlightId):s.createAndAddNewEditor(o,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Fy=function(s){const{color:o}=this._initialData;return s.color.some((c,d)=>c!==o[d])},ft(ds,Nr),Qt(ds,"_defaultColor",null),Qt(ds,"_defaultOpacity",1),Qt(ds,"_defaultThickness",12),Qt(ds,"_type","highlight"),Qt(ds,"_editorType",AnnotationEditorType.HIGHLIGHT),Qt(ds,"_freeHighlightId",-1),Qt(ds,"_freeHighlight",null),Qt(ds,"_freeHighlightClipId","");let HighlightEditor=ds;var cu,uu,gn,Vn,Cr,du,hu,pu,Gn,Np,mu,fu,$o,Ut,By,Uy,Hy,zy,qv,Vy,Kv,Gy,Wy,qy,Ky,Xy,Ko,Xv,Yv,Qv,$x,Ox,Nu,Jv,Dx,_i,Yy,Zv,Qy,Jy,eE,Fx,Wp;const ws=class ws extends AnnotationEditor{constructor(s){super({...s,name:"inkEditor"});ft(this,Ut);ft(this,cu,0);ft(this,uu,0);ft(this,gn,null);ft(this,Vn,new Path2D);ft(this,Cr,!1);ft(this,du,null);ft(this,hu,!1);ft(this,pu,!1);ft(this,Gn,null);ft(this,Np,null);ft(this,mu,0);ft(this,fu,0);ft(this,$o,null);this.color=s.color||null,this.thickness=s.thickness||null,this.opacity=s.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(s,o){AnnotationEditor.initialize(s,o)}static updateDefaultParams(s,o){switch(s){case AnnotationEditorParamsType.INK_THICKNESS:ws._defaultThickness=o;break;case AnnotationEditorParamsType.INK_COLOR:ws._defaultColor=o;break;case AnnotationEditorParamsType.INK_OPACITY:ws._defaultOpacity=o/100;break}}updateParams(s,o){switch(s){case AnnotationEditorParamsType.INK_THICKNESS:pt(this,Ut,By).call(this,o);break;case AnnotationEditorParamsType.INK_COLOR:pt(this,Ut,Uy).call(this,o);break;case AnnotationEditorParamsType.INK_OPACITY:pt(this,Ut,Hy).call(this,o);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,ws._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,ws._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(ws._defaultOpacity*100)]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,this.thickness||ws._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,this.color||ws._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??ws._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(pt(this,Ut,$x).call(this),pt(this,Ut,Ox).call(this)),this.isAttachedToDOM||(this.parent.add(this),pt(this,Ut,Nu).call(this)),pt(this,Ut,Wp).call(this)))}remove(){var s;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,et(this,gn)&&(clearTimeout(et(this,gn)),dt(this,gn,null)),(s=et(this,Gn))==null||s.disconnect(),dt(this,Gn,null),super.remove())}setParent(s){!this.parent&&s?this._uiManager.removeShouldRescale(this):this.parent&&s===null&&this._uiManager.addShouldRescale(this),super.setParent(s)}onScaleChanging(){const[s,o]=this.parentDimensions,c=this.width*s,d=this.height*o;this.setDimensions(c,d)}enableEditMode(){et(this,Cr)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,pt(this,Ut,Xv).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),pt(this,Ut,Yv).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){et(this,Cr)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),dt(this,Cr,!0),this.div.classList.add("disabled"),pt(this,Ut,Wp).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(s){this._focusEventsAllowed&&(super.focusin(s),this.enableEditMode())}canvasPointerdown(s){s.button!==0||!this.isInEditMode()||et(this,Cr)||(this.setInForeground(),s.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),pt(this,Ut,Vy).call(this,s.offsetX,s.offsetY))}canvasPointermove(s){s.preventDefault(),pt(this,Ut,Kv).call(this,s.offsetX,s.offsetY)}canvasPointerup(s){s.preventDefault(),pt(this,Ut,Qv).call(this,s)}canvasPointerleave(s){pt(this,Ut,Qv).call(this,s)}get isResizable(){return!this.isEmpty()&&et(this,Cr)}render(){if(this.div)return this.div;let s,o;this.width&&(s=this.x,o=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[c,d,h,g]=pt(this,Ut,zy).call(this);if(this.setAt(c,d,0,0),this.setDims(h,g),pt(this,Ut,$x).call(this),this.width){const[j,_]=this.parentDimensions;this.setAspectRatio(this.width*j,this.height*_),this.setAt(s*j,o*_,this.width*j,this.height*_),dt(this,pu,!0),pt(this,Ut,Nu).call(this),this.setDims(this.width*j,this.height*_),pt(this,Ut,Ko).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return pt(this,Ut,Ox).call(this),this.div}setDimensions(s,o){const c=Math.round(s),d=Math.round(o);if(et(this,mu)===c&&et(this,fu)===d)return;dt(this,mu,c),dt(this,fu,d),this.canvas.style.visibility="hidden";const[h,g]=this.parentDimensions;this.width=s/h,this.height=o/g,this.fixAndSetPosition(),et(this,Cr)&&pt(this,Ut,Jv).call(this,s,o),pt(this,Ut,Nu).call(this),pt(this,Ut,Ko).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(s,o,c){var lt,ot,at;if(s instanceof InkAnnotationElement)return null;const d=await super.deserialize(s,o,c);d.thickness=s.thickness,d.color=Util.makeHexColor(...s.color),d.opacity=s.opacity;const[h,g]=d.pageDimensions,j=d.width*h,_=d.height*g,$=d.parentScale,_e=s.thickness/2;dt(d,Cr,!0),dt(d,mu,Math.round(j)),dt(d,fu,Math.round(_));const{paths:st,rect:rt,rotation:it}=s;for(let{bezier:ct}of st){ct=pt(lt=ws,_i,Qy).call(lt,ct,rt,it);const ut=[];d.paths.push(ut);let ht=$*(ct[0]-_e),mt=$*(ct[1]-_e);for(let Et=2,Tt=ct.length;Et<Tt;Et+=6){const St=$*(ct[Et]-_e),gt=$*(ct[Et+1]-_e),Ct=$*(ct[Et+2]-_e),At=$*(ct[Et+3]-_e),Rt=$*(ct[Et+4]-_e),kt=$*(ct[Et+5]-_e);ut.push([[ht,mt],[St,gt],[Ct,At],[Rt,kt]]),ht=Rt,mt=kt}const xt=pt(this,_i,Yy).call(this,ut);d.bezierPath2D.push(xt)}const nt=pt(ot=d,Ut,eE).call(ot);return dt(d,uu,Math.max(AnnotationEditor.MIN_SIZE,nt[2]-nt[0])),dt(d,cu,Math.max(AnnotationEditor.MIN_SIZE,nt[3]-nt[1])),pt(at=d,Ut,Jv).call(at,j,_),d}serialize(){if(this.isEmpty())return null;const s=this.getRect(0,0),o=AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:AnnotationEditorType.INK,color:o,thickness:this.thickness,opacity:this.opacity,paths:pt(this,Ut,Jy).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,s),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};cu=new WeakMap,uu=new WeakMap,gn=new WeakMap,Vn=new WeakMap,Cr=new WeakMap,du=new WeakMap,hu=new WeakMap,pu=new WeakMap,Gn=new WeakMap,Np=new WeakMap,mu=new WeakMap,fu=new WeakMap,$o=new WeakMap,Ut=new WeakSet,By=function(s){const o=d=>{this.thickness=d,pt(this,Ut,Wp).call(this)},c=this.thickness;this.addCommands({cmd:o.bind(this,s),undo:o.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Uy=function(s){const o=d=>{this.color=d,pt(this,Ut,Ko).call(this)},c=this.color;this.addCommands({cmd:o.bind(this,s),undo:o.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Hy=function(s){const o=d=>{this.opacity=d,pt(this,Ut,Ko).call(this)};s/=100;const c=this.opacity;this.addCommands({cmd:o.bind(this,s),undo:o.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},zy=function(){const{parentRotation:s,parentDimensions:[o,c]}=this;switch(s){case 90:return[0,c,c,o];case 180:return[o,c,o,c];case 270:return[o,0,c,o];default:return[0,0,o,c]}},qv=function(){const{ctx:s,color:o,opacity:c,thickness:d,parentScale:h,scaleFactor:g}=this;s.lineWidth=d*h/g,s.lineCap="round",s.lineJoin="round",s.miterLimit=10,s.strokeStyle=`${o}${opacityToHex(c)}`},Vy=function(s,o){this.canvas.addEventListener("contextmenu",noContextMenu,{signal:this._uiManager._signal}),pt(this,Ut,Yv).call(this),dt(this,du,new AbortController);const c=this._uiManager.combinedSignal(et(this,du));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:c}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:c}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:c}),this.isEditing=!0,et(this,pu)||(dt(this,pu,!0),pt(this,Ut,Nu).call(this),this.thickness||(this.thickness=ws._defaultThickness),this.color||(this.color=ws._defaultColor||AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=ws._defaultOpacity)),this.currentPath.push([s,o]),dt(this,hu,!1),pt(this,Ut,qv).call(this),dt(this,$o,()=>{pt(this,Ut,qy).call(this),et(this,$o)&&window.requestAnimationFrame(et(this,$o))}),window.requestAnimationFrame(et(this,$o))},Kv=function(s,o){const[c,d]=this.currentPath.at(-1);if(this.currentPath.length>1&&s===c&&o===d)return;const h=this.currentPath;let g=et(this,Vn);if(h.push([s,o]),dt(this,hu,!0),h.length<=2){g.moveTo(...h[0]),g.lineTo(s,o);return}h.length===3&&(dt(this,Vn,g=new Path2D),g.moveTo(...h[0])),pt(this,Ut,Ky).call(this,g,...h.at(-3),...h.at(-2),s,o)},Gy=function(){if(this.currentPath.length===0)return;const s=this.currentPath.at(-1);et(this,Vn).lineTo(...s)},Wy=function(s,o){dt(this,$o,null),s=Math.min(Math.max(s,0),this.canvas.width),o=Math.min(Math.max(o,0),this.canvas.height),pt(this,Ut,Kv).call(this,s,o),pt(this,Ut,Gy).call(this);let c;if(this.currentPath.length!==1)c=pt(this,Ut,Xy).call(this);else{const _=[s,o];c=[[_,_.slice(),_.slice(),_]]}const d=et(this,Vn),h=this.currentPath;this.currentPath=[],dt(this,Vn,new Path2D);const g=()=>{this.allRawPaths.push(h),this.paths.push(c),this.bezierPath2D.push(d),this._uiManager.rebuild(this)},j=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(pt(this,Ut,$x).call(this),pt(this,Ut,Ox).call(this)),pt(this,Ut,Wp).call(this))};this.addCommands({cmd:g,undo:j,mustExec:!0})},qy=function(){if(!et(this,hu))return;dt(this,hu,!1);const s=Math.ceil(this.thickness*this.parentScale),o=this.currentPath.slice(-3),c=o.map(g=>g[0]),d=o.map(g=>g[1]);Math.min(...c)-s,Math.max(...c)+s,Math.min(...d)-s,Math.max(...d)+s;const{ctx:h}=this;h.save(),h.clearRect(0,0,this.canvas.width,this.canvas.height);for(const g of this.bezierPath2D)h.stroke(g);h.stroke(et(this,Vn)),h.restore()},Ky=function(s,o,c,d,h,g,j){const _=(o+d)/2,$=(c+h)/2,_e=(d+g)/2,st=(h+j)/2;s.bezierCurveTo(_+2*(d-_)/3,$+2*(h-$)/3,_e+2*(d-_e)/3,st+2*(h-st)/3,_e,st)},Xy=function(){const s=this.currentPath;if(s.length<=2)return[[s[0],s[0],s.at(-1),s.at(-1)]];const o=[];let c,[d,h]=s[0];for(c=1;c<s.length-2;c++){const[rt,it]=s[c],[nt,lt]=s[c+1],ot=(rt+nt)/2,at=(it+lt)/2,ct=[d+2*(rt-d)/3,h+2*(it-h)/3],ut=[ot+2*(rt-ot)/3,at+2*(it-at)/3];o.push([[d,h],ct,ut,[ot,at]]),[d,h]=[ot,at]}const[g,j]=s[c],[_,$]=s[c+1],_e=[d+2*(g-d)/3,h+2*(j-h)/3],st=[_+2*(g-_)/3,$+2*(j-$)/3];return o.push([[d,h],_e,st,[_,$]]),o},Ko=function(){if(this.isEmpty()){pt(this,Ut,Dx).call(this);return}pt(this,Ut,qv).call(this);const{canvas:s,ctx:o}=this;o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,s.width,s.height),pt(this,Ut,Dx).call(this);for(const c of this.bezierPath2D)o.stroke(c)},Xv=function(){if(et(this,Np))return;dt(this,Np,new AbortController);const s=this._uiManager.combinedSignal(et(this,Np));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:s})},Yv=function(){var s;(s=this.pointerdownAC)==null||s.abort(),this.pointerdownAC=null},Qv=function(s){var o;(o=et(this,du))==null||o.abort(),dt(this,du,null),pt(this,Ut,Xv).call(this),et(this,gn)&&clearTimeout(et(this,gn)),dt(this,gn,setTimeout(()=>{dt(this,gn,null),this.canvas.removeEventListener("contextmenu",noContextMenu)},10)),pt(this,Ut,Wy).call(this,s.offsetX,s.offsetY),this.addToAnnotationStorage(),this.setInBackground()},$x=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ox=function(){dt(this,Gn,new ResizeObserver(s=>{const o=s[0].contentRect;o.width&&o.height&&this.setDimensions(o.width,o.height)})),et(this,Gn).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var s;(s=et(this,Gn))==null||s.disconnect(),dt(this,Gn,null)},{once:!0})},Nu=function(){if(!et(this,pu))return;const[s,o]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*s),this.canvas.height=Math.ceil(this.height*o),pt(this,Ut,Dx).call(this)},Jv=function(s,o){const c=pt(this,Ut,Fx).call(this),d=(s-c)/et(this,uu),h=(o-c)/et(this,cu);this.scaleFactor=Math.min(d,h)},Dx=function(){const s=pt(this,Ut,Fx).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+s,this.translationY*this.scaleFactor+s)},_i=new WeakSet,Yy=function(s){const o=new Path2D;for(let c=0,d=s.length;c<d;c++){const[h,g,j,_]=s[c];c===0&&o.moveTo(...h),o.bezierCurveTo(g[0],g[1],j[0],j[1],_[0],_[1])}return o},Zv=function(s,o,c){const[d,h,g,j]=o;switch(c){case 0:for(let _=0,$=s.length;_<$;_+=2)s[_]+=d,s[_+1]=j-s[_+1];break;case 90:for(let _=0,$=s.length;_<$;_+=2){const _e=s[_];s[_]=s[_+1]+d,s[_+1]=_e+h}break;case 180:for(let _=0,$=s.length;_<$;_+=2)s[_]=g-s[_],s[_+1]+=h;break;case 270:for(let _=0,$=s.length;_<$;_+=2){const _e=s[_];s[_]=g-s[_+1],s[_+1]=j-_e}break;default:throw new Error("Invalid rotation")}return s},Qy=function(s,o,c){const[d,h,g,j]=o;switch(c){case 0:for(let _=0,$=s.length;_<$;_+=2)s[_]-=d,s[_+1]=j-s[_+1];break;case 90:for(let _=0,$=s.length;_<$;_+=2){const _e=s[_];s[_]=s[_+1]-h,s[_+1]=_e-d}break;case 180:for(let _=0,$=s.length;_<$;_+=2)s[_]=g-s[_],s[_+1]-=h;break;case 270:for(let _=0,$=s.length;_<$;_+=2){const _e=s[_];s[_]=j-s[_+1],s[_+1]=g-_e}break;default:throw new Error("Invalid rotation")}return s},Jy=function(s,o,c,d){var $,_e;const h=[],g=this.thickness/2,j=s*o+g,_=s*c+g;for(const st of this.paths){const rt=[],it=[];for(let nt=0,lt=st.length;nt<lt;nt++){const[ot,at,ct,ut]=st[nt];if(ot[0]===ut[0]&&ot[1]===ut[1]&&lt===1){const At=s*ot[0]+j,Rt=s*ot[1]+_;rt.push(At,Rt),it.push(At,Rt);break}const ht=s*ot[0]+j,mt=s*ot[1]+_,xt=s*at[0]+j,Et=s*at[1]+_,Tt=s*ct[0]+j,St=s*ct[1]+_,gt=s*ut[0]+j,Ct=s*ut[1]+_;nt===0&&(rt.push(ht,mt),it.push(ht,mt)),rt.push(xt,Et,Tt,St,gt,Ct),it.push(xt,Et),nt===lt-1&&it.push(gt,Ct)}h.push({bezier:pt($=ws,_i,Zv).call($,rt,d,this.rotation),points:pt(_e=ws,_i,Zv).call(_e,it,d,this.rotation)})}return h},eE=function(){let s=1/0,o=-1/0,c=1/0,d=-1/0;for(const h of this.paths)for(const[g,j,_,$]of h){const _e=Util.bezierBoundingBox(...g,...j,..._,...$);s=Math.min(s,_e[0]),c=Math.min(c,_e[1]),o=Math.max(o,_e[2]),d=Math.max(d,_e[3])}return[s,c,o,d]},Fx=function(){return et(this,Cr)?Math.ceil(this.thickness*this.parentScale):0},Wp=function(s=!1){if(this.isEmpty())return;if(!et(this,Cr)){pt(this,Ut,Ko).call(this);return}const o=pt(this,Ut,eE).call(this),c=pt(this,Ut,Fx).call(this);dt(this,uu,Math.max(AnnotationEditor.MIN_SIZE,o[2]-o[0])),dt(this,cu,Math.max(AnnotationEditor.MIN_SIZE,o[3]-o[1]));const d=Math.ceil(c+et(this,uu)*this.scaleFactor),h=Math.ceil(c+et(this,cu)*this.scaleFactor),[g,j]=this.parentDimensions;this.width=d/g,this.height=h/j,this.setAspectRatio(d,h);const _=this.translationX,$=this.translationY;this.translationX=-o[0],this.translationY=-o[1],pt(this,Ut,Nu).call(this),pt(this,Ut,Ko).call(this),dt(this,mu,d),dt(this,fu,h),this.setDims(d,h);const _e=s?c/this.scaleFactor/2:0;this.translate(_-this.translationX-_e,$-this.translationY-_e)},ft(ws,_i),Qt(ws,"_defaultColor",null),Qt(ws,"_defaultOpacity",1),Qt(ws,"_defaultThickness",1),Qt(ws,"_type","ink"),Qt(ws,"_editorType",AnnotationEditorType.INK);let InkEditor=ws;var _s,Ws,Oo,Wn,Do,Tp,vn,qn,En,vr,Pp,cs,qp,Kp,Bx,tE,Zy,Ux,sE,Hx,_j,$j;const Xp=class Xp extends AnnotationEditor{constructor(s){super({...s,name:"stampEditor"});ft(this,cs);ft(this,_s,null);ft(this,Ws,null);ft(this,Oo,null);ft(this,Wn,null);ft(this,Do,null);ft(this,Tp,"");ft(this,vn,null);ft(this,qn,null);ft(this,En,null);ft(this,vr,!1);ft(this,Pp,!1);dt(this,Wn,s.bitmapUrl),dt(this,Do,s.bitmapFile)}static initialize(s,o){AnnotationEditor.initialize(s,o)}static get supportedTypes(){return shadow(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(o=>`image/${o}`))}static get supportedTypesStr(){return shadow(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(s){return this.supportedTypes.includes(s)}static paste(s,o){o.pasteEditor(AnnotationEditorType.STAMP,{bitmapFile:s.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var s;return{type:"stamp",hasAltText:!!((s=this.altTextData)!=null&&s.altText)}}static computeTelemetryFinalData(s){const o=s.get("hasAltText");return{hasAltText:o.get(!0)??0,hasNoAltText:o.get(!1)??0}}async mlGuessAltText(s=null,o=!0){if(this.hasAltTextData())return null;const{mlManager:c}=this._uiManager;if(!c)throw new Error("No ML.");if(!await c.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:d,width:h,height:g}=s||this.copyCanvas(null,null,!0).imageData,j=await c.guess({name:"altText",request:{data:d,width:h,height:g,channels:d.length/(h*g)}});if(!j)throw new Error("No response from the AI service.");if(j.error)throw new Error("Error from the AI service.");if(j.cancel)return null;if(!j.output)throw new Error("No valid response from the AI service.");const _=j.output;return await this.setGuessedAltText(_),o&&!this.hasAltTextData()&&(this.altTextData={alt:_,decorative:!1}),_}remove(){var s,o;et(this,Ws)&&(dt(this,_s,null),this._uiManager.imageManager.deleteId(et(this,Ws)),(s=et(this,vn))==null||s.remove(),dt(this,vn,null),(o=et(this,qn))==null||o.disconnect(),dt(this,qn,null),et(this,En)&&(clearTimeout(et(this,En)),dt(this,En,null))),super.remove()}rebuild(){if(!this.parent){et(this,Ws)&&pt(this,cs,Bx).call(this);return}super.rebuild(),this.div!==null&&(et(this,Ws)&&et(this,vn)===null&&pt(this,cs,Bx).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(et(this,Oo)||et(this,_s)||et(this,Wn)||et(this,Do)||et(this,Ws))}get isResizable(){return!0}render(){if(this.div)return this.div;let s,o;if(this.width&&(s=this.x,o=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),et(this,_s)?pt(this,cs,tE).call(this):pt(this,cs,Bx).call(this),this.width&&!this.annotationElementId){const[c,d]=this.parentDimensions;this.setAt(s*c,o*d,this.width*c,this.height*d)}return this.div}copyCanvas(s,o,c=!1){var rt;s||(s=224);const{width:d,height:h}=et(this,_s),g=new OutputScale;let j=et(this,_s),_=d,$=h,_e=null;if(o){if(d>o||h>o){const Et=Math.min(o/d,o/h);_=Math.floor(d*Et),$=Math.floor(h*Et)}_e=document.createElement("canvas");const it=_e.width=Math.ceil(_*g.sx),nt=_e.height=Math.ceil($*g.sy);et(this,vr)||(j=pt(this,cs,Ux).call(this,it,nt));const lt=_e.getContext("2d");lt.filter=this._uiManager.hcmFilter;let ot="white",at="#cfcfd8";this._uiManager.hcmFilter!=="none"?at="black":(rt=window.matchMedia)!=null&&rt.call(window,"(prefers-color-scheme: dark)").matches&&(ot="#8f8f9d",at="#42414d");const ct=15,ut=ct*g.sx,ht=ct*g.sy,mt=new OffscreenCanvas(ut*2,ht*2),xt=mt.getContext("2d");xt.fillStyle=ot,xt.fillRect(0,0,ut*2,ht*2),xt.fillStyle=at,xt.fillRect(0,0,ut,ht),xt.fillRect(ut,ht,ut,ht),lt.fillStyle=lt.createPattern(mt,"repeat"),lt.fillRect(0,0,it,nt),lt.drawImage(j,0,0,j.width,j.height,0,0,it,nt)}let st=null;if(c){let it,nt;if(g.symmetric&&j.width<s&&j.height<s)it=j.width,nt=j.height;else if(j=et(this,_s),d>s||h>s){const at=Math.min(s/d,s/h);it=Math.floor(d*at),nt=Math.floor(h*at),et(this,vr)||(j=pt(this,cs,Ux).call(this,it,nt))}const ot=new OffscreenCanvas(it,nt).getContext("2d",{willReadFrequently:!0});ot.drawImage(j,0,0,j.width,j.height,0,0,it,nt),st={width:it,height:nt,data:ot.getImageData(0,0,it,nt).data}}return{canvas:_e,width:_,height:$,imageData:st}}getImageForAltText(){return et(this,vn)}static async deserialize(s,o,c){var nt;let d=null;if(s instanceof StampAnnotationElement){const{data:{rect:lt,rotation:ot,id:at,structParent:ct,popupRef:ut},container:ht,parent:{page:{pageNumber:mt}}}=s,xt=ht.querySelector("canvas"),Et=c.imageManager.getFromCanvas(ht.id,xt);xt.remove();const Tt=((nt=await o._structTree.getAriaAttributes(`${AnnotationPrefix}${at}`))==null?void 0:nt.get("aria-label"))||"";d=s={annotationType:AnnotationEditorType.STAMP,bitmapId:Et.id,bitmap:Et.bitmap,pageIndex:mt-1,rect:lt.slice(0),rotation:ot,id:at,deleted:!1,accessibilityData:{decorative:!1,altText:Tt},isSvg:!1,structParent:ct,popupRef:ut}}const h=await super.deserialize(s,o,c),{rect:g,bitmap:j,bitmapUrl:_,bitmapId:$,isSvg:_e,accessibilityData:st}=s;$&&c.imageManager.isValidId($)?(dt(h,Ws,$),j&&dt(h,_s,j)):dt(h,Wn,_),dt(h,vr,_e);const[rt,it]=h.pageDimensions;return h.width=(g[2]-g[0])/rt,h.height=(g[3]-g[1])/it,h.annotationElementId=s.id||null,st&&(h.altTextData=st),h._initialData=d,dt(h,Pp,!!d),h}serialize(s=!1,o=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const c={annotationType:AnnotationEditorType.STAMP,bitmapId:et(this,Ws),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:et(this,vr),structTreeParentId:this._structTreeParentId};if(s)return c.bitmapUrl=pt(this,cs,Hx).call(this,!0),c.accessibilityData=this.serializeAltText(!0),c;const{decorative:d,altText:h}=this.serializeAltText(!1);if(!d&&h&&(c.accessibilityData={type:"Figure",alt:h}),this.annotationElementId){const j=pt(this,cs,$j).call(this,c);if(j.isSame)return null;j.isSameAltText?delete c.accessibilityData:c.accessibilityData.structParent=this._initialData.structParent??-1}if(c.id=this.annotationElementId,o===null)return c;o.stamps||(o.stamps=new Map);const g=et(this,vr)?(c.rect[2]-c.rect[0])*(c.rect[3]-c.rect[1]):null;if(!o.stamps.has(et(this,Ws)))o.stamps.set(et(this,Ws),{area:g,serialized:c}),c.bitmap=pt(this,cs,Hx).call(this,!1);else if(et(this,vr)){const j=o.stamps.get(et(this,Ws));g>j.area&&(j.area=g,j.serialized.bitmap.close(),j.serialized.bitmap=pt(this,cs,Hx).call(this,!1))}return c}renderAnnotationElement(s){return s.updateEdited({rect:this.getRect(0,0)}),null}};_s=new WeakMap,Ws=new WeakMap,Oo=new WeakMap,Wn=new WeakMap,Do=new WeakMap,Tp=new WeakMap,vn=new WeakMap,qn=new WeakMap,En=new WeakMap,vr=new WeakMap,Pp=new WeakMap,cs=new WeakSet,qp=function(s,o=!1){if(!s){this.remove();return}dt(this,_s,s.bitmap),o||(dt(this,Ws,s.id),dt(this,vr,s.isSvg)),s.file&&dt(this,Tp,s.file.name),pt(this,cs,tE).call(this)},Kp=function(){if(dt(this,Oo,null),this._uiManager.enableWaiting(!1),!!et(this,vn)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&et(this,_s)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&et(this,_s)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Bx=function(){if(et(this,Ws)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(et(this,Ws)).then(c=>pt(this,cs,qp).call(this,c,!0)).finally(()=>pt(this,cs,Kp).call(this));return}if(et(this,Wn)){const c=et(this,Wn);dt(this,Wn,null),this._uiManager.enableWaiting(!0),dt(this,Oo,this._uiManager.imageManager.getFromUrl(c).then(d=>pt(this,cs,qp).call(this,d)).finally(()=>pt(this,cs,Kp).call(this)));return}if(et(this,Do)){const c=et(this,Do);dt(this,Do,null),this._uiManager.enableWaiting(!0),dt(this,Oo,this._uiManager.imageManager.getFromFile(c).then(d=>pt(this,cs,qp).call(this,d)).finally(()=>pt(this,cs,Kp).call(this)));return}const s=document.createElement("input");s.type="file",s.accept=Xp.supportedTypesStr;const o=this._uiManager._signal;dt(this,Oo,new Promise(c=>{s.addEventListener("change",async()=>{if(!s.files||s.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const d=await this._uiManager.imageManager.getFromFile(s.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),pt(this,cs,qp).call(this,d)}c()},{signal:o}),s.addEventListener("cancel",()=>{this.remove(),c()},{signal:o})}).finally(()=>pt(this,cs,Kp).call(this))),s.click()},tE=function(){const{div:s}=this;let{width:o,height:c}=et(this,_s);const[d,h]=this.pageDimensions,g=.75;if(this.width)o=this.width*d,c=this.height*h;else if(o>g*d||c>g*h){const _e=Math.min(g*d/o,g*h/c);o*=_e,c*=_e}const[j,_]=this.parentDimensions;this.setDims(o*j/d,c*_/h),this._uiManager.enableWaiting(!1);const $=dt(this,vn,document.createElement("canvas"));$.setAttribute("role","img"),this.addContainer($),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(s.hidden=!1),pt(this,cs,sE).call(this,o,c),pt(this,cs,_j).call(this),et(this,Pp)||(this.parent.addUndoableEditor(this),dt(this,Pp,!0)),this._reportTelemetry({action:"inserted_image"}),et(this,Tp)&&$.setAttribute("aria-label",et(this,Tp))},Zy=function(s,o){var g;const[c,d]=this.parentDimensions;this.width=s/c,this.height=o/d,(g=this._initialOptions)!=null&&g.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,et(this,En)!==null&&clearTimeout(et(this,En)),dt(this,En,setTimeout(()=>{dt(this,En,null),pt(this,cs,sE).call(this,s,o)},200))},Ux=function(s,o){const{width:c,height:d}=et(this,_s);let h=c,g=d,j=et(this,_s);for(;h>2*s||g>2*o;){const _=h,$=g;h>2*s&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2)),g>2*o&&(g=g>=16384?Math.floor(g/2)-1:Math.ceil(g/2));const _e=new OffscreenCanvas(h,g);_e.getContext("2d").drawImage(j,0,0,_,$,0,0,h,g),j=_e.transferToImageBitmap()}return j},sE=function(s,o){const c=new OutputScale,d=Math.ceil(s*c.sx),h=Math.ceil(o*c.sy),g=et(this,vn);if(!g||g.width===d&&g.height===h)return;g.width=d,g.height=h;const j=et(this,vr)?et(this,_s):pt(this,cs,Ux).call(this,d,h),_=g.getContext("2d");_.filter=this._uiManager.hcmFilter,_.drawImage(j,0,0,j.width,j.height,0,0,d,h)},Hx=function(s){if(s){if(et(this,vr)){const d=this._uiManager.imageManager.getSvgUrl(et(this,Ws));if(d)return d}const o=document.createElement("canvas");return{width:o.width,height:o.height}=et(this,_s),o.getContext("2d").drawImage(et(this,_s),0,0),o.toDataURL()}if(et(this,vr)){const[o,c]=this.pageDimensions,d=Math.round(this.width*o*PixelsPerInch.PDF_TO_CSS_UNITS),h=Math.round(this.height*c*PixelsPerInch.PDF_TO_CSS_UNITS),g=new OffscreenCanvas(d,h);return g.getContext("2d").drawImage(et(this,_s),0,0,et(this,_s).width,et(this,_s).height,0,0,d,h),g.transferToImageBitmap()}return structuredClone(et(this,_s))},_j=function(){this._uiManager._signal&&(dt(this,qn,new ResizeObserver(s=>{const o=s[0].contentRect;o.width&&o.height&&pt(this,cs,Zy).call(this,o.width,o.height)})),et(this,qn).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var s;(s=et(this,qn))==null||s.disconnect(),dt(this,qn,null)},{once:!0}))},$j=function(s){var _;const{rect:o,pageIndex:c,accessibilityData:{altText:d}}=this._initialData,h=s.rect.every(($,_e)=>Math.abs($-o[_e])<1),g=s.pageIndex===c,j=(((_=s.accessibilityData)==null?void 0:_.alt)||"")===d;return{isSame:h&&g&&j,isSameAltText:j}},Qt(Xp,"_type","stamp"),Qt(Xp,"_editorType",AnnotationEditorType.STAMP);let StampEditor=Xp;var xu,kp,yn,Fo,Kn,Er,Bo,Ip,Mp,Js,Xn,Kt,Uo,qs,_b,rE,nE,iE,zx;const Lr=class Lr{constructor({uiManager:e,pageIndex:s,div:o,structTreeLayer:c,accessibilityManager:d,annotationLayer:h,drawLayer:g,textLayer:j,viewport:_,l10n:$}){ft(this,qs);ft(this,xu);ft(this,kp,!1);ft(this,yn,null);ft(this,Fo,null);ft(this,Kn,null);ft(this,Er,new Map);ft(this,Bo,!1);ft(this,Ip,!1);ft(this,Mp,!1);ft(this,Js,null);ft(this,Xn,null);ft(this,Kt);const _e=[...et(Lr,Uo).values()];if(!Lr._initialized){Lr._initialized=!0;for(const st of _e)st.initialize($,e)}e.registerEditorTypes(_e),dt(this,Kt,e),this.pageIndex=s,this.div=o,dt(this,xu,d),dt(this,yn,h),this.viewport=_,dt(this,Js,j),this.drawLayer=g,this._structTree=c,et(this,Kt).addLayer(this)}get isEmpty(){return et(this,Er).size===0}get isInvisible(){return this.isEmpty&&et(this,Kt).getMode()===AnnotationEditorType.NONE}updateToolbar(e){et(this,Kt).updateToolbar(e)}updateMode(e=et(this,Kt).getMode()){switch(pt(this,qs,zx).call(this),e){case AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:s}=this.div;for(const o of et(Lr,Uo).values())s.toggle(`${o._type}Editing`,e===o._editorType);this.div.hidden=!1}hasTextLayer(e){var s;return e===((s=et(this,Js))==null?void 0:s.div)}addInkEditorIfNeeded(e){if(et(this,Kt).getMode()!==AnnotationEditorType.INK)return;if(!e){for(const o of et(this,Er).values())if(o.isEmpty()){o.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){et(this,Kt).setEditingState(e)}addCommands(e){et(this,Kt).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var s;(s=et(this,yn))==null||s.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const o of et(this,Er).values())o.enableEditing(),o.show(!0),o.annotationElementId&&(et(this,Kt).removeChangedExistingAnnotation(o),e.add(o.annotationElementId));if(!et(this,yn))return;const s=et(this,yn).getEditableAnnotations();for(const o of s){if(o.hide(),et(this,Kt).isDeletedAnnotationElement(o.data.id)||e.has(o.data.id))continue;const c=await this.deserialize(o);c&&(this.addOrRebuild(c),c.enableEditing())}}disable(){var c;dt(this,Mp,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,s=new Map;for(const d of et(this,Er).values())if(d.disableEditing(),!!d.annotationElementId){if(d.serialize()!==null){e.set(d.annotationElementId,d);continue}else s.set(d.annotationElementId,d);(c=this.getEditableAnnotation(d.annotationElementId))==null||c.show(),d.remove()}if(et(this,yn)){const d=et(this,yn).getEditableAnnotations();for(const h of d){const{id:g}=h.data;if(et(this,Kt).isDeletedAnnotationElement(g))continue;let j=s.get(g);if(j){j.resetAnnotationElement(h),j.show(!1),h.show();continue}j=e.get(g),j&&(et(this,Kt).addChangedExistingAnnotation(j),j.renderAnnotationElement(h)&&j.show(!1)),h.show()}}pt(this,qs,zx).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:o}=this.div;for(const d of et(Lr,Uo).values())o.remove(`${d._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),dt(this,Mp,!1)}getEditableAnnotation(e){var s;return((s=et(this,yn))==null?void 0:s.getEditableAnnotation(e))||null}setActiveEditor(e){et(this,Kt).getActive()!==e&&et(this,Kt).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=et(this,Js))!=null&&e.div&&!et(this,Xn)){dt(this,Xn,new AbortController);const s=et(this,Kt).combinedSignal(et(this,Xn));et(this,Js).div.addEventListener("pointerdown",pt(this,qs,_b).bind(this),{signal:s}),et(this,Js).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=et(this,Js))!=null&&e.div&&et(this,Xn)&&(et(this,Xn).abort(),dt(this,Xn,null),et(this,Js).div.classList.remove("highlighting"))}enableClick(){if(et(this,Fo))return;dt(this,Fo,new AbortController);const e=et(this,Kt).combinedSignal(et(this,Fo));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=et(this,Fo))==null||e.abort(),dt(this,Fo,null)}attach(e){et(this,Er).set(e.id,e);const{annotationElementId:s}=e;s&&et(this,Kt).isDeletedAnnotationElement(s)&&et(this,Kt).removeDeletedAnnotationElement(e)}detach(e){var s;et(this,Er).delete(e.id),(s=et(this,xu))==null||s.removePointerInTextLayer(e.contentDiv),!et(this,Mp)&&e.annotationElementId&&et(this,Kt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),et(this,Kt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,et(this,Ip)||this.addInkEditorIfNeeded(!1)}changeParent(e){var s;e.parent!==this&&(e.parent&&e.annotationElementId&&(et(this,Kt).addDeletedAnnotationElement(e.annotationElementId),AnnotationEditor.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(s=e.parent)==null||s.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),et(this,Kt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const s=e.render();this.div.append(s),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),et(this,Kt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var o;if(!e.isAttachedToDOM)return;const{activeElement:s}=document;e.div.contains(s)&&!et(this,Kn)&&(e._focusEventsAllowed=!1,dt(this,Kn,setTimeout(()=>{dt(this,Kn,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:et(this,Kt)._signal}),s.focus())},0))),e._structTreeParentId=(o=et(this,xu))==null?void 0:o.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const s=()=>e._uiManager.rebuild(e),o=()=>{e.remove()};this.addCommands({cmd:s,undo:o,mustExec:!1})}getNextId(){return et(this,Kt).getId()}combinedSignal(e){return et(this,Kt).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=et(this,qs,rE))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,s){et(this,Kt).updateToolbar(e),et(this,Kt).updateMode(e);const{offsetX:o,offsetY:c}=pt(this,qs,iE).call(this),d=this.getNextId(),h=pt(this,qs,nE).call(this,{parent:this,id:d,x:o,y:c,uiManager:et(this,Kt),isCentered:!0,...s});h&&this.add(h)}async deserialize(e){var s;return await((s=et(Lr,Uo).get(e.annotationType??e.annotationEditorType))==null?void 0:s.deserialize(e,this,et(this,Kt)))||null}createAndAddNewEditor(e,s,o={}){const c=this.getNextId(),d=pt(this,qs,nE).call(this,{parent:this,id:c,x:e.offsetX,y:e.offsetY,uiManager:et(this,Kt),isCentered:s,...o});return d&&this.add(d),d}addNewEditor(){this.createAndAddNewEditor(pt(this,qs,iE).call(this),!0)}setSelected(e){et(this,Kt).setSelected(e)}toggleSelected(e){et(this,Kt).toggleSelected(e)}unselect(e){et(this,Kt).unselect(e)}pointerup(e){const{isMac:s}=util_FeatureTest.platform;if(!(e.button!==0||e.ctrlKey&&s)&&e.target===this.div&&et(this,Bo)){if(dt(this,Bo,!1),!et(this,kp)){dt(this,kp,!0);return}if(et(this,Kt).getMode()===AnnotationEditorType.STAMP){et(this,Kt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(et(this,Kt).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),et(this,Bo)){dt(this,Bo,!1);return}const{isMac:s}=util_FeatureTest.platform;if(e.button!==0||e.ctrlKey&&s||e.target!==this.div)return;dt(this,Bo,!0);const o=et(this,Kt).getActive();dt(this,kp,!o||o.isEmpty())}findNewParent(e,s,o){const c=et(this,Kt).findParent(s,o);return c===null||c===this?!1:(c.changeParent(e),!0)}destroy(){var e,s;((e=et(this,Kt).getActive())==null?void 0:e.parent)===this&&(et(this,Kt).commitOrRemove(),et(this,Kt).setActiveEditor(null)),et(this,Kn)&&(clearTimeout(et(this,Kn)),dt(this,Kn,null));for(const o of et(this,Er).values())(s=et(this,xu))==null||s.removePointerInTextLayer(o.contentDiv),o.setParent(null),o.isAttachedToDOM=!1,o.div.remove();this.div=null,et(this,Er).clear(),et(this,Kt).removeLayer(this)}render({viewport:e}){this.viewport=e,setLayerDimensions(this.div,e);for(const s of et(this,Kt).getEditors(this.pageIndex))this.add(s),s.rebuild();this.updateMode()}update({viewport:e}){et(this,Kt).commitOrRemove(),pt(this,qs,zx).call(this);const s=this.viewport.rotation,o=e.rotation;if(this.viewport=e,setLayerDimensions(this.div,{rotation:o}),s!==o)for(const c of et(this,Er).values())c.rotate(o);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:s}=this.viewport.rawDims;return[e,s]}get scale(){return et(this,Kt).viewParameters.realScale}};xu=new WeakMap,kp=new WeakMap,yn=new WeakMap,Fo=new WeakMap,Kn=new WeakMap,Er=new WeakMap,Bo=new WeakMap,Ip=new WeakMap,Mp=new WeakMap,Js=new WeakMap,Xn=new WeakMap,Kt=new WeakMap,Uo=new WeakMap,qs=new WeakSet,_b=function(e){et(this,Kt).unselectAll();const{target:s}=e;if(s===et(this,Js).div||(s.getAttribute("role")==="img"||s.classList.contains("endOfContent"))&&et(this,Js).div.contains(s)){const{isMac:o}=util_FeatureTest.platform;if(e.button!==0||e.ctrlKey&&o)return;et(this,Kt).showAllEditors("highlight",!0,!0),et(this,Js).div.classList.add("free"),this.toggleDrawing(),HighlightEditor.startHighlighting(this,et(this,Kt).direction==="ltr",{target:et(this,Js).div,x:e.x,y:e.y}),et(this,Js).div.addEventListener("pointerup",()=>{et(this,Js).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:et(this,Kt)._signal}),e.preventDefault()}},rE=function(){return et(Lr,Uo).get(et(this,Kt).getMode())},nE=function(e){const s=et(this,qs,rE);return s?new s.prototype.constructor(e):null},iE=function(){const{x:e,y:s,width:o,height:c}=this.div.getBoundingClientRect(),d=Math.max(0,e),h=Math.max(0,s),g=Math.min(window.innerWidth,e+o),j=Math.min(window.innerHeight,s+c),_=(d+g)/2-e,$=(h+j)/2-s,[_e,st]=this.viewport.rotation%180===0?[_,$]:[$,_];return{offsetX:_e,offsetY:st}},zx=function(){dt(this,Ip,!0);for(const e of et(this,Er).values())e.isEmpty()&&e.remove();dt(this,Ip,!1)},Qt(Lr,"_initialized",!1),ft(Lr,Uo,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor].map(e=>[e._editorType,e])));let AnnotationEditorLayer=Lr;var jn,dx,Ts,Yn,hx,oE,vu,aE,e0;const zs=class zs{constructor({pageIndex:e}){ft(this,vu);ft(this,jn,null);ft(this,dx,0);ft(this,Ts,new Map);ft(this,Yn,new Map);this.pageIndex=e}setParent(e){if(!et(this,jn)){dt(this,jn,e);return}if(et(this,jn)!==e){if(et(this,Ts).size>0)for(const s of et(this,Ts).values())s.remove(),e.append(s);dt(this,jn,e)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}draw(e,s,o,c=!1){const d=$s(this,dx)._++,h=pt(this,vu,aE).call(this,e.box);h.classList.add(...e.classNamesForDrawing);const g=zs._svgFactory.createElement("defs");h.append(g);const j=zs._svgFactory.createElement("path");g.append(j);const _=`path_p${this.pageIndex}_${d}`;j.setAttribute("id",_),j.setAttribute("d",e.toSVGPath()),c&&et(this,Yn).set(d,j);const $=pt(this,vu,e0).call(this,g,_),_e=zs._svgFactory.createElement("use");return h.append(_e),h.setAttribute("fill",s),h.setAttribute("fill-opacity",o),_e.setAttribute("href",`#${_}`),et(this,Ts).set(d,h),{id:d,clipPathId:`url(#${$})`}}drawOutline(e){const s=$s(this,dx)._++,o=pt(this,vu,aE).call(this,e.box);o.classList.add(...e.classNamesForOutlining);const c=zs._svgFactory.createElement("defs");o.append(c);const d=zs._svgFactory.createElement("path");c.append(d);const h=`path_p${this.pageIndex}_${s}`;d.setAttribute("id",h),d.setAttribute("d",e.toSVGPath()),d.setAttribute("vector-effect","non-scaling-stroke");let g;if(e.mustRemoveSelfIntersections){const $=zs._svgFactory.createElement("mask");c.append($),g=`mask_p${this.pageIndex}_${s}`,$.setAttribute("id",g),$.setAttribute("maskUnits","objectBoundingBox");const _e=zs._svgFactory.createElement("rect");$.append(_e),_e.setAttribute("width","1"),_e.setAttribute("height","1"),_e.setAttribute("fill","white");const st=zs._svgFactory.createElement("use");$.append(st),st.setAttribute("href",`#${h}`),st.setAttribute("stroke","none"),st.setAttribute("fill","black"),st.setAttribute("fill-rule","nonzero"),st.classList.add("mask")}const j=zs._svgFactory.createElement("use");o.append(j),j.setAttribute("href",`#${h}`),g&&j.setAttribute("mask",`url(#${g})`);const _=j.cloneNode();return o.append(_),j.classList.add("mainOutline"),_.classList.add("secondaryOutline"),et(this,Ts).set(s,o),s}finalizeLine(e,s){const o=et(this,Yn).get(e);et(this,Yn).delete(e),this.updateBox(e,s.box),o.setAttribute("d",s.toSVGPath())}updateLine(e,s){et(this,Ts).get(e).firstChild.firstChild.setAttribute("d",s.toSVGPath())}updatePath(e,s){et(this,Yn).get(e).setAttribute("d",s.toSVGPath())}updateBox(e,s){var o;pt(o=zs,hx,oE).call(o,et(this,Ts).get(e),s)}show(e,s){et(this,Ts).get(e).classList.toggle("hidden",!s)}rotate(e,s){et(this,Ts).get(e).setAttribute("data-main-rotation",s)}changeColor(e,s){et(this,Ts).get(e).setAttribute("fill",s)}changeOpacity(e,s){et(this,Ts).get(e).setAttribute("fill-opacity",s)}addClass(e,s){et(this,Ts).get(e).classList.add(s)}removeClass(e,s){et(this,Ts).get(e).classList.remove(s)}getSVGRoot(e){return et(this,Ts).get(e)}remove(e){et(this,Yn).delete(e),et(this,jn)!==null&&(et(this,Ts).get(e).remove(),et(this,Ts).delete(e))}destroy(){dt(this,jn,null);for(const e of et(this,Ts).values())e.remove();et(this,Ts).clear(),et(this,Yn).clear()}};jn=new WeakMap,dx=new WeakMap,Ts=new WeakMap,Yn=new WeakMap,hx=new WeakSet,oE=function(e,{x:s=0,y:o=0,width:c=1,height:d=1}={}){const{style:h}=e;h.top=`${100*o}%`,h.left=`${100*s}%`,h.width=`${100*c}%`,h.height=`${100*d}%`},vu=new WeakSet,aE=function(e){var o;const s=zs._svgFactory.create(1,1,!0);return et(this,jn).append(s),s.setAttribute("aria-hidden",!0),pt(o=zs,hx,oE).call(o,s,e),s},e0=function(e,s){const o=zs._svgFactory.createElement("clipPath");e.append(o);const c=`clip_${s}`;o.setAttribute("id",c),o.setAttribute("clipPathUnits","objectBoundingBox");const d=zs._svgFactory.createElement("use");return o.append(d),d.setAttribute("href",`#${s}`),d.classList.add("clip"),c},ft(zs,hx);let DrawLayer=zs;var __webpack_exports__AbortException=__webpack_exports__.AbortException,__webpack_exports__AnnotationEditorLayer=__webpack_exports__.AnnotationEditorLayer,__webpack_exports__AnnotationEditorParamsType=__webpack_exports__.AnnotationEditorParamsType,__webpack_exports__AnnotationEditorType=__webpack_exports__.AnnotationEditorType,__webpack_exports__AnnotationEditorUIManager=__webpack_exports__.AnnotationEditorUIManager,__webpack_exports__AnnotationLayer=__webpack_exports__.AnnotationLayer,__webpack_exports__AnnotationMode=__webpack_exports__.AnnotationMode,__webpack_exports__ColorPicker=__webpack_exports__.ColorPicker,__webpack_exports__DOMSVGFactory=__webpack_exports__.DOMSVGFactory,__webpack_exports__DrawLayer=__webpack_exports__.DrawLayer,__webpack_exports__FeatureTest=__webpack_exports__.FeatureTest,__webpack_exports__GlobalWorkerOptions=__webpack_exports__.GlobalWorkerOptions,__webpack_exports__ImageKind=__webpack_exports__.ImageKind,__webpack_exports__InvalidPDFException=__webpack_exports__.InvalidPDFException,__webpack_exports__MissingPDFException=__webpack_exports__.MissingPDFException,__webpack_exports__OPS=__webpack_exports__.OPS,__webpack_exports__OutputScale=__webpack_exports__.OutputScale,__webpack_exports__PDFDataRangeTransport=__webpack_exports__.PDFDataRangeTransport,__webpack_exports__PDFDateString=__webpack_exports__.PDFDateString,__webpack_exports__PDFWorker=__webpack_exports__.PDFWorker,__webpack_exports__PasswordResponses=__webpack_exports__.PasswordResponses,__webpack_exports__PermissionFlag=__webpack_exports__.PermissionFlag,__webpack_exports__PixelsPerInch=__webpack_exports__.PixelsPerInch,__webpack_exports__RenderingCancelledException=__webpack_exports__.RenderingCancelledException,__webpack_exports__TextLayer=__webpack_exports__.TextLayer,__webpack_exports__UnexpectedResponseException=__webpack_exports__.UnexpectedResponseException,__webpack_exports__Util=__webpack_exports__.Util,__webpack_exports__VerbosityLevel=__webpack_exports__.VerbosityLevel,__webpack_exports__XfaLayer=__webpack_exports__.XfaLayer,__webpack_exports__build=__webpack_exports__.build,__webpack_exports__createValidAbsoluteUrl=__webpack_exports__.createValidAbsoluteUrl,__webpack_exports__fetchData=__webpack_exports__.fetchData,__webpack_exports__getDocument=__webpack_exports__.getDocument,__webpack_exports__getFilenameFromUrl=__webpack_exports__.getFilenameFromUrl,__webpack_exports__getPdfFilenameFromUrl=__webpack_exports__.getPdfFilenameFromUrl,__webpack_exports__getXfaPageViewport=__webpack_exports__.getXfaPageViewport,__webpack_exports__isDataScheme=__webpack_exports__.isDataScheme,__webpack_exports__isPdfFile=__webpack_exports__.isPdfFile,__webpack_exports__noContextMenu=__webpack_exports__.noContextMenu,__webpack_exports__normalizeUnicode=__webpack_exports__.normalizeUnicode,__webpack_exports__setLayerDimensions=__webpack_exports__.setLayerDimensions,__webpack_exports__shadow=__webpack_exports__.shadow,__webpack_exports__version=__webpack_exports__.version;const pdf=Object.freeze(Object.defineProperty({__proto__:null,AbortException:__webpack_exports__AbortException,AnnotationEditorLayer:__webpack_exports__AnnotationEditorLayer,AnnotationEditorParamsType:__webpack_exports__AnnotationEditorParamsType,AnnotationEditorType:__webpack_exports__AnnotationEditorType,AnnotationEditorUIManager:__webpack_exports__AnnotationEditorUIManager,AnnotationLayer:__webpack_exports__AnnotationLayer,AnnotationMode:__webpack_exports__AnnotationMode,ColorPicker:__webpack_exports__ColorPicker,DOMSVGFactory:__webpack_exports__DOMSVGFactory,DrawLayer:__webpack_exports__DrawLayer,FeatureTest:__webpack_exports__FeatureTest,GlobalWorkerOptions:__webpack_exports__GlobalWorkerOptions,ImageKind:__webpack_exports__ImageKind,InvalidPDFException:__webpack_exports__InvalidPDFException,MissingPDFException:__webpack_exports__MissingPDFException,OPS:__webpack_exports__OPS,OutputScale:__webpack_exports__OutputScale,PDFDataRangeTransport:__webpack_exports__PDFDataRangeTransport,PDFDateString:__webpack_exports__PDFDateString,PDFWorker:__webpack_exports__PDFWorker,PasswordResponses:__webpack_exports__PasswordResponses,PermissionFlag:__webpack_exports__PermissionFlag,PixelsPerInch:__webpack_exports__PixelsPerInch,RenderingCancelledException:__webpack_exports__RenderingCancelledException,TextLayer:__webpack_exports__TextLayer,UnexpectedResponseException:__webpack_exports__UnexpectedResponseException,Util:__webpack_exports__Util,VerbosityLevel:__webpack_exports__VerbosityLevel,XfaLayer:__webpack_exports__XfaLayer,build:__webpack_exports__build,createValidAbsoluteUrl:__webpack_exports__createValidAbsoluteUrl,fetchData:__webpack_exports__fetchData,getDocument:__webpack_exports__getDocument,getFilenameFromUrl:__webpack_exports__getFilenameFromUrl,getPdfFilenameFromUrl:__webpack_exports__getPdfFilenameFromUrl,getXfaPageViewport:__webpack_exports__getXfaPageViewport,isDataScheme:__webpack_exports__isDataScheme,isPdfFile:__webpack_exports__isPdfFile,noContextMenu:__webpack_exports__noContextMenu,normalizeUnicode:__webpack_exports__normalizeUnicode,setLayerDimensions:__webpack_exports__setLayerDimensions,shadow:__webpack_exports__shadow,version:__webpack_exports__version},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(pdf);var Document$1={},cjs$2={};(function(i){var e=commonjsGlobal&&commonjsGlobal.__spreadArray||function(o,c,d){if(d||arguments.length===2)for(var h=0,g=c.length,j;h<g;h++)(j||!(h in c))&&(j||(j=Array.prototype.slice.call(c,0,h)),j[h]=c[h]);return o.concat(j||Array.prototype.slice.call(c))};Object.defineProperty(i,"__esModule",{value:!0}),i.allEvents=i.changeEvents=i.otherEvents=i.transitionEvents=i.animationEvents=i.wheelEvents=i.uiEvents=i.pointerEvents=i.touchEvents=i.selectionEvents=i.dragEvents=i.mouseEvents=i.mediaEvents=i.keyboardEvents=i.imageEvents=i.formEvents=i.focusEvents=i.compositionEvents=i.clipboardEvents=void 0,i.clipboardEvents=["onCopy","onCut","onPaste"],i.compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],i.focusEvents=["onFocus","onBlur"],i.formEvents=["onInput","onInvalid","onReset","onSubmit"],i.imageEvents=["onLoad","onError"],i.keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],i.mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],i.mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],i.dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],i.selectionEvents=["onSelect"],i.touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],i.pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],i.uiEvents=["onScroll"],i.wheelEvents=["onWheel"],i.animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],i.transitionEvents=["onTransitionEnd"],i.otherEvents=["onToggle"],i.changeEvents=["onChange"],i.allEvents=e(e(e(e(e(e(e(e(e(e(e(e(e(e(e(e(e(e([],i.clipboardEvents,!0),i.compositionEvents,!0),i.focusEvents,!0),i.formEvents,!0),i.imageEvents,!0),i.keyboardEvents,!0),i.mediaEvents,!0),i.mouseEvents,!0),i.dragEvents,!0),i.selectionEvents,!0),i.touchEvents,!0),i.pointerEvents,!0),i.uiEvents,!0),i.wheelEvents,!0),i.animationEvents,!0),i.transitionEvents,!0),i.changeEvents,!0),i.otherEvents,!0);function s(o,c){var d={};return i.allEvents.forEach(function(h){var g=o[h];g&&(c?d[h]=function(j){return g(j,c(h))}:d[h]=g)}),d}i.default=s})(cjs$2);var cjs$1={};Object.defineProperty(cjs$1,"__esModule",{value:!0});function makeCancellablePromise(i){var e=!1,s=new Promise(function(o,c){i.then(function(d){return!e&&o(d)}).catch(function(d){return!e&&c(d)})});return{promise:s,cancel:function(){e=!0}}}cjs$1.default=makeCancellablePromise;const require$$1=getAugmentedNamespace(clsx$1);var prefix="Invariant failed";function invariant(i,e){if(!i)throw new Error(prefix)}var tinyInvariant_cjs=invariant,warning=function(){},warning_1$7=warning,dist={},has=Object.prototype.hasOwnProperty;function find(i,e,s){for(s of i.keys())if(dequal(s,e))return s}function dequal(i,e){var s,o,c;if(i===e)return!0;if(i&&e&&(s=i.constructor)===e.constructor){if(s===Date)return i.getTime()===e.getTime();if(s===RegExp)return i.toString()===e.toString();if(s===Array){if((o=i.length)===e.length)for(;o--&&dequal(i[o],e[o]););return o===-1}if(s===Set){if(i.size!==e.size)return!1;for(o of i)if(c=o,c&&typeof c=="object"&&(c=find(e,c),!c)||!e.has(c))return!1;return!0}if(s===Map){if(i.size!==e.size)return!1;for(o of i)if(c=o[0],c&&typeof c=="object"&&(c=find(e,c),!c)||!dequal(o[1],e.get(c)))return!1;return!0}if(s===ArrayBuffer)i=new Uint8Array(i),e=new Uint8Array(e);else if(s===DataView){if((o=i.byteLength)===e.byteLength)for(;o--&&i.getInt8(o)===e.getInt8(o););return o===-1}if(ArrayBuffer.isView(i)){if((o=i.byteLength)===e.byteLength)for(;o--&&i[o]===e[o];);return o===-1}if(!s||typeof i=="object"){o=0;for(s in i)if(has.call(i,s)&&++o&&!has.call(e,s)||!(s in e)||!dequal(i[s],e[s]))return!1;return Object.keys(e).length===o}}return i!==i&&e!==e}dist.dequal=dequal;var DocumentContext={};Object.defineProperty(DocumentContext,"__esModule",{value:!0});const react_1$f=reactExports,documentContext=(0,react_1$f.createContext)(null);DocumentContext.default=documentContext;var Message$1={};Object.defineProperty(Message$1,"__esModule",{value:!0});Message$1.default=Message;const jsx_runtime_1$a=jsxRuntimeExports;function Message({children:i,type:e}){return(0,jsx_runtime_1$a.jsx)("div",{className:`react-pdf__message react-pdf__message--${e}`,children:i})}var LinkService$1={},__importDefault$d=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(LinkService$1,"__esModule",{value:!0});const tiny_invariant_1$9=__importDefault$d(tinyInvariant_cjs),DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return(0,tiny_invariant_1$9.default)(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(e){(0,tiny_invariant_1$9.default)(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(s=>{(0,tiny_invariant_1$9.default)(this.pdfDocument,"PDF document not loaded."),(0,tiny_invariant_1$9.default)(e,"Destination is not specified."),typeof e=="string"?this.pdfDocument.getDestination(e).then(s):Array.isArray(e)?s(e):e.then(s)}).then(s=>{(0,tiny_invariant_1$9.default)(Array.isArray(s),`"${s}" is not a valid destination array.`);const o=s[0];new Promise(c=>{(0,tiny_invariant_1$9.default)(this.pdfDocument,"PDF document not loaded."),o instanceof Object?this.pdfDocument.getPageIndex(o).then(d=>{c(d)}).catch(()=>{(0,tiny_invariant_1$9.default)(!1,`"${o}" is not a valid page reference.`)}):typeof o=="number"?c(o):(0,tiny_invariant_1$9.default)(!1,`"${o}" is not a valid destination reference.`)}).then(c=>{const d=c+1;(0,tiny_invariant_1$9.default)(this.pdfViewer,"PDF viewer is not initialized."),(0,tiny_invariant_1$9.default)(d>=1&&d<=this.pagesCount,`"${d}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:s,pageIndex:c,pageNumber:d})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const s=e-1;(0,tiny_invariant_1$9.default)(this.pdfViewer,"PDF viewer is not initialized."),(0,tiny_invariant_1$9.default)(e>=1&&e<=this.pagesCount,`"${e}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:s,pageNumber:e})}addLinkAttributes(e,s,o){e.href=s,e.rel=this.externalLinkRel||DEFAULT_LINK_REL,e.target=o?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}LinkService$1.default=LinkService;var PasswordResponses$1={};Object.defineProperty(PasswordResponses$1,"__esModule",{value:!0});const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};PasswordResponses$1.default=PasswordResponses;var utils={};(function(i){var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(ct){return ct&&ct.__esModule?ct:{default:ct}};Object.defineProperty(i,"__esModule",{value:!0}),i.isLocalFileSystem=i.isBrowser=void 0,i.isDefined=c,i.isProvided=d,i.isString=h,i.isArrayBuffer=g,i.isBlob=j,i.isDataURI=_,i.dataURItoByteString=$,i.getDevicePixelRatio=_e,i.displayCORSWarning=rt,i.displayWorkerWarning=it,i.cancelRunningTask=nt,i.makePageCallback=lt,i.isCancelException=ot,i.loadFromFile=at;const s=e(tinyInvariant_cjs),o=e(warning_1$7);i.isBrowser=typeof window<"u",i.isLocalFileSystem=i.isBrowser&&window.location.protocol==="file:";function c(ct){return typeof ct<"u"}function d(ct){return c(ct)&&ct!==null}function h(ct){return typeof ct=="string"}function g(ct){return ct instanceof ArrayBuffer}function j(ct){return(0,s.default)(i.isBrowser,"isBlob can only be used in a browser environment"),ct instanceof Blob}function _(ct){return h(ct)&&/^data:/.test(ct)}function $(ct){(0,s.default)(_(ct),"Invalid data URI.");const[ut="",ht=""]=ct.split(",");return ut.split(";").indexOf("base64")!==-1?atob(ht):unescape(ht)}function _e(){return i.isBrowser&&window.devicePixelRatio||1}const st="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function rt(){(0,o.default)(!i.isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${st}`)}function it(){(0,o.default)(!i.isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${st}`)}function nt(ct){ct!=null&&ct.cancel&&ct.cancel()}function lt(ct,ut){return Object.defineProperty(ct,"width",{get(){return this.view[2]*ut},configurable:!0}),Object.defineProperty(ct,"height",{get(){return this.view[3]*ut},configurable:!0}),Object.defineProperty(ct,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(ct,"originalHeight",{get(){return this.view[3]},configurable:!0}),ct}function ot(ct){return ct.name==="RenderingCancelledException"}function at(ct){return new Promise((ut,ht)=>{const mt=new FileReader;mt.onload=()=>{if(!mt.result)return ht(new Error("Error while reading a file."));ut(mt.result)},mt.onerror=xt=>{if(!xt.target)return ht(new Error("Error while reading a file."));const{error:Et}=xt.target;if(!Et)return ht(new Error("Error while reading a file."));switch(Et.code){case Et.NOT_FOUND_ERR:return ht(new Error("Error while reading a file: File not found."));case Et.SECURITY_ERR:return ht(new Error("Error while reading a file: Security error."));case Et.ABORT_ERR:return ht(new Error("Error while reading a file: Aborted."));default:return ht(new Error("Error while reading a file."))}},mt.readAsArrayBuffer(ct)})}})(utils);var useResolver$1={};Object.defineProperty(useResolver$1,"__esModule",{value:!0});useResolver$1.default=useResolver;const react_1$e=reactExports;function reducer(i,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function useResolver(){return(0,react_1$e.useReducer)(reducer,{value:void 0,error:void 0})}var __createBinding$4=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,e,s,o){o===void 0&&(o=s);var c=Object.getOwnPropertyDescriptor(e,s);(!c||("get"in c?!e.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(i,o,c)}:function(i,e,s,o){o===void 0&&(o=s),i[o]=e[s]}),__setModuleDefault$4=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e}),__importStar$4=commonjsGlobal&&commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var s in i)s!=="default"&&Object.prototype.hasOwnProperty.call(i,s)&&__createBinding$4(e,i,s);return __setModuleDefault$4(e,i),e},__awaiter$2=commonjsGlobal&&commonjsGlobal.__awaiter||function(i,e,s,o){function c(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function g($){try{_(o.next($))}catch(_e){h(_e)}}function j($){try{_(o.throw($))}catch(_e){h(_e)}}function _($){$.done?d($.value):c($.value).then(g,j)}_((o=o.apply(i,e||[])).next())})},__rest$4=commonjsGlobal&&commonjsGlobal.__rest||function(i,e){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&e.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(i);c<o.length;c++)e.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(i,o[c])&&(s[o[c]]=i[o[c]]);return s},__importDefault$c=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Document$1,"__esModule",{value:!0});const jsx_runtime_1$9=jsxRuntimeExports,react_1$d=reactExports,make_event_props_1$2=__importDefault$c(cjs$2),make_cancellable_promise_1$5=__importDefault$c(cjs$1),clsx_1$5=__importDefault$c(require$$1),tiny_invariant_1$8=__importDefault$c(tinyInvariant_cjs),warning_1$6=__importDefault$c(warning_1$7),dequal_1=dist,pdfjs$4=__importStar$4(require$$0),DocumentContext_js_1$1=__importDefault$c(DocumentContext),Message_js_1$1=__importDefault$c(Message$1),LinkService_js_1=__importDefault$c(LinkService$1),PasswordResponses_js_1$1=__importDefault$c(PasswordResponses$1),utils_js_1$9=utils,useResolver_js_1$5=__importDefault$c(useResolver$1),{PDFDataRangeTransport}=pdfjs$4,defaultOnPassword=(i,e)=>{switch(e){case PasswordResponses_js_1$1.default.NEED_PASSWORD:{const s=prompt("Enter the password to open this PDF file.");i(s);break}case PasswordResponses_js_1$1.default.INCORRECT_PASSWORD:{const s=prompt("Invalid password. Please try again.");i(s);break}}};function isParameterObject(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const Document=(0,react_1$d.forwardRef)(function(e,s){var{children:o,className:c,error:d="Failed to load PDF file.",externalLinkRel:h,externalLinkTarget:g,file:j,inputRef:_,imageResourcesPath:$,loading:_e="Loading PDF",noData:st="No PDF file specified.",onItemClick:rt,onLoadError:it,onLoadProgress:nt,onLoadSuccess:lt,onPassword:ot=defaultOnPassword,onSourceError:at,onSourceSuccess:ct,options:ut,renderMode:ht,rotate:mt}=e,xt=__rest$4(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[Et,Tt]=(0,useResolver_js_1$5.default)(),{value:St,error:gt}=Et,[Ct,At]=(0,useResolver_js_1$5.default)(),{value:Rt,error:kt}=Ct,Mt=(0,react_1$d.useRef)(new LinkService_js_1.default),It=(0,react_1$d.useRef)([]),Nt=(0,react_1$d.useRef)(void 0),Pt=(0,react_1$d.useRef)(void 0);j&&j!==Nt.current&&isParameterObject(j)&&((0,warning_1$6.default)(!(0,dequal_1.dequal)(j,Nt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Nt.current=j),ut&&ut!==Pt.current&&((0,warning_1$6.default)(!(0,dequal_1.dequal)(ut,Pt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Pt.current=ut);const Lt=(0,react_1$d.useRef)({scrollPageIntoView:es=>{const{dest:us,pageNumber:ys,pageIndex:vs=ys-1}=es;if(rt){rt({dest:us,pageIndex:vs,pageNumber:ys});return}const nr=It.current[vs];if(nr){nr.scrollIntoView();return}(0,warning_1$6.default)(!1,`An internal link leading to page ${ys} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});(0,react_1$d.useImperativeHandle)(s,()=>({linkService:Mt,pages:It,viewer:Lt}),[]);function Bt(){ct&&ct()}function Dt(){gt&&((0,warning_1$6.default)(!1,gt.toString()),at&&at(gt))}function Ht(){Tt({type:"RESET"})}(0,react_1$d.useEffect)(Ht,[j,Tt]);const Gt=(0,react_1$d.useCallback)(()=>__awaiter$2(this,void 0,void 0,function*(){if(!j)return null;if(typeof j=="string")return(0,utils_js_1$9.isDataURI)(j)?{data:(0,utils_js_1$9.dataURItoByteString)(j)}:((0,utils_js_1$9.displayCORSWarning)(),{url:j});if(j instanceof PDFDataRangeTransport)return{range:j};if((0,utils_js_1$9.isArrayBuffer)(j))return{data:j};if(utils_js_1$9.isBrowser&&(0,utils_js_1$9.isBlob)(j))return{data:yield(0,utils_js_1$9.loadFromFile)(j)};if((0,tiny_invariant_1$8.default)(typeof j=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),(0,tiny_invariant_1$8.default)(isParameterObject(j),"Invalid parameter object: need either .data, .range or .url"),"url"in j&&typeof j.url=="string"){if((0,utils_js_1$9.isDataURI)(j.url)){const{url:es}=j,us=__rest$4(j,["url"]),ys=(0,utils_js_1$9.dataURItoByteString)(es);return Object.assign({data:ys},us)}(0,utils_js_1$9.displayCORSWarning)()}return j}),[j]);(0,react_1$d.useEffect)(()=>{const es=(0,make_cancellable_promise_1$5.default)(Gt());return es.promise.then(us=>{Tt({type:"RESOLVE",value:us})}).catch(us=>{Tt({type:"REJECT",error:us})}),()=>{(0,utils_js_1$9.cancelRunningTask)(es)}},[Gt,Tt]),(0,react_1$d.useEffect)(()=>{if(!(typeof St>"u")){if(St===!1){Dt();return}Bt()}},[St]);function rs(){Rt&&(lt&&lt(Rt),It.current=new Array(Rt.numPages),Mt.current.setDocument(Rt))}function Xt(){kt&&((0,warning_1$6.default)(!1,kt.toString()),it&&it(kt))}(0,react_1$d.useEffect)(function(){At({type:"RESET"})},[At,St]),(0,react_1$d.useEffect)(function(){if(!St)return;const us=ut?Object.assign(Object.assign({},St),ut):St,ys=pdfjs$4.getDocument(us);nt&&(ys.onProgress=nt),ot&&(ys.onPassword=ot);const vs=ys,nr=vs.promise.then(Pr=>{At({type:"RESOLVE",value:Pr})}).catch(Pr=>{vs.destroyed||At({type:"REJECT",error:Pr})});return()=>{nr.finally(()=>vs.destroy())}},[ut,At,St]),(0,react_1$d.useEffect)(()=>{if(!(typeof Rt>"u")){if(Rt===!1){Xt();return}rs()}},[Rt]),(0,react_1$d.useEffect)(function(){Mt.current.setViewer(Lt.current),Mt.current.setExternalLinkRel(h),Mt.current.setExternalLinkTarget(g)},[h,g]);const $t=(0,react_1$d.useCallback)((es,us)=>{It.current[es]=us},[]),Zt=(0,react_1$d.useCallback)(es=>{delete It.current[es]},[]),Jt=(0,react_1$d.useMemo)(()=>({imageResourcesPath:$,linkService:Mt.current,onItemClick:rt,pdf:Rt,registerPage:$t,renderMode:ht,rotate:mt,unregisterPage:Zt}),[$,rt,Rt,$t,ht,mt,Zt]),qt=(0,react_1$d.useMemo)(()=>(0,make_event_props_1$2.default)(xt,()=>Rt),[xt,Rt]);function ns(){return(0,jsx_runtime_1$9.jsx)(DocumentContext_js_1$1.default.Provider,{value:Jt,children:o})}function as(){return j?Rt==null?(0,jsx_runtime_1$9.jsx)(Message_js_1$1.default,{type:"loading",children:typeof _e=="function"?_e():_e}):Rt===!1?(0,jsx_runtime_1$9.jsx)(Message_js_1$1.default,{type:"error",children:typeof d=="function"?d():d}):ns():(0,jsx_runtime_1$9.jsx)(Message_js_1$1.default,{type:"no-data",children:typeof st=="function"?st():st})}return(0,jsx_runtime_1$9.jsx)("div",Object.assign({className:(0,clsx_1$5.default)("react-pdf__Document",c),ref:_,style:{"--scale-factor":"1"}},qt,{children:as()}))});Document$1.default=Document;var Outline$1={},OutlineContext={};Object.defineProperty(OutlineContext,"__esModule",{value:!0});const react_1$c=reactExports,outlineContext=(0,react_1$c.createContext)(null);OutlineContext.default=outlineContext;var OutlineItem$1={},Ref$1={};Object.defineProperty(Ref$1,"__esModule",{value:!0});class Ref{constructor({num:e,gen:s}){this.num=e,this.gen=s}toString(){let e=`${this.num}R`;return this.gen!==0&&(e+=this.gen),e}}Ref$1.default=Ref;var useCachedValue$1={};Object.defineProperty(useCachedValue$1,"__esModule",{value:!0});useCachedValue$1.default=useCachedValue;const react_1$b=reactExports,utils_js_1$8=utils;function useCachedValue(i){const e=(0,react_1$b.useRef)(void 0),s=e.current;return(0,utils_js_1$8.isDefined)(s)?()=>s:()=>{const o=i();return e.current=o,o}}var useDocumentContext$1={},__importDefault$b=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(useDocumentContext$1,"__esModule",{value:!0});useDocumentContext$1.default=useDocumentContext;const react_1$a=reactExports,DocumentContext_js_1=__importDefault$b(DocumentContext);function useDocumentContext(){return(0,react_1$a.useContext)(DocumentContext_js_1.default)}var useOutlineContext$1={},__importDefault$a=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(useOutlineContext$1,"__esModule",{value:!0});useOutlineContext$1.default=useOutlineContext;const react_1$9=reactExports,OutlineContext_js_1$1=__importDefault$a(OutlineContext);function useOutlineContext(){return(0,react_1$9.useContext)(OutlineContext_js_1$1.default)}var __awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(i,e,s,o){function c(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function g($){try{_(o.next($))}catch(_e){h(_e)}}function j($){try{_(o.throw($))}catch(_e){h(_e)}}function _($){$.done?d($.value):c($.value).then(g,j)}_((o=o.apply(i,e||[])).next())})},__rest$3=commonjsGlobal&&commonjsGlobal.__rest||function(i,e){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&e.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(i);c<o.length;c++)e.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(i,o[c])&&(s[o[c]]=i[o[c]]);return s},__importDefault$9=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(OutlineItem$1,"__esModule",{value:!0});OutlineItem$1.default=OutlineItem;const jsx_runtime_1$8=jsxRuntimeExports,tiny_invariant_1$7=__importDefault$9(tinyInvariant_cjs),Ref_js_1=__importDefault$9(Ref$1),useCachedValue_js_1=__importDefault$9(useCachedValue$1),useDocumentContext_js_1$5=__importDefault$9(useDocumentContext$1),useOutlineContext_js_1$1=__importDefault$9(useOutlineContext$1);function OutlineItem(i){const e=(0,useDocumentContext_js_1$5.default)(),s=(0,useOutlineContext_js_1$1.default)();(0,tiny_invariant_1$7.default)(s,"Unable to find Outline context.");const o=Object.assign(Object.assign(Object.assign({},e),s),i),{item:c,linkService:d,onItemClick:h,pdf:g}=o,j=__rest$3(o,["item","linkService","onItemClick","pdf"]);(0,tiny_invariant_1$7.default)(g,"Attempted to load an outline, but no document was specified. Wrap <Outline /> in a <Document /> or pass explicit `pdf` prop.");const _=(0,useCachedValue_js_1.default)(()=>typeof c.dest=="string"?g.getDestination(c.dest):c.dest),$=(0,useCachedValue_js_1.default)(()=>__awaiter$1(this,void 0,void 0,function*(){const it=yield _();if(!it)throw new Error("Destination not found.");const[nt]=it;return g.getPageIndex(new Ref_js_1.default(nt))})),_e=(0,useCachedValue_js_1.default)(()=>__awaiter$1(this,void 0,void 0,function*(){return(yield $())+1}));function st(it){it.preventDefault(),(0,tiny_invariant_1$7.default)(h||d,"Either onItemClick callback or linkService must be defined in order to navigate to an outline item."),h?Promise.all([_(),$(),_e()]).then(([nt,lt,ot])=>{h({dest:nt,pageIndex:lt,pageNumber:ot})}):d&&d.goToDestination(c.dest)}function rt(){if(!c.items||!c.items.length)return null;const{items:it}=c;return(0,jsx_runtime_1$8.jsx)("ul",{children:it.map((nt,lt)=>(0,jsx_runtime_1$8.jsx)(OutlineItem,Object.assign({item:nt,pdf:g},j),typeof nt.dest=="string"?nt.dest:lt))})}return(0,jsx_runtime_1$8.jsxs)("li",{children:[(0,jsx_runtime_1$8.jsx)("a",{href:"#",onClick:st,children:c.title}),rt()]})}var __rest$2=commonjsGlobal&&commonjsGlobal.__rest||function(i,e){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&e.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(i);c<o.length;c++)e.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(i,o[c])&&(s[o[c]]=i[o[c]]);return s},__importDefault$8=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Outline$1,"__esModule",{value:!0});Outline$1.default=Outline;const jsx_runtime_1$7=jsxRuntimeExports,react_1$8=reactExports,make_cancellable_promise_1$4=__importDefault$8(cjs$1),make_event_props_1$1=__importDefault$8(cjs$2),clsx_1$4=__importDefault$8(require$$1),tiny_invariant_1$6=__importDefault$8(tinyInvariant_cjs),warning_1$5=__importDefault$8(warning_1$7),OutlineContext_js_1=__importDefault$8(OutlineContext),OutlineItem_js_1=__importDefault$8(OutlineItem$1),utils_js_1$7=utils,useDocumentContext_js_1$4=__importDefault$8(useDocumentContext$1),useResolver_js_1$4=__importDefault$8(useResolver$1);function Outline(i){const e=(0,useDocumentContext_js_1$4.default)(),s=Object.assign(Object.assign({},e),i),{className:o,inputRef:c,onItemClick:d,onLoadError:h,onLoadSuccess:g,pdf:j}=s,_=__rest$2(s,["className","inputRef","onItemClick","onLoadError","onLoadSuccess","pdf"]);(0,tiny_invariant_1$6.default)(j,"Attempted to load an outline, but no document was specified. Wrap <Outline /> in a <Document /> or pass explicit `pdf` prop.");const[$,_e]=(0,useResolver_js_1$4.default)(),{value:st,error:rt}=$;function it(){typeof st>"u"||st===!1||g&&g(st)}function nt(){rt&&((0,warning_1$5.default)(!1,rt.toString()),h&&h(rt))}(0,react_1$8.useEffect)(function(){_e({type:"RESET"})},[_e,j]),(0,react_1$8.useEffect)(function(){if(!j)return;const ut=(0,make_cancellable_promise_1$4.default)(j.getOutline()),ht=ut;return ut.promise.then(mt=>{_e({type:"RESOLVE",value:mt})}).catch(mt=>{_e({type:"REJECT",error:mt})}),()=>(0,utils_js_1$7.cancelRunningTask)(ht)},[_e,j]),(0,react_1$8.useEffect)(()=>{if(st!==void 0){if(st===!1){nt();return}it()}},[st]);const lt=(0,react_1$8.useMemo)(()=>({onItemClick:d}),[d]),ot=(0,react_1$8.useMemo)(()=>(0,make_event_props_1$1.default)(_,()=>st),[_,st]);if(!st)return null;function at(){return st?(0,jsx_runtime_1$7.jsx)("ul",{children:st.map((ct,ut)=>(0,jsx_runtime_1$7.jsx)(OutlineItem_js_1.default,{item:ct,pdf:j},typeof ct.dest=="string"?ct.dest:ut))}):null}return(0,jsx_runtime_1$7.jsx)("div",Object.assign({className:(0,clsx_1$4.default)("react-pdf__Outline",o),ref:c},ot,{children:(0,jsx_runtime_1$7.jsx)(OutlineContext_js_1.default.Provider,{value:lt,children:at()})}))}var Page$1={},cjs={};Object.defineProperty(cjs,"__esModule",{value:!0});function mergeRefs(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var s=i.filter(Boolean);if(s.length<=1){var o=s[0];return o||null}return function(d){s.forEach(function(h){typeof h=="function"?h(d):h&&(h.current=d)})}}cjs.default=mergeRefs;var PageContext={};Object.defineProperty(PageContext,"__esModule",{value:!0});const react_1$7=reactExports,pageContext=(0,react_1$7.createContext)(null);PageContext.default=pageContext;var Canvas$1={},StructTree$1={},StructTreeItem$1={},structTreeUtils={},constants={};Object.defineProperty(constants,"__esModule",{value:!0});constants.HEADING_PATTERN=constants.PDF_ROLE_TO_HTML_ROLE=void 0;constants.PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null};constants.HEADING_PATTERN=/^H(\d+)$/;Object.defineProperty(structTreeUtils,"__esModule",{value:!0});structTreeUtils.isPdfRole=isPdfRole;structTreeUtils.isStructTreeNode=isStructTreeNode;structTreeUtils.isStructTreeNodeWithOnlyContentChild=isStructTreeNodeWithOnlyContentChild;structTreeUtils.getRoleAttributes=getRoleAttributes;structTreeUtils.getBaseAttributes=getBaseAttributes;structTreeUtils.getAttributes=getAttributes;const constants_js_1=constants;function isPdfRole(i){return i in constants_js_1.PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(i){return"children"in i}function isStructTreeNodeWithOnlyContentChild(i){return isStructTreeNode(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function getRoleAttributes(i){const e={};if(isStructTreeNode(i)){const{role:s}=i,o=s.match(constants_js_1.HEADING_PATTERN);if(o)e.role="heading",e["aria-level"]=Number(o[1]);else if(isPdfRole(s)){const c=constants_js_1.PDF_ROLE_TO_HTML_ROLE[s];c&&(e.role=c)}}return e}function getBaseAttributes(i){const e={};if(isStructTreeNode(i)){if(i.alt!==void 0&&(e["aria-label"]=i.alt),i.lang!==void 0&&(e.lang=i.lang),isStructTreeNodeWithOnlyContentChild(i)){const[s]=i.children;if(s){const o=getBaseAttributes(s);return Object.assign(Object.assign({},e),o)}}}else"id"in i&&(e["aria-owns"]=i.id);return e}function getAttributes(i){return i?Object.assign(Object.assign({},getRoleAttributes(i)),getBaseAttributes(i)):null}Object.defineProperty(StructTreeItem$1,"__esModule",{value:!0});StructTreeItem$1.default=StructTreeItem;const jsx_runtime_1$6=jsxRuntimeExports,react_1$6=reactExports,structTreeUtils_js_1=structTreeUtils;function StructTreeItem({className:i,node:e}){const s=(0,react_1$6.useMemo)(()=>(0,structTreeUtils_js_1.getAttributes)(e),[e]),o=(0,react_1$6.useMemo)(()=>!(0,structTreeUtils_js_1.isStructTreeNode)(e)||(0,structTreeUtils_js_1.isStructTreeNodeWithOnlyContentChild)(e)?null:e.children.map((c,d)=>(0,jsx_runtime_1$6.jsx)(StructTreeItem,{node:c},d)),[e]);return(0,jsx_runtime_1$6.jsx)("span",Object.assign({className:i},s,{children:o}))}var usePageContext$1={},__importDefault$7=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(usePageContext$1,"__esModule",{value:!0});usePageContext$1.default=usePageContext;const react_1$5=reactExports,PageContext_js_1$1=__importDefault$7(PageContext);function usePageContext(){return(0,react_1$5.useContext)(PageContext_js_1$1.default)}var __importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(StructTree$1,"__esModule",{value:!0});StructTree$1.default=StructTree;const jsx_runtime_1$5=jsxRuntimeExports,react_1$4=reactExports,make_cancellable_promise_1$3=__importDefault$6(cjs$1),tiny_invariant_1$5=__importDefault$6(tinyInvariant_cjs),warning_1$4=__importDefault$6(warning_1$7),StructTreeItem_js_1=__importDefault$6(StructTreeItem$1),usePageContext_js_1$4=__importDefault$6(usePageContext$1),useResolver_js_1$3=__importDefault$6(useResolver$1),utils_js_1$6=utils;function StructTree(){const i=(0,usePageContext_js_1$4.default)();(0,tiny_invariant_1$5.default)(i,"Unable to find Page context.");const{onGetStructTreeError:e,onGetStructTreeSuccess:s}=i,[o,c]=(0,useResolver_js_1$3.default)(),{value:d,error:h}=o,{customTextRenderer:g,page:j}=i;function _(){d&&s&&s(d)}function $(){h&&((0,warning_1$4.default)(!1,h.toString()),e&&e(h))}return(0,react_1$4.useEffect)(function(){c({type:"RESET"})},[c,j]),(0,react_1$4.useEffect)(function(){if(g||!j)return;const st=(0,make_cancellable_promise_1$3.default)(j.getStructTree()),rt=st;return st.promise.then(it=>{c({type:"RESOLVE",value:it})}).catch(it=>{c({type:"REJECT",error:it})}),()=>(0,utils_js_1$6.cancelRunningTask)(rt)},[g,j,c]),(0,react_1$4.useEffect)(()=>{if(d!==void 0){if(d===!1){$();return}_()}},[d]),d?(0,jsx_runtime_1$5.jsx)(StructTreeItem_js_1.default,{className:"react-pdf__Page__structTree structTree",node:d}):null}var __createBinding$3=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,e,s,o){o===void 0&&(o=s);var c=Object.getOwnPropertyDescriptor(e,s);(!c||("get"in c?!e.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(i,o,c)}:function(i,e,s,o){o===void 0&&(o=s),i[o]=e[s]}),__setModuleDefault$3=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e}),__importStar$3=commonjsGlobal&&commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var s in i)s!=="default"&&Object.prototype.hasOwnProperty.call(i,s)&&__createBinding$3(e,i,s);return __setModuleDefault$3(e,i),e},__importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Canvas$1,"__esModule",{value:!0});Canvas$1.default=Canvas;const jsx_runtime_1$4=jsxRuntimeExports,react_1$3=reactExports,merge_refs_1$1=__importDefault$5(cjs),tiny_invariant_1$4=__importDefault$5(tinyInvariant_cjs),warning_1$3=__importDefault$5(warning_1$7),pdfjs$3=__importStar$3(require$$0),StructTree_js_1=__importDefault$5(StructTree$1),usePageContext_js_1$3=__importDefault$5(usePageContext$1),utils_js_1$5=utils,ANNOTATION_MODE=pdfjs$3.AnnotationMode;function Canvas(i){const e=(0,usePageContext_js_1$3.default)();(0,tiny_invariant_1$4.default)(e,"Unable to find Page context.");const s=Object.assign(Object.assign({},e),i),{_className:o,canvasBackground:c,devicePixelRatio:d=(0,utils_js_1$5.getDevicePixelRatio)(),onRenderError:h,onRenderSuccess:g,page:j,renderForms:_,renderTextLayer:$,rotate:_e,scale:st}=s,{canvasRef:rt}=i;(0,tiny_invariant_1$4.default)(j,"Attempted to render page canvas, but no page was specified.");const it=(0,react_1$3.useRef)(null);function nt(){j&&g&&g((0,utils_js_1$5.makePageCallback)(j,st))}function lt(ut){(0,utils_js_1$5.isCancelException)(ut)||((0,warning_1$3.default)(!1,ut.toString()),h&&h(ut))}const ot=(0,react_1$3.useMemo)(()=>j.getViewport({scale:st*d,rotation:_e}),[d,j,_e,st]),at=(0,react_1$3.useMemo)(()=>j.getViewport({scale:st,rotation:_e}),[j,_e,st]);(0,react_1$3.useEffect)(function(){if(!j)return;j.cleanup();const{current:ht}=it;if(!ht)return;ht.width=ot.width,ht.height=ot.height,ht.style.width=`${Math.floor(at.width)}px`,ht.style.height=`${Math.floor(at.height)}px`,ht.style.visibility="hidden";const mt={annotationMode:_?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:ht.getContext("2d",{alpha:!1}),viewport:ot};c&&(mt.background=c);const xt=j.render(mt),Et=xt;return xt.promise.then(()=>{ht.style.visibility="",nt()}).catch(lt),()=>(0,utils_js_1$5.cancelRunningTask)(Et)},[c,j,_,ot,at]);const ct=(0,react_1$3.useCallback)(()=>{const{current:ut}=it;ut&&(ut.width=0,ut.height=0)},[]);return(0,react_1$3.useEffect)(()=>ct,[ct]),(0,jsx_runtime_1$4.jsx)("canvas",{className:`${o}__canvas`,dir:"ltr",ref:(0,merge_refs_1$1.default)(rt,it),style:{display:"block",userSelect:"none"},children:$?(0,jsx_runtime_1$4.jsx)(StructTree_js_1.default,{}):null})}var TextLayer$1={},__createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,e,s,o){o===void 0&&(o=s);var c=Object.getOwnPropertyDescriptor(e,s);(!c||("get"in c?!e.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(i,o,c)}:function(i,e,s,o){o===void 0&&(o=s),i[o]=e[s]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e}),__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var s in i)s!=="default"&&Object.prototype.hasOwnProperty.call(i,s)&&__createBinding$2(e,i,s);return __setModuleDefault$2(e,i),e},__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(TextLayer$1,"__esModule",{value:!0});TextLayer$1.default=TextLayer;const jsx_runtime_1$3=jsxRuntimeExports,react_1$2=reactExports,make_cancellable_promise_1$2=__importDefault$4(cjs$1),clsx_1$3=__importDefault$4(require$$1),tiny_invariant_1$3=__importDefault$4(tinyInvariant_cjs),warning_1$2=__importDefault$4(warning_1$7),pdfjs$2=__importStar$2(require$$0),usePageContext_js_1$2=__importDefault$4(usePageContext$1),useResolver_js_1$2=__importDefault$4(useResolver$1),utils_js_1$4=utils;function isTextItem(i){return"str"in i}function TextLayer(){const i=(0,usePageContext_js_1$2.default)();(0,tiny_invariant_1$3.default)(i,"Unable to find Page context.");const{customTextRenderer:e,onGetTextError:s,onGetTextSuccess:o,onRenderTextLayerError:c,onRenderTextLayerSuccess:d,page:h,pageIndex:g,pageNumber:j,rotate:_,scale:$}=i;(0,tiny_invariant_1$3.default)(h,"Attempted to load page text content, but no page was specified.");const[_e,st]=(0,useResolver_js_1$2.default)(),{value:rt,error:it}=_e,nt=(0,react_1$2.useRef)(null);(0,warning_1$2.default)(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function lt(){rt&&o&&o(rt)}function ot(){it&&((0,warning_1$2.default)(!1,it.toString()),s&&s(it))}(0,react_1$2.useEffect)(function(){st({type:"RESET"})},[h,st]),(0,react_1$2.useEffect)(function(){if(!h)return;const Et=(0,make_cancellable_promise_1$2.default)(h.getTextContent()),Tt=Et;return Et.promise.then(St=>{st({type:"RESOLVE",value:St})}).catch(St=>{st({type:"REJECT",error:St})}),()=>(0,utils_js_1$4.cancelRunningTask)(Tt)},[h,st]),(0,react_1$2.useEffect)(()=>{if(rt!==void 0){if(rt===!1){ot();return}lt()}},[rt]);const at=(0,react_1$2.useCallback)(()=>{d&&d()},[d]),ct=(0,react_1$2.useCallback)(xt=>{(0,warning_1$2.default)(!1,xt.toString()),c&&c(xt)},[c]);function ut(){const xt=nt.current;xt&&xt.classList.add("selecting")}function ht(){const xt=nt.current;xt&&xt.classList.remove("selecting")}const mt=(0,react_1$2.useMemo)(()=>h.getViewport({scale:$,rotation:_}),[h,_,$]);return(0,react_1$2.useLayoutEffect)(function(){if(!h||!rt)return;const{current:Et}=nt;if(!Et)return;Et.innerHTML="";const Tt=h.streamTextContent({includeMarkedContent:!0}),St={container:Et,textContentSource:Tt,viewport:mt},gt=new pdfjs$2.TextLayer(St),Ct=gt;return gt.render().then(()=>{const At=document.createElement("div");At.className="endOfContent",Et.append(At);const Rt=Et.querySelectorAll('[role="presentation"]');if(e){let kt=0;rt.items.forEach((Mt,It)=>{if(!isTextItem(Mt))return;const Nt=Rt[kt];if(!Nt)return;const Pt=e(Object.assign({pageIndex:g,pageNumber:j,itemIndex:It},Mt));Nt.innerHTML=Pt,kt+=Mt.str&&Mt.hasEOL?2:1})}at()}).catch(ct),()=>(0,utils_js_1$4.cancelRunningTask)(Ct)},[e,ct,at,h,g,j,rt,mt]),(0,jsx_runtime_1$3.jsx)("div",{className:(0,clsx_1$3.default)("react-pdf__Page__textContent","textLayer"),onMouseUp:ht,onMouseDown:ut,ref:nt})}var AnnotationLayer$1={},__createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,e,s,o){o===void 0&&(o=s);var c=Object.getOwnPropertyDescriptor(e,s);(!c||("get"in c?!e.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(i,o,c)}:function(i,e,s,o){o===void 0&&(o=s),i[o]=e[s]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var s in i)s!=="default"&&Object.prototype.hasOwnProperty.call(i,s)&&__createBinding$1(e,i,s);return __setModuleDefault$1(e,i),e},__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(AnnotationLayer$1,"__esModule",{value:!0});AnnotationLayer$1.default=AnnotationLayer;const jsx_runtime_1$2=jsxRuntimeExports,react_1$1=reactExports,make_cancellable_promise_1$1=__importDefault$3(cjs$1),clsx_1$2=__importDefault$3(require$$1),tiny_invariant_1$2=__importDefault$3(tinyInvariant_cjs),warning_1$1=__importDefault$3(warning_1$7),pdfjs$1=__importStar$1(require$$0),useDocumentContext_js_1$3=__importDefault$3(useDocumentContext$1),usePageContext_js_1$1=__importDefault$3(usePageContext$1),useResolver_js_1$1=__importDefault$3(useResolver$1),utils_js_1$3=utils;function AnnotationLayer(){const i=(0,useDocumentContext_js_1$3.default)(),e=(0,usePageContext_js_1$1.default)();(0,tiny_invariant_1$2.default)(e,"Unable to find Page context.");const s=Object.assign(Object.assign({},i),e),{imageResourcesPath:o,linkService:c,onGetAnnotationsError:d,onGetAnnotationsSuccess:h,onRenderAnnotationLayerError:g,onRenderAnnotationLayerSuccess:j,page:_,pdf:$,renderForms:_e,rotate:st,scale:rt=1}=s;(0,tiny_invariant_1$2.default)($,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),(0,tiny_invariant_1$2.default)(_,"Attempted to load page annotations, but no page was specified."),(0,tiny_invariant_1$2.default)(c,"Attempted to load page annotations, but no linkService was specified.");const[it,nt]=(0,useResolver_js_1$1.default)(),{value:lt,error:ot}=it,at=(0,react_1$1.useRef)(null);(0,warning_1$1.default)(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function ct(){lt&&h&&h(lt)}function ut(){ot&&((0,warning_1$1.default)(!1,ot.toString()),d&&d(ot))}(0,react_1$1.useEffect)(function(){nt({type:"RESET"})},[nt,_]),(0,react_1$1.useEffect)(function(){if(!_)return;const Tt=(0,make_cancellable_promise_1$1.default)(_.getAnnotations()),St=Tt;return Tt.promise.then(gt=>{nt({type:"RESOLVE",value:gt})}).catch(gt=>{nt({type:"REJECT",error:gt})}),()=>{(0,utils_js_1$3.cancelRunningTask)(St)}},[nt,_]),(0,react_1$1.useEffect)(()=>{if(lt!==void 0){if(lt===!1){ut();return}ct()}},[lt]);function ht(){j&&j()}function mt(Et){(0,warning_1$1.default)(!1,`${Et}`),g&&g(Et)}const xt=(0,react_1$1.useMemo)(()=>_.getViewport({scale:rt,rotation:st}),[_,st,rt]);return(0,react_1$1.useEffect)(function(){if(!$||!_||!c||!lt)return;const{current:Tt}=at;if(!Tt)return;const St=xt.clone({dontFlip:!0}),gt={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:Tt,l10n:null,page:_,structTreeLayer:null,viewport:St},Ct={annotations:lt,annotationStorage:$.annotationStorage,div:Tt,imageResourcesPath:o,linkService:c,page:_,renderForms:_e,viewport:St};Tt.innerHTML="";try{new pdfjs$1.AnnotationLayer(gt).render(Ct),ht()}catch(At){mt(At)}return()=>{}},[lt,o,c,_,$,_e,xt]),(0,jsx_runtime_1$2.jsx)("div",{className:(0,clsx_1$2.default)("react-pdf__Page__annotations","annotationLayer"),ref:at})}var __rest$1=commonjsGlobal&&commonjsGlobal.__rest||function(i,e){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&e.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(i);c<o.length;c++)e.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(i,o[c])&&(s[o[c]]=i[o[c]]);return s},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Page$1,"__esModule",{value:!0});Page$1.default=Page;const jsx_runtime_1$1=jsxRuntimeExports,react_1=reactExports,make_cancellable_promise_1=__importDefault$2(cjs$1),make_event_props_1=__importDefault$2(cjs$2),clsx_1$1=__importDefault$2(require$$1),merge_refs_1=__importDefault$2(cjs),tiny_invariant_1$1=__importDefault$2(tinyInvariant_cjs),warning_1=__importDefault$2(warning_1$7),PageContext_js_1=__importDefault$2(PageContext),Message_js_1=__importDefault$2(Message$1),Canvas_js_1=__importDefault$2(Canvas$1),TextLayer_js_1=__importDefault$2(TextLayer$1),AnnotationLayer_js_1=__importDefault$2(AnnotationLayer$1),utils_js_1$2=utils,useDocumentContext_js_1$2=__importDefault$2(useDocumentContext$1),useResolver_js_1=__importDefault$2(useResolver$1),defaultScale=1;function Page(i){const e=(0,useDocumentContext_js_1$2.default)(),s=Object.assign(Object.assign({},e),i),{_className:o="react-pdf__Page",_enableRegisterUnregisterPage:c=!0,canvasBackground:d,canvasRef:h,children:g,className:j,customRenderer:_,customTextRenderer:$,devicePixelRatio:_e,error:st="Failed to load the page.",height:rt,inputRef:it,loading:nt="Loading page",noData:lt="No page specified.",onGetAnnotationsError:ot,onGetAnnotationsSuccess:at,onGetStructTreeError:ct,onGetStructTreeSuccess:ut,onGetTextError:ht,onGetTextSuccess:mt,onLoadError:xt,onLoadSuccess:Et,onRenderAnnotationLayerError:Tt,onRenderAnnotationLayerSuccess:St,onRenderError:gt,onRenderSuccess:Ct,onRenderTextLayerError:At,onRenderTextLayerSuccess:Rt,pageIndex:kt,pageNumber:Mt,pdf:It,registerPage:Nt,renderAnnotationLayer:Pt=!0,renderForms:Lt=!1,renderMode:Bt="canvas",renderTextLayer:Dt=!0,rotate:Ht,scale:Gt=defaultScale,unregisterPage:rs,width:Xt}=s,$t=__rest$1(s,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Zt,Jt]=(0,useResolver_js_1.default)(),{value:qt,error:ns}=Zt,as=(0,react_1.useRef)(null);(0,tiny_invariant_1$1.default)(It,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const es=(0,utils_js_1$2.isProvided)(Mt)?Mt-1:kt??null,us=Mt??((0,utils_js_1$2.isProvided)(kt)?kt+1:null),ys=Ht??(qt?qt.rotate:null),vs=(0,react_1.useMemo)(()=>{if(!qt)return null;let dr=1;const Eu=Gt??defaultScale;if(Xt||rt){const yu=qt.getViewport({scale:1,rotation:ys});Xt?dr=Xt/yu.width:rt&&(dr=rt/yu.height)}return Eu*dr},[rt,qt,ys,Gt,Xt]);(0,react_1.useEffect)(function(){return()=>{(0,utils_js_1$2.isProvided)(es)&&c&&rs&&rs(es)}},[c,It,es,rs]);function nr(){if(Et){if(!qt||!vs)return;Et((0,utils_js_1$2.makePageCallback)(qt,vs))}if(c&&Nt){if(!(0,utils_js_1$2.isProvided)(es)||!as.current)return;Nt(es,as.current)}}function Pr(){ns&&((0,warning_1.default)(!1,ns.toString()),xt&&xt(ns))}(0,react_1.useEffect)(function(){Jt({type:"RESET"})},[Jt,It,es]),(0,react_1.useEffect)(function(){if(!It||!us)return;const Eu=(0,make_cancellable_promise_1.default)(It.getPage(us)),yu=Eu;return Eu.promise.then(to=>{Jt({type:"RESOLVE",value:to})}).catch(to=>{Jt({type:"REJECT",error:to})}),()=>(0,utils_js_1$2.cancelRunningTask)(yu)},[Jt,It,us]),(0,react_1.useEffect)(()=>{if(qt!==void 0){if(qt===!1){Pr();return}nr()}},[qt,vs]);const eo=(0,react_1.useMemo)(()=>qt&&(0,utils_js_1$2.isProvided)(es)&&us&&(0,utils_js_1$2.isProvided)(ys)&&(0,utils_js_1$2.isProvided)(vs)?{_className:o,canvasBackground:d,customTextRenderer:$,devicePixelRatio:_e,onGetAnnotationsError:ot,onGetAnnotationsSuccess:at,onGetStructTreeError:ct,onGetStructTreeSuccess:ut,onGetTextError:ht,onGetTextSuccess:mt,onRenderAnnotationLayerError:Tt,onRenderAnnotationLayerSuccess:St,onRenderError:gt,onRenderSuccess:Ct,onRenderTextLayerError:At,onRenderTextLayerSuccess:Rt,page:qt,pageIndex:es,pageNumber:us,renderForms:Lt,renderTextLayer:Dt,rotate:ys,scale:vs}:null,[o,d,$,_e,ot,at,ct,ut,ht,mt,Tt,St,gt,Ct,At,Rt,qt,es,us,Lt,Dt,ys,vs]),px=(0,react_1.useMemo)(()=>(0,make_event_props_1.default)($t,()=>qt&&(vs?(0,utils_js_1$2.makePageCallback)(qt,vs):void 0)),[$t,qt,vs]),Jr=`${es}@${vs}/${ys}`;function mx(){switch(Bt){case"custom":return(0,tiny_invariant_1$1.default)(_,'renderMode was set to "custom", but no customRenderer was passed.'),(0,jsx_runtime_1$1.jsx)(_,{},`${Jr}_custom`);case"none":return null;case"canvas":default:return(0,jsx_runtime_1$1.jsx)(Canvas_js_1.default,{canvasRef:h},`${Jr}_canvas`)}}function bn(){return Dt?(0,jsx_runtime_1$1.jsx)(TextLayer_js_1.default,{},`${Jr}_text`):null}function ov(){return Pt?(0,jsx_runtime_1$1.jsx)(AnnotationLayer_js_1.default,{},`${Jr}_annotations`):null}function av(){return(0,jsx_runtime_1$1.jsxs)(PageContext_js_1.default.Provider,{value:eo,children:[mx(),bn(),ov(),g]})}function ir(){return us?It===null||qt===void 0||qt===null?(0,jsx_runtime_1$1.jsx)(Message_js_1.default,{type:"loading",children:typeof nt=="function"?nt():nt}):It===!1||qt===!1?(0,jsx_runtime_1$1.jsx)(Message_js_1.default,{type:"error",children:typeof st=="function"?st():st}):av():(0,jsx_runtime_1$1.jsx)(Message_js_1.default,{type:"no-data",children:typeof lt=="function"?lt():lt})}return(0,jsx_runtime_1$1.jsx)("div",Object.assign({className:(0,clsx_1$1.default)(o,j),"data-page-number":us,ref:(0,merge_refs_1.default)(it,as),style:{"--scale-factor":`${vs}`,backgroundColor:d||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},px,{children:ir()}))}var Thumbnail$1={},__rest=commonjsGlobal&&commonjsGlobal.__rest||function(i,e){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&e.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(i);c<o.length;c++)e.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(i,o[c])&&(s[o[c]]=i[o[c]]);return s},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Thumbnail$1,"__esModule",{value:!0});Thumbnail$1.default=Thumbnail;const jsx_runtime_1=jsxRuntimeExports,clsx_1=__importDefault$1(require$$1),tiny_invariant_1=__importDefault$1(tinyInvariant_cjs),Page_js_1$1=__importDefault$1(Page$1),utils_js_1$1=utils,useDocumentContext_js_1$1=__importDefault$1(useDocumentContext$1);function Thumbnail(i){const e=(0,useDocumentContext_js_1$1.default)(),s=Object.assign(Object.assign({},e),i),{className:o,linkService:c,onItemClick:d,pageIndex:h,pageNumber:g,pdf:j}=s;(0,tiny_invariant_1.default)(j,"Attempted to load a thumbnail, but no document was specified. Wrap <Thumbnail /> in a <Document /> or pass explicit `pdf` prop.");const _=(0,utils_js_1$1.isProvided)(g)?g-1:h??null,$=g??((0,utils_js_1$1.isProvided)(h)?h+1:null);function _e(nt){nt.preventDefault(),!(!(0,utils_js_1$1.isProvided)(_)||!$)&&((0,tiny_invariant_1.default)(d||c,"Either onItemClick callback or linkService must be defined in order to navigate to an outline item."),d?d({pageIndex:_,pageNumber:$}):c&&c.goToPage($))}const{className:st,onItemClick:rt}=i,it=__rest(i,["className","onItemClick"]);return(0,jsx_runtime_1.jsx)("a",{className:(0,clsx_1.default)("react-pdf__Thumbnail",o),href:$?"#":void 0,onClick:_e,children:(0,jsx_runtime_1.jsx)(Page_js_1$1.default,Object.assign({},it,{_className:"react-pdf__Thumbnail__page",_enableRegisterUnregisterPage:!1,renderAnnotationLayer:!1,renderTextLayer:!1}))})}var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,e,s,o){o===void 0&&(o=s);var c=Object.getOwnPropertyDescriptor(e,s);(!c||("get"in c?!e.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(i,o,c)}:function(i,e,s,o){o===void 0&&(o=s),i[o]=e[s]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var s in i)s!=="default"&&Object.prototype.hasOwnProperty.call(i,s)&&__createBinding(e,i,s);return __setModuleDefault(e,i),e},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(cjs$3,"__esModule",{value:!0});cjs$3.PasswordResponses=cjs$3.usePageContext=cjs$3.useOutlineContext=cjs$3.useDocumentContext=cjs$3.Thumbnail=cjs$3.Page=cjs$3.Outline=cjs$3.Document=cjs$3.pdfjs=void 0;const pdfjs=__importStar(require$$0);cjs$3.pdfjs=pdfjs;const Document_js_1=__importDefault(Document$1);cjs$3.Document=Document_js_1.default;const Outline_js_1=__importDefault(Outline$1);cjs$3.Outline=Outline_js_1.default;const Page_js_1=__importDefault(Page$1);cjs$3.Page=Page_js_1.default;const Thumbnail_js_1=__importDefault(Thumbnail$1);cjs$3.Thumbnail=Thumbnail_js_1.default;const useDocumentContext_js_1=__importDefault(useDocumentContext$1);cjs$3.useDocumentContext=useDocumentContext_js_1.default;const useOutlineContext_js_1=__importDefault(useOutlineContext$1);cjs$3.useOutlineContext=useOutlineContext_js_1.default;const usePageContext_js_1=__importDefault(usePageContext$1);cjs$3.usePageContext=usePageContext_js_1.default;const PasswordResponses_js_1=__importDefault(PasswordResponses$1);cjs$3.PasswordResponses=PasswordResponses_js_1.default;const utils_js_1=utils;(0,utils_js_1.displayWorkerWarning)();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.mjs";var __awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(i,e,s,o){function c(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function g($){try{_(o.next($))}catch(_e){h(_e)}}function j($){try{_(o.throw($))}catch(_e){h(_e)}}function _($){$.done?d($.value):c($.value).then(g,j)}_((o=o.apply(i,e||[])).next())})};Object.defineProperty(dist$1,"__esModule",{value:!0});const react_pdf_1=cjs$3;react_pdf_1.pdfjs.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${react_pdf_1.pdfjs.version}/pdf.worker.mjs`;const pdfToText=i=>__awaiter(void 0,void 0,void 0,function*(){const e=URL.createObjectURL(i),s=react_pdf_1.pdfjs.getDocument(e);let o="";try{const c=yield s.promise,d=c.numPages;for(let h=1;h<=d;h++){const _=(yield(yield c.getPage(h)).getTextContent()).items.map($=>"str"in $?$.str:"").join(" ");o+=_}}catch(c){throw new Error(`Failed to extract text from PDF: ${c}`)}finally{URL.revokeObjectURL(e),s.destroy()}return o});var _default=dist$1.default=pdfToText;const TeamMemberUploader=({memberIndex:i,member:e,onMemberChange:s,onMemberUpdate:o})=>{const[c,d]=reactExports.useState(!1),[h,g]=reactExports.useState(!1),[j,_]=reactExports.useState([]),$=async st=>{var it;const rt=(it=st.target.files)==null?void 0:it[0];if(rt){d(!0);try{const nt=rt.name.split(".").pop(),ot=`team-member-files/${`${Date.now()}-${i}.${nt}`}`,{error:at}=await supabase$1.storage.from("project-files").upload(ot,rt);if(at)throw at;const{data:{publicUrl:ct}}=supabase$1.storage.from("project-files").getPublicUrl(ot);_(ut=>[...ut,ct]),toast({title:"File uploaded successfully",description:`${rt.name} has been uploaded for ${e.name||`Member ${i+1}`}`})}catch(nt){console.error("Upload error:",nt),toast({title:"Upload failed",description:"Please try again",variant:"destructive"})}finally{d(!1)}}},_e=async()=>{if(!e.name&&j.length===0){toast({title:"Missing information",description:"Please provide a name or upload files to generate profile",variant:"destructive"});return}g(!0);try{let st="";for(const nt of j)try{const ot=await(await fetch(nt)).blob(),at=new File([ot],"temp.pdf",{type:"application/pdf"}),ct=await _default(at);st+=ct+`

`}catch(lt){console.error("PDF extraction failed for",nt,lt)}const{data:rt,error:it}=await supabase$1.functions.invoke("ai-profile-assistant",{body:{type:"generate_member_profile",memberData:{name:e.name,role:e.role,uploadedFiles:st.trim()}}});if(it)throw it;rt!=null&&rt.profile&&(o(i,{...e,bio:rt.profile.bio||e.bio,role:rt.profile.role||e.role,skills:rt.profile.skills||[],experience:rt.profile.experience||""}),toast({title:"Profile generated!",description:"AI has enhanced the member profile based on extracted CV text"}))}catch(st){console.error("Generation error:",st),toast({title:"Generation failed",description:"Please try again",variant:"destructive"})}finally{g(!1)}};return jsxRuntimeExports.jsxs(Card,{className:"border-l-4 border-l-blue-500",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-lg",children:[jsxRuntimeExports.jsx(User,{className:"w-5 h-5"}),"Member ",i+1,jsxRuntimeExports.jsxs(Button,{type:"button",variant:"outline",size:"sm",onClick:_e,disabled:h,className:"ml-auto",children:[h?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin mr-2"}):jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 mr-2"}),"AI Generate Profile"]})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Member Name"}),jsxRuntimeExports.jsx(Input,{placeholder:"Full name",value:e.name,onChange:st=>s(i,"name",st.target.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Role"}),jsxRuntimeExports.jsx(Input,{placeholder:"Position/Role",value:e.role,onChange:st=>s(i,"role",st.target.value)})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Upload CV/Resume/Portfolio"}),jsxRuntimeExports.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[jsxRuntimeExports.jsx("input",{type:"file",id:`file-${i}`,className:"hidden",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png",onChange:$,disabled:c}),jsxRuntimeExports.jsxs("label",{htmlFor:`file-${i}`,className:"cursor-pointer flex flex-col items-center gap-2",children:[c?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-blue-500"}):jsxRuntimeExports.jsx(Upload,{className:"w-8 h-8 text-gray-400"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:c?"Uploading...":"Click to upload files"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:"PDF, DOC, Images (Max 10MB)"})]})]})]}),j.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Uploaded Files"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:j.map((st,rt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 text-blue-500"}),jsxRuntimeExports.jsxs("span",{className:"text-sm truncate",children:["File ",rt+1]})]},rt))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Bio/Description"}),jsxRuntimeExports.jsx(Textarea,{placeholder:"Brief bio or let AI generate based on uploaded files",value:e.bio||"",onChange:st=>s(i,"bio",st.target.value),rows:3})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Avatar URL (Optional)"}),jsxRuntimeExports.jsx(Input,{placeholder:"Profile photo URL",value:e.avatar,onChange:st=>s(i,"avatar",st.target.value)})]})]})]})},TeamProfileForm=({initialData:i,onSave:e,isEditing:s=!1})=>{const[o,c]=reactExports.useState({name:(i==null?void 0:i.name)||"",description:(i==null?void 0:i.description)||"",skills:(i==null?void 0:i.skills)||[],industries:(i==null?void 0:i.industries)||[],hourly_rate:(i==null?void 0:i.hourly_rate)||"",availability_status:(i==null?void 0:i.availability_status)||"available",members:(i==null?void 0:i.members)||[{name:"",role:"",avatar:"",bio:""}],past_projects:(i==null?void 0:i.past_projects)||[],testimonials:(i==null?void 0:i.testimonials)||[]}),[d,h]=reactExports.useState(""),[g,j]=reactExports.useState(""),[_,$]=reactExports.useState(!1),[_e,st]=reactExports.useState({}),rt=async(Rt,kt)=>{if(!kt)return;const Mt=kt.name.replace(/[^a-zA-Z0-9.\-_]/g,"_"),It=`team-member-files/${Date.now()}-${Mt}`;try{const{error:Nt}=await supabase$1.storage.from("project-files").upload(It,kt);if(Nt)throw Nt;const{data:Pt}=supabase$1.storage.from("project-files").getPublicUrl(It),Lt=Pt.publicUrl;mt(Rt,{cv_url:Lt}),st(Bt=>({...Bt,[Rt]:kt})),toast({title:"File uploaded",description:"CV uploaded successfully"})}catch(Nt){console.error(Nt),toast({title:"Upload failed",description:"Could not upload CV",variant:"destructive"})}},it=async Rt=>{var kt,Mt,It;$(!0);try{const Nt=o.members[Rt],Pt=_e[Rt];if(!Pt){toast({title:"Upload a CV first",description:"Please upload a CV",variant:"destructive"}),$(!1);return}const Lt=await _default(Pt),{data:Bt,error:Dt}=await supabase$1.functions.invoke("ai-profile-assistant",{body:{action:"generate_ai_profile",data:{cv_text:Lt}}});if(Dt)throw Dt;const Ht=typeof Bt=="string"?JSON.parse(Bt):Bt;Ht!=null&&Ht.success?(mt(Rt,{name:((kt=Ht.profile)==null?void 0:kt.name)||Nt.name,role:((Mt=Ht.profile)==null?void 0:Mt.role)||"",bio:((It=Ht.profile)==null?void 0:It.bio)||""}),toast({title:"AI Profile Generated",description:"Profile fields filled from CV"})):toast({title:"AI generation failed",description:"AI returned an error",variant:"destructive"})}catch(Nt){console.error(Nt),toast({title:"AI generation failed",description:Nt.message||"Something went wrong",variant:"destructive"})}finally{$(!1)}},nt=()=>{d.trim()&&!o.skills.includes(d.trim())&&(c(Rt=>({...Rt,skills:[...Rt.skills,d.trim()]})),h(""))},lt=Rt=>{c(kt=>({...kt,skills:kt.skills.filter(Mt=>Mt!==Rt)}))},ot=()=>{g.trim()&&!o.industries.includes(g.trim())&&(c(Rt=>({...Rt,industries:[...Rt.industries,g.trim()]})),j(""))},at=Rt=>{c(kt=>({...kt,industries:kt.industries.filter(Mt=>Mt!==Rt)}))},ct=()=>{c(Rt=>({...Rt,members:[...Rt.members,{name:"",role:"",avatar:"",bio:""}]}))},ut=Rt=>{c(kt=>({...kt,members:kt.members.filter((Mt,It)=>It!==Rt)}))},ht=(Rt,kt,Mt)=>{c(It=>({...It,members:It.members.map((Nt,Pt)=>Pt===Rt?{...Nt,[kt]:Mt}:Nt)}))},mt=(Rt,kt)=>{c(Mt=>({...Mt,members:Mt.members.map((It,Nt)=>Nt===Rt?{...It,...kt}:It)}))},xt=useNavigate(),{isAuthenticated:Et,loading:Tt}=useAuth(),St=async Rt=>{var kt,Mt,It,Nt,Pt;if(Rt.preventDefault(),$(!0),!Et&&!Tt){const Lt=gt();sessionStorage.setItem(DRAFT_TEAM_KEY,JSON.stringify(Lt));const Bt=addParams(SIGNUP_ROUTE,{next:TEAM_CREATE_ROUTE,intent:"team"});toast({title:"Please sign up to continue",description:"Your team profile will be saved."}),xt(Bt);return}try{const Lt={...o,name:o.name||"",description:o.description||"",hourly_rate:o.hourly_rate?Number(o.hourly_rate):null,availability_status:o.availability_status||null,skills:(kt=o.skills)!=null&&kt.length?o.skills:[],industries:(Mt=o.industries)!=null&&Mt.length?o.industries:[],members:(It=o.members)!=null&&It.length?o.members:[],past_projects:(Nt=o.past_projects)!=null&&Nt.length?o.past_projects:[],testimonials:(Pt=o.testimonials)!=null&&Pt.length?o.testimonials:[]};sessionStorage.removeItem(DRAFT_TEAM_KEY),await e(Lt)}catch(Lt){console.error("Error saving team profile:",Lt)}finally{$(!1)}},gt=()=>({name:o.name,description:o.description,skills:o.skills,industries:o.industries,hourly_rate:o.hourly_rate,availability_status:o.availability_status,members:o.members.map(Rt=>({...Rt,avatar:""}))});reactExports.useEffect(()=>{if(Et&&!s){const Rt=sessionStorage.getItem(DRAFT_TEAM_KEY);if(Rt)try{const kt=JSON.parse(Rt);c(Mt=>({...Mt,...kt}))}catch(kt){console.error("Failed to parse draft data:",kt)}}},[Et,s]);const Ct=(Rt,kt)=>{c(Mt=>({...Mt,[Rt]:kt}))},At=Rt=>{c(kt=>({...kt,past_projects:[...kt.past_projects,Rt]}))};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(AIProfileAssistant,{teamData:o,onSuggestion:Ct}),jsxRuntimeExports.jsxs("form",{onSubmit:St,className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Basic Information"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"name",children:"Team Name *"}),jsxRuntimeExports.jsx(Input,{id:"name",value:o.name,onChange:Rt=>c(kt=>({...kt,name:Rt.target.value})),placeholder:"Enter your team name",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"description",children:"Description *"}),jsxRuntimeExports.jsx(Textarea,{id:"description",value:o.description,onChange:Rt=>c(kt=>({...kt,description:Rt.target.value})),placeholder:"Describe your team's expertise and approach",rows:4,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"hourly_rate",children:"Hourly Rate ($)"}),jsxRuntimeExports.jsx(Input,{id:"hourly_rate",type:"number",value:o.hourly_rate,onChange:Rt=>c(kt=>({...kt,hourly_rate:Rt.target.value})),placeholder:"85"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"availability",children:"Availability Status"}),jsxRuntimeExports.jsxs(Select,{value:o.availability_status,onValueChange:Rt=>c(kt=>({...kt,availability_status:Rt})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"available",children:"Available Now"}),jsxRuntimeExports.jsx(SelectItem,{value:"busy",children:"Busy"}),jsxRuntimeExports.jsx(SelectItem,{value:"unavailable",children:"Unavailable"})]})]})]})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Skills & Expertise"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-4",children:[jsxRuntimeExports.jsx(Input,{value:d,onChange:Rt=>h(Rt.target.value),placeholder:"Add a skill",onKeyPress:Rt=>Rt.key==="Enter"&&(Rt.preventDefault(),nt())}),jsxRuntimeExports.jsx(Button,{type:"button",onClick:nt,variant:"outline",children:jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:o.skills.map(Rt=>jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"flex items-center gap-1",children:[Rt,jsxRuntimeExports.jsx(X,{className:"w-3 h-3 cursor-pointer",onClick:()=>lt(Rt)})]},Rt))})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Industries"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-4",children:[jsxRuntimeExports.jsx(Input,{value:g,onChange:Rt=>j(Rt.target.value),placeholder:"Add an industry",onKeyPress:Rt=>Rt.key==="Enter"&&(Rt.preventDefault(),ot())}),jsxRuntimeExports.jsx(Button,{type:"button",onClick:ot,variant:"outline",children:jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:o.industries.map(Rt=>jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"flex items-center gap-1",children:[Rt,jsxRuntimeExports.jsx(X,{className:"w-3 h-3 cursor-pointer",onClick:()=>at(Rt)})]},Rt))})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Team Members"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[o.members.map((Rt,kt)=>jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(TeamMemberUploader,{memberIndex:kt,member:Rt,onMemberChange:ht,onMemberUpdate:mt}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex gap-2",children:[jsxRuntimeExports.jsx(Input,{type:"file",accept:".pdf,.doc,.docx,.txt",onChange:Mt=>{var It;(It=Mt.target.files)!=null&&It[0]&&rt(kt,Mt.target.files[0])},className:"flex-1"}),jsxRuntimeExports.jsx(Button,{type:"button",variant:"secondary",disabled:!_e[kt],onClick:()=>it(kt),children:"Generate AI Profile"})]}),o.members.length>1&&jsxRuntimeExports.jsx(Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>ut(kt),className:"absolute top-2 right-2 z-10",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]},kt)),jsxRuntimeExports.jsxs(Button,{type:"button",onClick:ct,variant:"outline",className:"w-full",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),"Add Team Member"]})]})]}),jsxRuntimeExports.jsx(AIPortfolioUploader,{onProjectAdd:At}),o.past_projects.length>0&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Portfolio Projects"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.past_projects.map((Rt,kt)=>jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-4",children:[Rt.image_url&&jsxRuntimeExports.jsx("img",{src:Rt.image_url,alt:Rt.name,className:"w-full h-32 object-cover rounded mb-3"}),jsxRuntimeExports.jsx("h4",{className:"font-medium",children:Rt.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-2",children:Rt.description}),Rt.tags&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1",children:Rt.tags.map((Mt,It)=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:Mt},It))})]},kt))})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx(Button,{type:"submit",disabled:_,className:"min-w-32",children:_?"Saving...":s?"Update Profile":"Create Profile"})})]})]})};var PROGRESS_NAME="Progress",DEFAULT_MAX=100,[createProgressContext,createProgressScope]=createContextScope(PROGRESS_NAME),[ProgressProvider,useProgressContext]=createProgressContext(PROGRESS_NAME),Progress$1=reactExports.forwardRef((i,e)=>{const{__scopeProgress:s,value:o=null,max:c,getValueLabel:d=defaultGetValueLabel,...h}=i;(c||c===0)&&!isValidMaxNumber(c)&&console.error(getInvalidMaxError(`${c}`,"Progress"));const g=isValidMaxNumber(c)?c:DEFAULT_MAX;o!==null&&!isValidValueNumber(o,g)&&console.error(getInvalidValueError(`${o}`,"Progress"));const j=isValidValueNumber(o,g)?o:null,_=isNumber(j)?d(j,g):void 0;return jsxRuntimeExports.jsx(ProgressProvider,{scope:s,value:j,max:g,children:jsxRuntimeExports.jsx(Primitive.div,{"aria-valuemax":g,"aria-valuemin":0,"aria-valuenow":isNumber(j)?j:void 0,"aria-valuetext":_,role:"progressbar","data-state":getProgressState(j,g),"data-value":j??void 0,"data-max":g,...h,ref:e})})});Progress$1.displayName=PROGRESS_NAME;var INDICATOR_NAME$1="ProgressIndicator",ProgressIndicator=reactExports.forwardRef((i,e)=>{const{__scopeProgress:s,...o}=i,c=useProgressContext(INDICATOR_NAME$1,s);return jsxRuntimeExports.jsx(Primitive.div,{"data-state":getProgressState(c.value,c.max),"data-value":c.value??void 0,"data-max":c.max,...o,ref:e})});ProgressIndicator.displayName=INDICATOR_NAME$1;function defaultGetValueLabel(i,e){return`${Math.round(i/e*100)}%`}function getProgressState(i,e){return i==null?"indeterminate":i===e?"complete":"loading"}function isNumber(i){return typeof i=="number"}function isValidMaxNumber(i){return isNumber(i)&&!isNaN(i)&&i>0}function isValidValueNumber(i,e){return isNumber(i)&&!isNaN(i)&&i<=e&&i>=0}function getInvalidMaxError(i,e){return`Invalid prop \`max\` of value \`${i}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${DEFAULT_MAX}\`.`}function getInvalidValueError(i,e){return`Invalid prop \`value\` of value \`${i}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${DEFAULT_MAX} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Root$2=Progress$1,Indicator=ProgressIndicator;const Progress=reactExports.forwardRef(({className:i,value:e,variant:s="default",...o},c)=>jsxRuntimeExports.jsx(Root$2,{ref:c,className:cn("relative h-2 w-full overflow-hidden rounded-full bg-secondary/40",i),...o,children:jsxRuntimeExports.jsx(Indicator,{className:cn("h-full w-full flex-1 transition-all duration-300 ease-in-out",s==="default"&&"bg-primary",s==="success"&&"bg-green-500",s==="warning"&&"bg-yellow-500",s==="error"&&"bg-destructive"),style:{transform:`translateX(-${100-(e||0)}%)`}})}));Progress.displayName=Root$2.displayName;const ActiveProjects=({teamId:i})=>{const[e,s]=reactExports.useState([]),[o,c]=reactExports.useState(!0),{toast:d}=useToast();reactExports.useEffect(()=>{i&&h()},[i]);const h=async()=>{try{const{data:_,error:$}=await supabase$1.from("project_teams").select(`
        *,
        projects!project_teams_project_id_fkey (
          id,
          title,
          description,
          budget,
          timeline,
          status,
          created_at,
          skills_required,
          users (
            id,
            full_name,
            email
          )
        )
      `).eq("team_id",i).in("status",["active","in_progress"]);if($)throw $;s(_||[])}catch(_){console.error("Error fetching active projects:",_),d({title:"Error",description:"Failed to load active projects",variant:"destructive"})}finally{c(!1)}},g=_=>{switch(_){case"active":return"bg-green-500";case"in_progress":return"bg-blue-500";case"pending":return"bg-yellow-500";default:return"bg-gray-500"}},j=_=>{if(!_.created_at||!_.timeline)return 0;const $=new Date(_.created_at),st=Math.floor((new Date().getTime()-$.getTime())/(1e3*60*60*24));let rt=30;return _.timeline.includes("week")?rt=parseInt(_.timeline)*7:_.timeline.includes("month")&&(rt=parseInt(_.timeline)*30),Math.min(st/rt*100,100)};return o?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-600",children:"Loading active projects..."})]}):e.length===0?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400 mb-4",children:jsxRuntimeExports.jsx(Calendar,{className:"w-12 h-12 mx-auto"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Active Projects"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"You don't have any active projects at the moment. Check the relevant projects tab to find new opportunities."})]})}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Active Projects"}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"text-sm",children:[e.length," Active"]})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-6",children:e.map(_=>{var st,rt;const $=_.projects,_e=j($);return jsxRuntimeExports.jsxs(Card,{className:"hover:shadow-lg transition-shadow",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-xl mb-2",children:$.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:$.description})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[jsxRuntimeExports.jsx("div",{className:`w-3 h-3 rounded-full ${g(_.status)}`}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"capitalize",children:_.status})]})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4 text-green-600"}),jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["$",((st=$.budget)==null?void 0:st.toLocaleString())||"TBD"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:$.timeline||"TBD"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 text-purple-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:((rt=$.users)==null?void 0:rt.full_name)||"Client"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4 text-orange-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:new Date($.created_at).toLocaleDateString()})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Progress"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round(_e),"%"]})]}),jsxRuntimeExports.jsx(Progress,{value:_e,className:"h-2"})]}),$.skills_required&&$.skills_required.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium mb-2",children:"Required Skills"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1",children:[$.skills_required.slice(0,5).map(it=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:it},it)),$.skills_required.length>5&&jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"text-xs",children:["+",$.skills_required.length-5," more"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[jsxRuntimeExports.jsxs(Button,{size:"sm",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"w-4 h-4"}),"View Project"]}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",children:"Update Progress"})]})]})]},_.id)})})]})},TeamProfile=()=>{var mt,xt,Et,Tt,St;const i=useNavigate(),e=useLocation(),{teamId:s}=useParams(),{toast:o}=useToast(),{isAuthenticated:c,loading:d}=useAuth(),[h,g]=reactExports.useState(null),[j,_]=reactExports.useState(!1),[$,_e]=reactExports.useState(!0),[st,rt]=reactExports.useState(!s),[it,nt]=reactExports.useState([]),[lt,ot]=reactExports.useState(null);reactExports.useEffect(()=>{const gt=e.pathname.includes("/create");if(gt&&!c&&!d){const Ct=guessIntentFromRoute(),At=addParams(SIGNUP_ROUTE,{next:e.pathname+e.search,intent:Ct});i(At);return}gt&&c&&(rt(!0),_e(!1))},[e,c,d,i]),reactExports.useEffect(()=>{s?at():_e(!1)},[s]);const at=async()=>{try{const{data:gt,error:Ct}=await supabase$1.from("teams").select("*").eq("id",s).single();if(Ct)throw Ct;g(gt)}catch(gt){console.error("Error fetching team:",gt),o({title:"Error",description:"Failed to load team profile",variant:"destructive"})}finally{_e(!1)}};reactExports.useEffect(()=>{var gt;(gt=h==null?void 0:h.skills)!=null&&gt.length&&ct(h.skills)},[h]);const ct=async gt=>{if(!(gt!=null&&gt.length)){nt([]);return}try{const Ct=gt.map(It=>`skills_required.cs.{${It}}`).join(","),{data:{user:At}}=await supabase$1.auth.getUser(),Rt=At==null?void 0:At.id,{data:kt,error:Mt}=await supabase$1.from("projects").select("*").neq("user_id",Rt).or(Ct);if(Mt)throw Mt;nt(kt)}catch(Ct){console.error("Error fetching related projects:",Ct),o({title:"Error",description:"Failed to load related projects",variant:"destructive"})}},ut=async gt=>{ot(gt);try{const{data:Ct,error:At}=await supabase$1.functions.invoke("send-project-interest",{body:{projectId:gt,teamId:s}});if(At)throw At;o({title:"Interest Sent!",description:"The client has been notified of your interest in this project."})}catch(Ct){console.error("Error sending notification:",Ct),o({title:"Error",description:"Failed to send notification. Please try again.",variant:"destructive"})}finally{ot(null)}},ht=async gt=>{var Ct,At,Rt,kt,Mt;try{const{data:{user:It}}=await supabase$1.auth.getUser();if(!It){o({title:"Error",description:"You must be logged in to save a team profile",variant:"destructive"});return}const Nt={...gt,user_id:It.id,name:gt.name||"",description:gt.description||"",hourly_rate:gt.hourly_rate?Number(gt.hourly_rate):null,availability_status:gt.availability_status||null,skills:(Ct=gt.skills)!=null&&Ct.length?gt.skills:[],industries:(At=gt.industries)!=null&&At.length?gt.industries:[],members:(Rt=gt.members)!=null&&Rt.length?gt.members:[],past_projects:(kt=gt.past_projects)!=null&&kt.length?gt.past_projects:[],testimonials:(Mt=gt.testimonials)!=null&&Mt.length?gt.testimonials:[]};if(st){const{data:Pt,error:Lt}=await supabase$1.from("teams").insert([Nt]).select().single();if(Lt)throw Lt;g(Pt),rt(!1),o({title:"Success!",description:"Team profile created successfully"}),i(`/team-profile/${Pt.id}`)}else{const{data:Pt,error:Lt}=await supabase$1.from("teams").update(Nt).eq("id",s).select().single();if(Lt)throw Lt;g(Pt),_(!1),o({title:"Success!",description:"Team profile updated successfully"})}}catch(It){console.error("Error saving team:",It),o({title:"Error",description:`Failed to save team profile: ${It.message||"Unknown error"}`,variant:"destructive"})}};return $?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-600",children:"Loading team profile..."})]})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50",children:[jsxRuntimeExports.jsx("div",{className:"bg-white border-b",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>i(-1),className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"Back"]}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:st?"Create Team Profile":(h==null?void 0:h.name)||"Team Profile"})]}),!st&&!j&&jsxRuntimeExports.jsxs(Button,{onClick:()=>_(!0),className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(SquarePen,{className:"w-4 h-4"}),"Edit Profile"]})]})})}),jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:st||j?jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx(TeamProfileForm,{initialData:h,onSave:ht,isEditing:!st}),!st&&jsxRuntimeExports.jsx("div",{className:"mt-6 flex justify-start",children:jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>_(!1),children:"Cancel"})})]}):jsxRuntimeExports.jsxs(Tabs,{defaultValue:"overview",className:"space-y-6",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"overview",children:"Overview"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"active",children:"Active Projects"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"members",children:"Team Members"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"projects",children:"Past Projects"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"testimonials",children:"Testimonials"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"overview",children:jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-2 space-y-6",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{children:["About ",h==null?void 0:h.name]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-700 mb-4",children:h==null?void 0:h.description}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4 text-green-600"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600",children:["$",h==null?void 0:h.hourly_rate,"/hour"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4 text-blue-600"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600",children:[(h==null?void 0:h.projects_completed)||0," projects completed"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 text-yellow-500"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600",children:[(h==null?void 0:h.rating)||"0.0"," rating"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4 text-purple-600"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600",children:[((mt=h==null?void 0:h.members)==null?void 0:mt.length)||0," members"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:"Skills & Expertise"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:(xt=h==null?void 0:h.skills)==null?void 0:xt.map(gt=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:gt},gt))})]}),(h==null?void 0:h.industries)&&h.industries.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:"Industries"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:h.industries.map(gt=>jsxRuntimeExports.jsx(Badge,{variant:"outline",children:gt},gt))})]})]})]})]})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Related Projects"})}),jsxRuntimeExports.jsx(CardContent,{children:it.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:it.map(gt=>jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold",children:gt.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm mt-1",children:gt.description}),gt.skills_required&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:gt.skills_required.map(Ct=>jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:Ct},Ct))}),jsxRuntimeExports.jsx("div",{className:"mt-3 flex justify-end",children:jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:()=>ut(gt.id),disabled:lt===gt.id,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Bell,{className:"h-4 w-4"}),lt===gt.id?"Sending...":"Express Interest"]})})]},gt.id))}):jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-center py-8",children:"No related projects found."})})]})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"active",children:s?jsxRuntimeExports.jsx(ActiveProjects,{teamId:s}):jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"text-center py-12",children:jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Please save your team profile first to view active projects."})})})}),jsxRuntimeExports.jsx(TabsContent,{value:"members",children:jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:(Et=h==null?void 0:h.members)==null?void 0:Et.map((gt,Ct)=>{var At;return jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6 text-center",children:[jsxRuntimeExports.jsxs(Avatar,{className:"w-16 h-16 mx-auto mb-4",children:[jsxRuntimeExports.jsx(AvatarImage,{src:gt.avatar,alt:gt.name}),jsxRuntimeExports.jsx(AvatarFallback,{children:(At=gt.name)==null?void 0:At.split(" ").map(Rt=>Rt[0]).join("")})]}),jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:gt.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-2",children:gt.role}),gt.bio&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:gt.bio})]})},Ct)})})}),jsxRuntimeExports.jsx(TabsContent,{value:"projects",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Past Projects"})}),jsxRuntimeExports.jsx(CardContent,{children:((Tt=h==null?void 0:h.past_projects)==null?void 0:Tt.length)>0?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:h.past_projects.map((gt,Ct)=>jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold",children:gt.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm mt-1",children:gt.description}),gt.technologies&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:gt.technologies.map(At=>jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:At},At))})]},Ct))}):jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-center py-8",children:"No past projects added yet."})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"testimonials",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Client Testimonials"})}),jsxRuntimeExports.jsx(CardContent,{children:((St=h==null?void 0:h.testimonials)==null?void 0:St.length)>0?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:h.testimonials.map((gt,Ct)=>jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-gray-700 italic",children:['"',gt.content,'"']}),jsxRuntimeExports.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["- ",gt.client_name,gt.company&&`, ${gt.company}`]})]},Ct))}):jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-center py-8",children:"No testimonials added yet."})})]})})]})})]})},NotFound=()=>{const i=useLocation();return reactExports.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",i.pathname)},[i.pathname]),jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:jsxRuntimeExports.jsxs("div",{className:"text-center p-8 rounded-lg border border-border bg-card shadow-md animate-slide-in",children:[jsxRuntimeExports.jsx("h1",{className:"text-5xl font-bold mb-6 text-primary",children:"404"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-card-foreground mb-6",children:"Page not found"}),jsxRuntimeExports.jsx("a",{href:"/",className:"text-primary hover:text-primary/80 underline transition-colors",children:"Return to Home"})]})})};function EmailCampaignManager(){const[i,e]=reactExports.useState([]),[s,o]=reactExports.useState([]),[c,d]=reactExports.useState(""),[h,g]=reactExports.useState(""),[j,_]=reactExports.useState(""),[$,_e]=reactExports.useState(""),[st,rt]=reactExports.useState(""),[it,nt]=reactExports.useState(!1),[lt,ot]=reactExports.useState({totalSent:0,totalOpened:0,totalClicked:0,totalSignedUp:0});reactExports.useEffect(()=>{at(),ct()},[]);const at=async()=>{const{data:ht}=await supabase$1.from("email_campaigns").select("*").eq("is_active",!0).order("created_at",{ascending:!1});ht&&e(ht)},ct=async()=>{const{data:ht}=await supabase$1.from("email_sends").select("*").order("sent_at",{ascending:!1}).limit(100);ht&&(o(ht),ot({totalSent:ht.length,totalOpened:ht.filter(mt=>mt.opened_at).length,totalClicked:ht.filter(mt=>mt.clicked_at).length,totalSignedUp:ht.filter(mt=>mt.signed_up_at).length}))},ut=async()=>{if(!(!c||!h)){nt(!0);try{const{data:ht,error:mt}=await supabase$1.functions.invoke("email-tracking",{body:{campaignId:c,recipientEmail:h,recipientName:j,referrerName:$,referralSource:st}});if(mt)throw mt;g(""),_(""),_e(""),rt(""),ct(),alert("Invitation sent successfully!")}catch(ht){console.error("Error sending invitation:",ht),alert("Failed to send invitation")}finally{nt(!1)}}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Total Sent"}),jsxRuntimeExports.jsx(Mail,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:lt.totalSent})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Opened"}),jsxRuntimeExports.jsx(TrendingUp,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:lt.totalOpened}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[lt.totalSent>0?Math.round(lt.totalOpened/lt.totalSent*100):0,"% open rate"]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Clicked"}),jsxRuntimeExports.jsx(Send,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:lt.totalClicked}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[lt.totalSent>0?Math.round(lt.totalClicked/lt.totalSent*100):0,"% click rate"]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Signed Up"}),jsxRuntimeExports.jsx(Users,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:lt.totalSignedUp}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[lt.totalSent>0?Math.round(lt.totalSignedUp/lt.totalSent*100):0,"% conversion"]})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Send Invitation Email"}),jsxRuntimeExports.jsx(CardDescription,{children:"Send personalized invitation emails to potential users"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"campaign",children:"Email Template"}),jsxRuntimeExports.jsxs(Select,{value:c,onValueChange:d,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select a campaign template"})}),jsxRuntimeExports.jsx(SelectContent,{children:i.map(ht=>jsxRuntimeExports.jsx(SelectItem,{value:ht.id,children:ht.name},ht.id))})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"email",children:"Recipient Email"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",value:h,onChange:ht=>g(ht.target.value),placeholder:"user@example.com"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"name",children:"Recipient Name"}),jsxRuntimeExports.jsx(Input,{id:"name",value:j,onChange:ht=>_(ht.target.value),placeholder:"John Doe"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"referrer",children:"Referrer Name (optional)"}),jsxRuntimeExports.jsx(Input,{id:"referrer",value:$,onChange:ht=>_e(ht.target.value),placeholder:"Jane Smith"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"source",children:"Referral Source (optional)"}),jsxRuntimeExports.jsx(Input,{id:"source",value:st,onChange:ht=>rt(ht.target.value),placeholder:"LinkedIn, Twitter, etc."})]})]}),jsxRuntimeExports.jsx(Button,{onClick:ut,disabled:it||!c||!h,className:"w-full",children:it?"Sending...":"Send Invitation"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Recent Email Sends"}),jsxRuntimeExports.jsx(CardDescription,{children:"Track the performance of your invitation emails"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:s.slice(0,10).map(ht=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:ht.recipient_name||ht.recipient_email}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:ht.recipient_email}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Sent: ",new Date(ht.sent_at).toLocaleDateString()]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Badge,{variant:ht.opened_at?"default":"secondary",children:ht.opened_at?"Opened":"Sent"}),ht.clicked_at&&jsxRuntimeExports.jsx(Badge,{variant:"default",children:"Clicked"}),ht.signed_up_at&&jsxRuntimeExports.jsx(Badge,{variant:"default",className:"bg-green-500",children:"Signed Up"})]})]},ht.id))})})]})]})}function EmailCampaigns(){return jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-8",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Email Campaigns"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Manage and track your invitation email campaigns to grow your user base."})]}),jsxRuntimeExports.jsx(EmailCampaignManager,{})]})}function EmailConsoleTest(){const[i,e]=reactExports.useState("admin@linkup.com"),[s,o]=reactExports.useState("Test Email from LinkUp"),[c,d]=reactExports.useState(`<h2>Test Email</h2>
<p>This is a test email from the LinkUp Email Console.</p>
<p>If you're seeing this, the email system is working correctly!</p>
<br>
<p>Best regards,<br>The LinkUp Team</p>`),[h,g]=reactExports.useState(!1);reactExports.useEffect(()=>{(async()=>{const{data:{user:$}}=await supabase$1.auth.getUser();$!=null&&$.email&&e($.email)})()},[]);const j=async()=>{if(!i||!s||!c){toast({title:"Error",description:"Please fill all fields",variant:"destructive"});return}g(!0);try{const{data:_,error:$}=await supabase$1.functions.invoke("send-test-email",{body:{to:i,subject:s,body:c}});if($)throw $;if(_!=null&&_.success)toast({title:"Success",description:`Test email sent successfully via ${_.provider}!`});else throw new Error((_==null?void 0:_.error)||"Unknown error")}catch(_){console.error("Send test email error:",_),toast({title:"Error",description:_.message||"Failed to send test email",variant:"destructive"})}finally{g(!1)}};return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TestTube,{className:"h-5 w-5"}),"Send Test Email"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"test-email",children:"To (Email)"}),jsxRuntimeExports.jsx(Input,{id:"test-email",type:"email",value:i,onChange:_=>e(_.target.value),placeholder:"admin@linkup.com"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"test-subject",children:"Subject"}),jsxRuntimeExports.jsx(Input,{id:"test-subject",value:s,onChange:_=>o(_.target.value),placeholder:"Test Email Subject"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"test-body",children:"Body (HTML)"}),jsxRuntimeExports.jsx(Textarea,{id:"test-body",value:c,onChange:_=>d(_.target.value),rows:8,placeholder:"<p>Your HTML email content here...</p>",className:"font-mono text-sm"})]}),jsxRuntimeExports.jsx(Button,{onClick:j,disabled:h,className:"w-full",children:h?"Sending...":"Send Test"})]})]})}function EmailPreviewModal({open:i,onClose:e,subject:s,htmlContent:o,recipient:c}){return jsxRuntimeExports.jsx(Dialog,{open:i,onOpenChange:e,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl max-h-[80vh]",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Email Preview"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["To: ",c]}),jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium",children:["Subject: ",s]})]}),jsxRuntimeExports.jsx(ScrollArea,{className:"h-96 border rounded p-4",children:jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:o},className:"prose prose-sm max-w-none"})}),jsxRuntimeExports.jsx("div",{className:"flex justify-end gap-2",children:jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:e,children:"Close"})})]})})}function EmailConsoleSingle(){const[i,e]=reactExports.useState(""),[s,o]=reactExports.useState(""),[c,d]=reactExports.useState(""),[h,g]=reactExports.useState(""),[j,_]=reactExports.useState(""),[$,_e]=reactExports.useState([]),[st,rt]=reactExports.useState(!1),[it,nt]=reactExports.useState(!1),[lt,ot]=reactExports.useState(""),[at,ct]=reactExports.useState(""),[ut]=reactExports.useState(!0);reactExports.useEffect(()=>{ht()},[]);const ht=async()=>{try{const{data:St,error:gt}=await supabase$1.from("email_templates").select("*").order("name");if(gt)throw gt;_e(St||[])}catch(St){console.error("Error fetching templates:",St)}},mt=St=>{g(St);const gt=$.find(Ct=>Ct.id===St);gt?(o(gt.subject),d(gt.body),_(JSON.stringify(gt.variables,null,2))):(o(""),d(""),_(""))},xt=(St,gt,Ct)=>{try{const At=Ct?JSON.parse(Ct):{};let Rt=St,kt=gt;return Object.entries(At).forEach(([Mt,It])=>{const Nt=new RegExp(`{{${Mt}}}`,"g");Rt=Rt.replace(Nt,String(It)),kt=kt.replace(Nt,String(It))}),{body:Rt,subject:kt}}catch{return{body:St,subject:gt}}},Et=()=>{const{body:St,subject:gt}=xt(c,s,j);ot(St),ct(gt),nt(!0)},Tt=async()=>{if(!ut){toast({title:"Error",description:"Admin access required",variant:"destructive"});return}if(!i||!s||!c){toast({title:"Error",description:"Please fill required fields",variant:"destructive"});return}rt(!0);try{const{body:St,subject:gt}=xt(c,s,j),{data:Ct,error:At}=await supabase$1.functions.invoke("send-single-email",{body:{recipient:i,subject:gt,body:St,templateId:h,variables:j}});if(At)throw At;if(await supabase$1.from("email_events").insert({type:"single",recipient:i,subject:gt,template_id:h||null,status:Ct.success?"sent":"failed",provider:Ct.provider,error_message:Ct.error}),Ct.success)toast({title:"Success",description:`Email sent via ${Ct.provider}!`}),e(""),o(""),d(""),g(""),_("");else throw new Error(Ct.error||"Failed to send email")}catch{toast({title:"Error",description:"Failed to send email",variant:"destructive"})}finally{rt(!1)}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Mail,{className:"h-5 w-5"}),"Send Single Email"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"recipient",children:"Recipient Email"}),jsxRuntimeExports.jsx(Input,{id:"recipient",type:"email",value:i,onChange:St=>e(St.target.value),placeholder:"user@example.com"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"template-select",children:"Template (Optional)"}),jsxRuntimeExports.jsxs(Select,{value:h,onValueChange:mt,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select template or leave blank for custom"})}),jsxRuntimeExports.jsx(SelectContent,{children:$.map(St=>jsxRuntimeExports.jsx(SelectItem,{value:St.id,children:St.name},St.id))})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"subject",children:"Subject"}),jsxRuntimeExports.jsx(Input,{id:"subject",value:s,onChange:St=>o(St.target.value),placeholder:"Email subject"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"body",children:"Body (HTML)"}),jsxRuntimeExports.jsx(Textarea,{id:"body",value:c,onChange:St=>d(St.target.value),placeholder:"<p>Your email content here...</p>",rows:6})]}),h&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"variables",children:"Variables (JSON)"}),jsxRuntimeExports.jsx(Textarea,{id:"variables",value:j,onChange:St=>_(St.target.value),placeholder:'{"name": "John Doe", "company": "Acme Corp"}',rows:3})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:Et,disabled:!s||!c,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"}),"Preview"]}),jsxRuntimeExports.jsx(Button,{onClick:Tt,disabled:st||!ut,className:"flex-1",children:st?"Sending...":"Send Email"})]}),!ut&&jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Admin access required to send emails"})]})]}),jsxRuntimeExports.jsx(EmailPreviewModal,{open:it,onClose:()=>nt(!1),subject:at,htmlContent:lt,recipient:i})]})}var CHECKBOX_NAME="Checkbox",[createCheckboxContext,createCheckboxScope]=createContextScope(CHECKBOX_NAME),[CheckboxProviderImpl,useCheckboxContext]=createCheckboxContext(CHECKBOX_NAME);function CheckboxProvider(i){const{__scopeCheckbox:e,checked:s,children:o,defaultChecked:c,disabled:d,form:h,name:g,onCheckedChange:j,required:_,value:$="on",internal_do_not_use_render:_e}=i,[st,rt]=useControllableState({prop:s,defaultProp:c??!1,onChange:j,caller:CHECKBOX_NAME}),[it,nt]=reactExports.useState(null),[lt,ot]=reactExports.useState(null),at=reactExports.useRef(!1),ct=it?!!h||!!it.closest("form"):!0,ut={checked:st,disabled:d,setChecked:rt,control:it,setControl:nt,name:g,form:h,value:$,hasConsumerStoppedPropagationRef:at,required:_,defaultChecked:isIndeterminate(c)?!1:c,isFormControl:ct,bubbleInput:lt,setBubbleInput:ot};return jsxRuntimeExports.jsx(CheckboxProviderImpl,{scope:e,...ut,children:isFunction(_e)?_e(ut):o})}var TRIGGER_NAME$1="CheckboxTrigger",CheckboxTrigger=reactExports.forwardRef(({__scopeCheckbox:i,onKeyDown:e,onClick:s,...o},c)=>{const{control:d,value:h,disabled:g,checked:j,required:_,setControl:$,setChecked:_e,hasConsumerStoppedPropagationRef:st,isFormControl:rt,bubbleInput:it}=useCheckboxContext(TRIGGER_NAME$1,i),nt=useComposedRefs(c,$),lt=reactExports.useRef(j);return reactExports.useEffect(()=>{const ot=d==null?void 0:d.form;if(ot){const at=()=>_e(lt.current);return ot.addEventListener("reset",at),()=>ot.removeEventListener("reset",at)}},[d,_e]),jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"checkbox","aria-checked":isIndeterminate(j)?"mixed":j,"aria-required":_,"data-state":getState$1(j),"data-disabled":g?"":void 0,disabled:g,value:h,...o,ref:nt,onKeyDown:composeEventHandlers(e,ot=>{ot.key==="Enter"&&ot.preventDefault()}),onClick:composeEventHandlers(s,ot=>{_e(at=>isIndeterminate(at)?!0:!at),it&&rt&&(st.current=ot.isPropagationStopped(),st.current||ot.stopPropagation())})})});CheckboxTrigger.displayName=TRIGGER_NAME$1;var Checkbox$1=reactExports.forwardRef((i,e)=>{const{__scopeCheckbox:s,name:o,checked:c,defaultChecked:d,required:h,disabled:g,value:j,onCheckedChange:_,form:$,..._e}=i;return jsxRuntimeExports.jsx(CheckboxProvider,{__scopeCheckbox:s,checked:c,defaultChecked:d,disabled:g,required:h,onCheckedChange:_,name:o,form:$,value:j,internal_do_not_use_render:({isFormControl:st})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CheckboxTrigger,{..._e,ref:e,__scopeCheckbox:s}),st&&jsxRuntimeExports.jsx(CheckboxBubbleInput,{__scopeCheckbox:s})]})})});Checkbox$1.displayName=CHECKBOX_NAME;var INDICATOR_NAME="CheckboxIndicator",CheckboxIndicator=reactExports.forwardRef((i,e)=>{const{__scopeCheckbox:s,forceMount:o,...c}=i,d=useCheckboxContext(INDICATOR_NAME,s);return jsxRuntimeExports.jsx(Presence,{present:o||isIndeterminate(d.checked)||d.checked===!0,children:jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState$1(d.checked),"data-disabled":d.disabled?"":void 0,...c,ref:e,style:{pointerEvents:"none",...i.style}})})});CheckboxIndicator.displayName=INDICATOR_NAME;var BUBBLE_INPUT_NAME$1="CheckboxBubbleInput",CheckboxBubbleInput=reactExports.forwardRef(({__scopeCheckbox:i,...e},s)=>{const{control:o,hasConsumerStoppedPropagationRef:c,checked:d,defaultChecked:h,required:g,disabled:j,name:_,value:$,form:_e,bubbleInput:st,setBubbleInput:rt}=useCheckboxContext(BUBBLE_INPUT_NAME$1,i),it=useComposedRefs(s,rt),nt=usePrevious(d),lt=useSize(o);reactExports.useEffect(()=>{const at=st;if(!at)return;const ct=window.HTMLInputElement.prototype,ht=Object.getOwnPropertyDescriptor(ct,"checked").set,mt=!c.current;if(nt!==d&&ht){const xt=new Event("click",{bubbles:mt});at.indeterminate=isIndeterminate(d),ht.call(at,isIndeterminate(d)?!1:d),at.dispatchEvent(xt)}},[st,nt,d,c]);const ot=reactExports.useRef(isIndeterminate(d)?!1:d);return jsxRuntimeExports.jsx(Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:h??ot.current,required:g,disabled:j,name:_,value:$,form:_e,...e,tabIndex:-1,ref:it,style:{...e.style,...lt,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});CheckboxBubbleInput.displayName=BUBBLE_INPUT_NAME$1;function isFunction(i){return typeof i=="function"}function isIndeterminate(i){return i==="indeterminate"}function getState$1(i){return isIndeterminate(i)?"indeterminate":i?"checked":"unchecked"}const Checkbox=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Checkbox$1,{ref:s,className:cn("peer h-4 w-4 shrink-0 rounded-sm border border-primary/60 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground transition-colors duration-200",i),...e,children:jsxRuntimeExports.jsx(CheckboxIndicator,{className:cn("flex items-center justify-center text-current"),children:jsxRuntimeExports.jsx(Check,{className:"h-3.5 w-3.5 transition-transform duration-200"})})}));Checkbox.displayName=Checkbox$1.displayName;function EmailConsoleBroadcast(){const[i,e]=reactExports.useState("segment"),[s,o]=reactExports.useState([]),[c,d]=reactExports.useState(""),[h,g]=reactExports.useState(""),[j,_]=reactExports.useState({role:"",signupDateFrom:"",signupDateTo:"",status:"",industry:""}),[$,_e]=reactExports.useState(""),[st,rt]=reactExports.useState(!1),[it,nt]=reactExports.useState(null),[lt,ot]=reactExports.useState([]),[at,ct]=reactExports.useState({}),[ut,ht]=reactExports.useState(!1),[mt,xt]=reactExports.useState({sent:0,failed:0,total:0});reactExports.useEffect(()=>{Et()},[]);const Et=async()=>{const{data:Ct}=await supabase$1.from("email_templates").select("*");o(Ct||[])},Tt=async Ct=>{var Mt;const At=(Mt=Ct.target.files)==null?void 0:Mt[0];if(!At)return;nt(At);const kt=(await At.text()).split(`
`);if(kt.length>0){const It=kt[0].split(",").map(Nt=>Nt.trim());ot(It)}},St=async()=>{toast({title:"Preview",description:"Sample preview generated"})},gt=async()=>{if(!c||!h){toast({title:"Error",description:"Please fill required fields",variant:"destructive"});return}if(i==="segment"&&!st){toast({title:"Error",description:"Please confirm safety checkbox",variant:"destructive"});return}ht(!0);try{const{data:Ct,error:At}=await supabase$1.functions.invoke("email-broadcast",{body:{campaignName:h,templateId:c,type:i,segmentFilters:i==="segment"?j:null,csvData:i==="csv"?await(it==null?void 0:it.text()):null,columnMapping:i==="csv"?at:null,variablesMapping:i==="segment"?$:null,useGlobalSettings:!0}});if(At)throw At;toast({title:"Success",description:"Campaign queued successfully!"})}catch{toast({title:"Error",description:"Failed to queue campaign",variant:"destructive"})}finally{ht(!1)}};return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Radio,{className:"h-5 w-5"}),"Broadcast / Campaign"]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Campaign Name"}),jsxRuntimeExports.jsx(Input,{value:h,onChange:Ct=>g(Ct.target.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Template (Required)"}),jsxRuntimeExports.jsxs(Select,{value:c,onValueChange:d,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select template"})}),jsxRuntimeExports.jsx(SelectContent,{children:s.map(Ct=>jsxRuntimeExports.jsx(SelectItem,{value:Ct.id,children:Ct.name},Ct.id))})]})]})]}),jsxRuntimeExports.jsxs(Tabs,{value:i,onValueChange:e,children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-2",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"segment",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"h-4 w-4"}),"Segment Send"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"csv",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}),"CSV Upload"]})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"segment",className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Role"}),jsxRuntimeExports.jsxs(Select,{value:j.role,onValueChange:Ct=>_({...j,role:Ct}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Any role"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"user",children:"User"}),jsxRuntimeExports.jsx(SelectItem,{value:"admin",children:"Admin"}),jsxRuntimeExports.jsx(SelectItem,{value:"client",children:"Client"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Status"}),jsxRuntimeExports.jsxs(Select,{value:j.status,onValueChange:Ct=>_({...j,status:Ct}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Any status"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"active",children:"Active"}),jsxRuntimeExports.jsx(SelectItem,{value:"inactive",children:"Inactive"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Signup From"}),jsxRuntimeExports.jsx(Input,{type:"date",value:j.signupDateFrom,onChange:Ct=>_({...j,signupDateFrom:Ct.target.value})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Signup To"}),jsxRuntimeExports.jsx(Input,{type:"date",value:j.signupDateTo,onChange:Ct=>_({...j,signupDateTo:Ct.target.value})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Variables Mapping (JSON)"}),jsxRuntimeExports.jsx(Textarea,{value:$,onChange:Ct=>_e(Ct.target.value),placeholder:'{"first_name": "{{first_name}}", "company": "{{company}}"}'})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:"safety",checked:st,onCheckedChange:Ct=>rt(!!Ct)}),jsxRuntimeExports.jsx(Label$2,{htmlFor:"safety",className:"text-sm",children:"I confirm this is a non-transactional message and includes unsubscribe."})]})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"csv",className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Upload CSV"}),jsxRuntimeExports.jsx(Input,{type:"file",accept:".csv",onChange:Tt}),it&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-green-600",children:["File: ",it.name]})]}),lt.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Map CSV Columns to Template Variables"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:["first_name","last_name","company","custom1","custom2"].map(Ct=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Label$2,{className:"w-20",children:[Ct,":"]}),jsxRuntimeExports.jsxs(Select,{value:at[Ct]||"",onValueChange:At=>ct({...at,[Ct]:At}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"flex-1",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select column"})}),jsxRuntimeExports.jsx(SelectContent,{children:lt.map(At=>jsxRuntimeExports.jsx(SelectItem,{value:At,children:At},At))})]})]},Ct))})]})]})]}),ut&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Sending Progress"}),jsxRuntimeExports.jsxs("span",{children:[mt.sent+mt.failed," / ",mt.total]})]}),jsxRuntimeExports.jsx(Progress,{value:mt.total>0?(mt.sent+mt.failed)/mt.total*100:0}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[jsxRuntimeExports.jsxs("span",{children:["Sent: ",mt.sent]}),jsxRuntimeExports.jsxs("span",{children:["Failed: ",mt.failed]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:St,children:"Preview Sample (10)"}),jsxRuntimeExports.jsx(Button,{onClick:gt,disabled:ut,className:"flex-1",children:ut?"Sending...":"Queue Send"})]})]})]})}var ROOT_NAME="AlertDialog",[createAlertDialogContext,createAlertDialogScope]=createContextScope(ROOT_NAME,[createDialogScope]),useDialogScope=createDialogScope(),AlertDialog$1=i=>{const{__scopeAlertDialog:e,...s}=i,o=useDialogScope(e);return jsxRuntimeExports.jsx(Root$5,{...o,...s,modal:!0})};AlertDialog$1.displayName=ROOT_NAME;var TRIGGER_NAME="AlertDialogTrigger",AlertDialogTrigger=reactExports.forwardRef((i,e)=>{const{__scopeAlertDialog:s,...o}=i,c=useDialogScope(s);return jsxRuntimeExports.jsx(Trigger,{...c,...o,ref:e})});AlertDialogTrigger.displayName=TRIGGER_NAME;var PORTAL_NAME="AlertDialogPortal",AlertDialogPortal$1=i=>{const{__scopeAlertDialog:e,...s}=i,o=useDialogScope(e);return jsxRuntimeExports.jsx(Portal,{...o,...s})};AlertDialogPortal$1.displayName=PORTAL_NAME;var OVERLAY_NAME="AlertDialogOverlay",AlertDialogOverlay$1=reactExports.forwardRef((i,e)=>{const{__scopeAlertDialog:s,...o}=i,c=useDialogScope(s);return jsxRuntimeExports.jsx(Overlay,{...c,...o,ref:e})});AlertDialogOverlay$1.displayName=OVERLAY_NAME;var CONTENT_NAME="AlertDialogContent",[AlertDialogContentProvider,useAlertDialogContentContext]=createAlertDialogContext(CONTENT_NAME),Slottable=createSlottable("AlertDialogContent"),AlertDialogContent$1=reactExports.forwardRef((i,e)=>{const{__scopeAlertDialog:s,children:o,...c}=i,d=useDialogScope(s),h=reactExports.useRef(null),g=useComposedRefs(e,h),j=reactExports.useRef(null);return jsxRuntimeExports.jsx(WarningProvider,{contentName:CONTENT_NAME,titleName:TITLE_NAME,docsSlug:"alert-dialog",children:jsxRuntimeExports.jsx(AlertDialogContentProvider,{scope:s,cancelRef:j,children:jsxRuntimeExports.jsxs(Content,{role:"alertdialog",...d,...c,ref:g,onOpenAutoFocus:composeEventHandlers(c.onOpenAutoFocus,_=>{var $;_.preventDefault(),($=j.current)==null||$.focus({preventScroll:!0})}),onPointerDownOutside:_=>_.preventDefault(),onInteractOutside:_=>_.preventDefault(),children:[jsxRuntimeExports.jsx(Slottable,{children:o}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:h})]})})})});AlertDialogContent$1.displayName=CONTENT_NAME;var TITLE_NAME="AlertDialogTitle",AlertDialogTitle$1=reactExports.forwardRef((i,e)=>{const{__scopeAlertDialog:s,...o}=i,c=useDialogScope(s);return jsxRuntimeExports.jsx(Title,{...c,...o,ref:e})});AlertDialogTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="AlertDialogDescription",AlertDialogDescription$1=reactExports.forwardRef((i,e)=>{const{__scopeAlertDialog:s,...o}=i,c=useDialogScope(s);return jsxRuntimeExports.jsx(Description,{...c,...o,ref:e})});AlertDialogDescription$1.displayName=DESCRIPTION_NAME;var ACTION_NAME="AlertDialogAction",AlertDialogAction$1=reactExports.forwardRef((i,e)=>{const{__scopeAlertDialog:s,...o}=i,c=useDialogScope(s);return jsxRuntimeExports.jsx(Close,{...c,...o,ref:e})});AlertDialogAction$1.displayName=ACTION_NAME;var CANCEL_NAME="AlertDialogCancel",AlertDialogCancel$1=reactExports.forwardRef((i,e)=>{const{__scopeAlertDialog:s,...o}=i,{cancelRef:c}=useAlertDialogContentContext(CANCEL_NAME,s),d=useDialogScope(s),h=useComposedRefs(e,c);return jsxRuntimeExports.jsx(Close,{...d,...o,ref:h})});AlertDialogCancel$1.displayName=CANCEL_NAME;var DescriptionWarning=({contentRef:i})=>{const e=`\`${CONTENT_NAME}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${CONTENT_NAME}\` by passing a \`${DESCRIPTION_NAME}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${CONTENT_NAME}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return reactExports.useEffect(()=>{var o;document.getElementById((o=i.current)==null?void 0:o.getAttribute("aria-describedby"))||console.warn(e)},[e,i]),null},Root2=AlertDialog$1,Portal2=AlertDialogPortal$1,Overlay2=AlertDialogOverlay$1,Content2=AlertDialogContent$1,Action=AlertDialogAction$1,Cancel=AlertDialogCancel$1,Title2=AlertDialogTitle$1,Description2=AlertDialogDescription$1;const AlertDialog=Root2,AlertDialogPortal=Portal2,AlertDialogOverlay=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Overlay2,{className:cn("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",i),...e,ref:s}));AlertDialogOverlay.displayName=Overlay2.displayName;const AlertDialogContent=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsxs(AlertDialogPortal,{children:[jsxRuntimeExports.jsx(AlertDialogOverlay,{}),jsxRuntimeExports.jsx(Content2,{ref:s,className:cn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-card p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",i),...e})]}));AlertDialogContent.displayName=Content2.displayName;const AlertDialogHeader=({className:i,...e})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-2 text-center sm:text-left",i),...e});AlertDialogHeader.displayName="AlertDialogHeader";const AlertDialogFooter=({className:i,...e})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 mt-4",i),...e});AlertDialogFooter.displayName="AlertDialogFooter";const AlertDialogTitle=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Title2,{ref:s,className:cn("text-lg font-semibold text-primary/90",i),...e}));AlertDialogTitle.displayName=Title2.displayName;const AlertDialogDescription=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Description2,{ref:s,className:cn("text-sm text-muted-foreground mt-2",i),...e}));AlertDialogDescription.displayName=Description2.displayName;const AlertDialogAction=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Action,{ref:s,className:cn(buttonVariants(),i),...e}));AlertDialogAction.displayName=Action.displayName;const AlertDialogCancel=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Cancel,{ref:s,className:cn(buttonVariants({variant:"outline"}),"mt-2 sm:mt-0",i),...e}));AlertDialogCancel.displayName=Cancel.displayName;const VARIABLE_SUGGESTIONS=["{{first_name}}","{{last_name}}","{{email}}","{{company}}","{{project_name}}","{{unsubscribe_url}}","{{custom1}}","{{custom2}}"];function EmailTemplateEditor({template:i,isOpen:e,onClose:s,onSave:o}){const[c,d]=reactExports.useState({name:(i==null?void 0:i.name)||"",subject:(i==null?void 0:i.subject)||"",html_body:(i==null?void 0:i.html_body)||""}),h=(j,_)=>{const $=document.getElementById(_);if($){const _e=$.selectionStart,st=$.selectionEnd,rt=c[_],it=rt.substring(0,_e)+j+rt.substring(st);d(nt=>({...nt,[_]:it})),setTimeout(()=>{$.focus(),$.setSelectionRange(_e+j.length,_e+j.length)},0)}},g=()=>{!c.name.trim()||!c.subject.trim()||(o(c),s())};return jsxRuntimeExports.jsx(Dialog,{open:e,onOpenChange:s,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:i?"Edit Template":"Create New Template"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"name",children:"Template Name"}),jsxRuntimeExports.jsx(Input,{id:"name",value:c.name,onChange:j=>d(_=>({..._,name:j.target.value})),placeholder:"e.g., Welcome Email"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"subject",children:"Subject Line"}),jsxRuntimeExports.jsx("div",{className:"flex gap-1 flex-wrap",children:VARIABLE_SUGGESTIONS.slice(0,4).map(j=>jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"cursor-pointer hover:bg-gray-100",onClick:()=>h(j,"subject"),children:[jsxRuntimeExports.jsx(Plus,{className:"h-3 w-3 mr-1"}),j]},j))})]}),jsxRuntimeExports.jsx(Input,{id:"subject",value:c.subject,onChange:j=>d(_=>({..._,subject:j.target.value})),placeholder:"Welcome to {{company}}!"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"html_body",children:"HTML Body"}),jsxRuntimeExports.jsx("div",{className:"flex gap-1 flex-wrap",children:VARIABLE_SUGGESTIONS.map(j=>jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"cursor-pointer hover:bg-gray-100",onClick:()=>h(j,"html_body"),children:[jsxRuntimeExports.jsx(Plus,{className:"h-3 w-3 mr-1"}),j]},j))})]}),jsxRuntimeExports.jsx(Textarea,{id:"html_body",value:c.html_body,onChange:j=>d(_=>({..._,html_body:j.target.value})),placeholder:"<h1>Hello {{first_name}}!</h1><p>Welcome to our platform...</p>",className:"min-h-[200px] font-mono text-sm"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:s,children:"Cancel"}),jsxRuntimeExports.jsxs(Button,{onClick:g,disabled:!c.name.trim()||!c.subject.trim(),children:[i?"Update":"Create"," Template"]})]})]})]})})}function EmailConsoleTemplates(){const[i,e]=reactExports.useState([]),[s,o]=reactExports.useState(!0),[c,d]=reactExports.useState(!1),[h,g]=reactExports.useState(null),[j,_]=reactExports.useState(!1),[$,_e]=reactExports.useState(null),[st,rt]=reactExports.useState(null);reactExports.useEffect(()=>{it()},[]);const it=async()=>{try{const{data:ct,error:ut}=await supabase$1.from("email_templates").select("*").order("created_at",{ascending:!1});if(ut)throw ut;e(ct||[])}catch(ct){console.error("Error fetching templates:",ct)}finally{o(!1)}},nt=async ct=>{try{if(h){const{error:ut}=await supabase$1.from("email_templates").update({name:ct.name,subject:ct.subject,html_body:ct.html_body,updated_at:new Date().toISOString()}).eq("id",h.id);if(ut)throw ut}else{const{error:ut}=await supabase$1.from("email_templates").insert({name:ct.name,subject:ct.subject,html_body:ct.html_body});if(ut)throw ut}it(),g(null)}catch(ut){console.error("Error saving template:",ut),alert("Failed to save template")}},lt=async()=>{if(st)try{const{error:ct}=await supabase$1.from("email_templates").delete().eq("id",st.id);if(ct)throw ct;it(),rt(null)}catch(ct){console.error("Error deleting template:",ct),alert("Failed to delete template")}},ot=ct=>{g(ct||null),d(!0)},at=ct=>{_e(ct),_(!0)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5"}),"Email Templates"]}),jsxRuntimeExports.jsxs(Button,{onClick:()=>ot(),size:"sm",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-1"}),"New Template"]})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(ScrollArea,{className:"h-96",children:s?jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Loading templates..."}):i.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"No templates found"}):jsxRuntimeExports.jsx("div",{className:"space-y-3",children:i.map(ct=>jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h5",{className:"font-medium",children:ct.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-1",children:ct.subject}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(ct.created_at).toLocaleDateString()]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>at(ct),children:jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>ot(ct),children:jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>rt(ct),children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:["Variables: ",(ct.html_body.match(/\{\{[^}]+\}\}/g)||[]).join(", ")]})]},ct.id))})})})]}),jsxRuntimeExports.jsx(EmailTemplateEditor,{template:h,isOpen:c,onClose:()=>{d(!1),g(null)},onSave:nt}),$&&jsxRuntimeExports.jsx(EmailPreviewModal,{isOpen:j,onClose:()=>{_(!1),_e(null)},subject:$.subject,html:$.html_body,variables:{}}),jsxRuntimeExports.jsx(AlertDialog,{open:!!st,onOpenChange:()=>rt(null),children:jsxRuntimeExports.jsxs(AlertDialogContent,{children:[jsxRuntimeExports.jsxs(AlertDialogHeader,{children:[jsxRuntimeExports.jsx(AlertDialogTitle,{children:"Delete Template"}),jsxRuntimeExports.jsxs(AlertDialogDescription,{children:['Are you sure you want to delete "',st==null?void 0:st.name,'"? This action cannot be undone.']})]}),jsxRuntimeExports.jsxs(AlertDialogFooter,{children:[jsxRuntimeExports.jsx(AlertDialogCancel,{children:"Cancel"}),jsxRuntimeExports.jsx(AlertDialogAction,{onClick:lt,children:"Delete"})]})]})})]})}const Sheet=Root$5,SheetPortal=Portal,SheetOverlay=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Overlay,{className:cn("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",i),...e,ref:s}));SheetOverlay.displayName=Overlay.displayName;const sheetVariants=cva("fixed z-50 gap-4 bg-card border shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b rounded-b-xl data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t rounded-t-xl data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),SheetContent=reactExports.forwardRef(({side:i="right",className:e,children:s,...o},c)=>jsxRuntimeExports.jsxs(SheetPortal,{children:[jsxRuntimeExports.jsx(SheetOverlay,{}),jsxRuntimeExports.jsxs(Content,{ref:c,className:cn(sheetVariants({side:i}),e),...o,children:[s,jsxRuntimeExports.jsxs(Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 hover:text-primary focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:pointer-events-none",children:[jsxRuntimeExports.jsx(X,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));SheetContent.displayName=Content.displayName;const SheetHeader=({className:i,...e})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-2 text-center sm:text-left",i),...e});SheetHeader.displayName="SheetHeader";const SheetTitle=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Title,{ref:s,className:cn("text-lg font-semibold text-primary/90",i),...e}));SheetTitle.displayName=Title.displayName;const SheetDescription=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Description,{ref:s,className:cn("text-sm text-muted-foreground mt-2",i),...e}));SheetDescription.displayName=Description.displayName;function EmailActivityLog(){const[i,e]=reactExports.useState([]),[s,o]=reactExports.useState(!0),[c,d]=reactExports.useState(null),[h,g]=reactExports.useState({status:"",type:"",dateFrom:"",dateTo:""});reactExports.useEffect(()=>{j()},[h]);const j=async()=>{o(!0);try{let st=supabase$1.from("email_events").select("*").order("created_at",{ascending:!1}).limit(100);h.status&&(st=st.eq("status",h.status)),h.type&&(st=st.eq("type",h.type)),h.dateFrom&&(st=st.gte("created_at",h.dateFrom)),h.dateTo&&(st=st.lte("created_at",h.dateTo));const{data:rt,error:it}=await st;if(it)throw it;e(rt||[])}catch(st){console.error("Error fetching email events:",st)}finally{o(!1)}},_=async st=>{var rt;try{const{data:it,error:nt}=await supabase$1.functions.invoke("send-single-email",{body:{to:st.to_email,subject:st.subject,html:st.rendered_html||((rt=st.payload)==null?void 0:rt.html)||"",resend:!0}});if(nt)throw nt;j(),alert("Email resent successfully!")}catch(it){console.error("Error resending email:",it),alert("Failed to resend email")}},$=st=>{switch(st){case"sent":return jsxRuntimeExports.jsx(Badge,{className:"bg-green-100 text-green-800",children:"Sent"});case"failed":return jsxRuntimeExports.jsx(Badge,{className:"bg-red-100 text-red-800",children:"Failed"});case"queued":return jsxRuntimeExports.jsx(Badge,{className:"bg-yellow-100 text-yellow-800",children:"Queued"});default:return jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:st})}},_e=st=>{const rt={test:"bg-blue-100 text-blue-800",single:"bg-purple-100 text-purple-800",broadcast:"bg-orange-100 text-orange-800",system:"bg-gray-100 text-gray-800"};return jsxRuntimeExports.jsx(Badge,{className:rt[st]||"bg-gray-100 text-gray-800",children:st})};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-5 w-5"}),"Email Activity Log"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:j,children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[jsxRuntimeExports.jsxs(Select,{value:h.status,onValueChange:st=>g(rt=>({...rt,status:st})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Status"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"",children:"All Statuses"}),jsxRuntimeExports.jsx(SelectItem,{value:"sent",children:"Sent"}),jsxRuntimeExports.jsx(SelectItem,{value:"failed",children:"Failed"}),jsxRuntimeExports.jsx(SelectItem,{value:"queued",children:"Queued"})]})]}),jsxRuntimeExports.jsxs(Select,{value:h.type,onValueChange:st=>g(rt=>({...rt,type:st})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Type"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"",children:"All Types"}),jsxRuntimeExports.jsx(SelectItem,{value:"test",children:"Test"}),jsxRuntimeExports.jsx(SelectItem,{value:"single",children:"Single"}),jsxRuntimeExports.jsx(SelectItem,{value:"broadcast",children:"Broadcast"}),jsxRuntimeExports.jsx(SelectItem,{value:"system",children:"System"})]})]}),jsxRuntimeExports.jsx(Input,{type:"date",placeholder:"From Date",value:h.dateFrom,onChange:st=>g(rt=>({...rt,dateFrom:st.target.value}))}),jsxRuntimeExports.jsx(Input,{type:"date",placeholder:"To Date",value:h.dateTo,onChange:st=>g(rt=>({...rt,dateTo:st.target.value}))})]}),jsxRuntimeExports.jsx(ScrollArea,{className:"h-96",children:s?jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 p-4",children:"Loading events..."}):i.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 p-4",children:"No email events found"}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:i.map(st=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>d(st),children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[$(st.status),_e(st.type),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:st.provider})]}),jsxRuntimeExports.jsx("p",{className:"font-medium text-sm",children:st.to_email}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 truncate",children:st.subject}),st.error_message&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-red-600 truncate",title:st.error_message,children:["Error: ",st.error_message]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:new Date(st.created_at).toLocaleString()}),st.status==="failed"&&jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"mt-1",onClick:rt=>{rt.stopPropagation(),_(st)},children:[jsxRuntimeExports.jsx(RotateCcw,{className:"h-3 w-3 mr-1"}),"Resend"]})]})]},st.id))})})]})]}),jsxRuntimeExports.jsx(Sheet,{open:!!c,onOpenChange:()=>d(null),children:jsxRuntimeExports.jsxs(SheetContent,{className:"w-[600px] sm:w-[800px]",children:[jsxRuntimeExports.jsx(SheetHeader,{children:jsxRuntimeExports.jsx(SheetTitle,{children:"Email Event Details"})}),c&&jsxRuntimeExports.jsxs("div",{className:"mt-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Status"}),jsxRuntimeExports.jsx("div",{className:"mt-1",children:$(c.status)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Type"}),jsxRuntimeExports.jsx("div",{className:"mt-1",children:_e(c.type)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Provider"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:c.provider})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Sent At"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:new Date(c.created_at).toLocaleString()})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Recipient"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:c.to_email})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Subject"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:c.subject})]}),c.error_message&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-red-600",children:"Error Message"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-red-600",children:c.error_message})]}),c.rendered_html&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Rendered HTML Preview"}),jsxRuntimeExports.jsx("div",{className:"mt-2 border rounded-lg p-4 bg-white",children:jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:c.rendered_html}})})]}),c.payload&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Raw Payload"}),jsxRuntimeExports.jsx("pre",{className:"mt-2 text-xs bg-gray-100 p-3 rounded overflow-auto max-h-40",children:JSON.stringify(c.payload,null,2)})]})]})]})})]})}function EmailGlobalSettings(){return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Settings,{className:"h-5 w-5"}),"Global Email Settings"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[jsxRuntimeExports.jsx(Mail,{className:"h-4 w-4"}),"Primary Provider"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"default",children:"SendGrid"}),jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Active"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Primary email delivery service with automatic failover"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[jsxRuntimeExports.jsx(Mail,{className:"h-4 w-4"}),"Fallback Provider"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"Resend"}),jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Standby"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Automatic fallback when primary provider fails"})]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium mb-2",children:"Default Settings"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"From Address:"}),jsxRuntimeExports.jsx("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:"no-reply@quickenquotes.com"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Reply-To:"}),jsxRuntimeExports.jsx("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:"support@quickenquotes.com"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Company Name:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"LinkUp"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Retry Logic:"}),jsxRuntimeExports.jsx("span",{className:"text-green-600",children:"Automatic fallback enabled"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-blue-600 mt-0.5"}),jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-blue-800",children:"Automatic Failover"}),jsxRuntimeExports.jsx("p",{className:"text-blue-700",children:"If SendGrid fails, emails automatically retry with Resend. All events are logged with provider information."})]})]})})]})]})}function EmailConsole(){return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50",children:[jsxRuntimeExports.jsx("div",{className:"sticky top-0 z-10 bg-white border-b shadow-sm",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between h-16",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Email Console"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Manage email campaigns and communications"})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(Settings,{className:"h-4 w-4 mr-2"}),"Settings"]})]})})}),jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:jsxRuntimeExports.jsxs(Tabs,{defaultValue:"campaigns",className:"space-y-6",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-4",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"campaigns",children:"Email Campaigns"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"templates",children:"Templates"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"activity",children:"Activity Log"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"settings",children:"Settings"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"campaigns",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(EmailConsoleTest,{}),jsxRuntimeExports.jsx(EmailConsoleSingle,{}),jsxRuntimeExports.jsx(EmailConsoleBroadcast,{})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"templates",children:jsxRuntimeExports.jsx(EmailConsoleTemplates,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"activity",children:jsxRuntimeExports.jsx(EmailActivityLog,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"settings",children:jsxRuntimeExports.jsx(EmailGlobalSettings,{})})]})})]})}function useProjects(){const[i,e]=reactExports.useState(!0),[s,o]=reactExports.useState([]),[c,d]=reactExports.useState(null),h=reactExports.useCallback(async()=>{e(!0),d(null);const{data:{user:g},error:j}=await supabase$1.auth.getUser();if(j){d(j.message),e(!1);return}if(!g){d("You are not signed in."),e(!1);return}const{data:_,error:$}=await supabase$1.from("projects").select("id, user_id, title, description, status, created_at, skills_required").eq("user_id",g.id).order("created_at",{ascending:!1});$?d($.message):o(_||[]),e(!1)},[]);return reactExports.useEffect(()=>{h()},[h]),{loading:i,projects:s,error:c,refresh:h}}const SuccessModal=({isOpen:i,onClose:e,title:s,message:o,buttonText:c="Continue",onButtonClick:d})=>{if(!i)return null;const h=()=>{d?d():e()};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:jsxRuntimeExports.jsx("div",{className:"bg-white/95 backdrop-blur-lg rounded-3xl shadow-2xl border border-green-100 w-full max-w-md",children:jsxRuntimeExports.jsxs("div",{className:"p-8 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 rounded-full p-4 w-20 h-20 mx-auto mb-4",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-12 h-12 text-white"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:s}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:o})]}),jsxRuntimeExports.jsxs(Button,{onClick:h,className:"w-full h-12 rounded-xl bg-gradient-to-r from-blue-600 to-purple-600",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 mr-2"}),c]})]})})})},CustomDateTimeModal=({isOpen:i,onClose:e,onSave:s})=>{const[o,c]=reactExports.useState(""),[d,h]=reactExports.useState(""),g=()=>{if(o&&d){const j=`${o} ${d}`;s(j),e(),c(""),h("")}};return i?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-2xl shadow-2xl border border-purple-100 w-full max-w-md",children:jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Custom Timeline"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:e,children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4 inline mr-1"}),"Date"]}),jsxRuntimeExports.jsx(Input,{type:"date",value:o,onChange:j=>c(j.target.value),className:"h-12 rounded-xl border-2 border-purple-100",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 inline mr-1"}),"Time"]}),jsxRuntimeExports.jsx(Input,{type:"time",value:d,onChange:j=>h(j.target.value),className:"h-12 rounded-xl border-2 border-purple-100",required:!0})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 mt-6",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:e,className:"flex-1 h-12 rounded-xl",children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:g,disabled:!o||!d,className:"flex-1 h-12 rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 disabled:opacity-50",children:"Save"})]})]})})}):null},PostProjectModal=({isOpen:i,onClose:e})=>{const s=useNavigate(),{isAuthenticated:o,loading:c}=useAuth(),[d,h]=reactExports.useState({name:"",description:"",industry:"",customIndustry:"",skills:"",timeline:"",budget:"",files:null}),[g,j]=reactExports.useState(!1),[_,$]=reactExports.useState(!1),[_e,st]=reactExports.useState(!1),[rt,it]=reactExports.useState(""),[nt,lt]=reactExports.useState([]),[ot,at]=reactExports.useState([]);reactExports.useEffect(()=>{if(i&&o){const St=sessionStorage.getItem(DRAFT_PROJECT_KEY);if(St)try{const gt=JSON.parse(St);h(Ct=>({...Ct,...gt,files:null}))}catch(gt){console.error("Failed to parse draft data:",gt)}}},[i,o]);const ct=()=>({name:d.name,description:d.description,industry:d.industry,customIndustry:d.customIndustry,skills:d.skills,timeline:d.timeline,budget:d.budget}),ut=()=>d.name.trim()?d.description.trim()?d.skills.trim()?null:"Skills required field is required":"Project description is required":"Project name is required",ht=async({title:St,description:gt,skills:Ct})=>{const{data:{user:At}}=await supabase$1.auth.getUser();if(!At)throw new Error("Must be signed in");const Rt=Array.isArray(Ct)?Ct:typeof Ct=="string"?Ct.split(",").map(It=>It.trim()).filter(Boolean):[],{data:kt,error:Mt}=await supabase$1.from("projects").insert({title:St,description:gt??"",skills_required:Rt,user_id:At.id}).select().single();if(Mt)throw Mt;return kt},mt=async(St,gt)=>{const Ct=[];for(const At of Array.from(gt)){const Rt=`${St}/${Date.now()}-${At.name}`,{error:kt}=await supabase$1.storage.from("project-files").upload(Rt,At);if(kt)throw kt;const{data:Mt}=supabase$1.storage.from("project-files").getPublicUrl(Rt);Ct.push(Mt.publicUrl)}return at(Ct),Ct},xt=async St=>{St.preventDefault(),it("");const gt=ut();if(gt){it(gt);return}if(!o&&!c){const Ct=ct();sessionStorage.setItem(DRAFT_PROJECT_KEY,JSON.stringify(Ct));const At=addParams(SIGNUP_ROUTE,{next:POST_PROJECT_ROUTE,intent:"client"});toast({title:"Please sign up to continue",description:"Your project details will be saved."}),s(At);return}j(!0);try{const Ct=d.skills.split(",").map(Rt=>Rt.trim()).filter(Boolean),At=await ht({title:d.name,description:d.description,skills:Ct});if(d.files&&d.files.length>0){const Rt=await mt(At.id,d.files);await supabase$1.from("projects").update({file_urls:Rt}).eq("id",At.id)}sessionStorage.removeItem(DRAFT_PROJECT_KEY),$(!0),toast({title:"Project posted successfully!",description:"Finding your best-fit team..."}),setTimeout(()=>{$(!1),e(),s("/team-match")},2e3)}catch(Ct){it("Failed to post project. Please try again."),console.error("Project submission error:",Ct)}finally{j(!1)}},Et=St=>{const gt=St.target.files;if(h({...d,files:gt}),gt){const Ct=Array.from(gt).map(At=>At.name);lt(Ct)}else lt([])};if(!i)return null;const Tt=d.timeline&&!["urgent","1week","1month","custom"].includes(d.timeline);return jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-white/95 backdrop-blur-lg rounded-3xl shadow-2xl border border-purple-100 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-3",children:jsxRuntimeExports.jsx(FileText,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Post Your Project"})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:e,children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:xt,className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Project Name"}),jsxRuntimeExports.jsx(Input,{value:d.name,onChange:St=>h({...d,name:St.target.value}),placeholder:"e.g., Mobile App Development",className:"h-12 rounded-xl border-2 border-purple-100",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Project Description"}),jsxRuntimeExports.jsx(Textarea,{value:d.description,onChange:St=>h({...d,description:St.target.value}),placeholder:"Describe your project goals and requirements...",className:"min-h-24 rounded-xl border-2 border-purple-100 resize-none",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Industry"}),jsxRuntimeExports.jsxs(Select,{value:d.industry,onValueChange:St=>h({...d,industry:St}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-12 rounded-xl border-2 border-purple-100",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select your industry"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"web-app-development",children:"Web & App Development"}),jsxRuntimeExports.jsx(SelectItem,{value:"marketing-advertising",children:"Marketing & Advertising"}),jsxRuntimeExports.jsx(SelectItem,{value:"interior-design",children:"Interior Design"}),jsxRuntimeExports.jsx(SelectItem,{value:"architecture-construction",children:"Architecture & Construction"}),jsxRuntimeExports.jsx(SelectItem,{value:"finance-accounting",children:"Finance & Accounting"}),jsxRuntimeExports.jsx(SelectItem,{value:"healthcare",children:"Healthcare"}),jsxRuntimeExports.jsx(SelectItem,{value:"ecommerce",children:"E-commerce"}),jsxRuntimeExports.jsx(SelectItem,{value:"education",children:"Education"}),jsxRuntimeExports.jsx(SelectItem,{value:"legal",children:"Legal"}),jsxRuntimeExports.jsx(SelectItem,{value:"other",children:"Other"})]})]}),d.industry==="other"&&jsxRuntimeExports.jsx(Input,{value:d.customIndustry,onChange:St=>h({...d,customIndustry:St.target.value}),placeholder:"Please specify your industry",className:"h-12 rounded-xl border-2 border-purple-100 mt-2"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Skills Required"}),jsxRuntimeExports.jsx(Input,{value:d.skills,onChange:St=>h({...d,skills:St.target.value}),placeholder:"e.g., React, Node.js, UI/UX Design",className:"h-12 rounded-xl border-2 border-purple-100",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4 inline mr-1"}),"Timeline"]}),jsxRuntimeExports.jsxs(Select,{value:Tt?"custom":d.timeline,onValueChange:St=>{St==="custom"?st(!0):h({...d,timeline:St})},children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-12 rounded-xl border-2 border-purple-100",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select timeline",children:Tt?`Custom: ${d.timeline}`:void 0})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"urgent",children:"Urgent (ASAP)"}),jsxRuntimeExports.jsx(SelectItem,{value:"1week",children:"1 Week"}),jsxRuntimeExports.jsx(SelectItem,{value:"1month",children:"1 Month"}),jsxRuntimeExports.jsx(SelectItem,{value:"custom",children:"Custom"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4 inline mr-1"}),"Budget (Optional)"]}),jsxRuntimeExports.jsx(Input,{value:d.budget,onChange:St=>h({...d,budget:St.target.value}),placeholder:"e.g., $5,000 - $10,000",className:"h-12 rounded-xl border-2 border-purple-100"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4 inline mr-1"}),"Project Brief/Specs (Optional)"]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"file",onChange:Et,multiple:!0,accept:".pdf,.doc,.docx,.txt",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),jsxRuntimeExports.jsx("div",{className:"h-12 rounded-xl border-2 border-dashed border-purple-200 flex items-center justify-center bg-purple-50 hover:bg-purple-100 transition-colors",children:jsxRuntimeExports.jsx("span",{className:"text-purple-600 text-sm",children:"Click to upload files"})})]}),nt.length>0&&jsxRuntimeExports.jsx("ul",{className:"mt-2 space-y-1 text-sm text-gray-600",children:nt.map((St,gt)=>jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Upload,{className:"w-3 h-3 text-purple-500"}),St]},gt))}),ot.length>0&&jsxRuntimeExports.jsx("ul",{className:"mt-2 space-y-1 text-sm text-green-600",children:ot.map((St,gt)=>jsxRuntimeExports.jsxs("li",{className:"truncate",children:[" Uploaded:"," ",jsxRuntimeExports.jsx("a",{href:St,target:"_blank",rel:"noopener noreferrer",children:St.split("/").pop()})]},gt))})]}),rt&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 text-red-700 text-sm",children:rt}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 pt-4",children:[jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:e,className:"flex-1 h-12 rounded-xl",children:"Cancel"}),jsxRuntimeExports.jsxs(Button,{type:"submit",disabled:g,className:"flex-1 h-12 rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 disabled:opacity-50",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 mr-2"}),g?"Posting...":"Find My Team"]})]})]})]})}),jsxRuntimeExports.jsx(SuccessModal,{isOpen:_,onClose:()=>$(!1),title:"Project Posted!",message:"We're now matching you with the best teams",buttonText:"View Teams"}),jsxRuntimeExports.jsx(CustomDateTimeModal,{isOpen:_e,onClose:()=>st(!1),onSave:St=>{h({...d,timeline:St})}})]})};function NewProjectButton({onCreated:i}){const[e,s]=reactExports.useState(!1),o=()=>{s(!0)},c=()=>{s(!1),i==null||i()};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("button",{onClick:o,className:"rounded-lg bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 transition-colors",children:"New Project"}),jsxRuntimeExports.jsx(PostProjectModal,{isOpen:e,onClose:c})]})}const Projects=()=>{const i=useNavigate(),{loading:e,projects:s,error:o,refresh:c}=useProjects();return e?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50",children:jsxRuntimeExports.jsx("div",{className:"p-6",children:"Loading your projects"})}):o?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"p-6 text-red-600",children:["Error: ",o]})}):s.length===0?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold",children:"My Projects"}),jsxRuntimeExports.jsx("p",{children:"No projects yet. Create your first one."}),jsxRuntimeExports.jsx(NewProjectButton,{onCreated:c})]})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold",children:"My Projects"}),jsxRuntimeExports.jsx(NewProjectButton,{onCreated:c}),jsxRuntimeExports.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.map(d=>jsxRuntimeExports.jsxs("div",{className:"rounded-xl border p-4 bg-white cursor-pointer hover:shadow-md transition-shadow",onClick:()=>i(`/projects/${d.id}`),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-medium",children:d.title}),jsxRuntimeExports.jsx("span",{className:"text-xs rounded bg-gray-100 px-2 py-1",children:d.status??"unspecified"})]}),d.description&&jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-gray-600",children:d.description}),jsxRuntimeExports.jsxs("p",{className:"mt-2 text-xs text-gray-400",children:["Created ",new Date(d.created_at).toLocaleString()]})]},d.id))})]})})},RelevantProjects=({teamSkills:i,teamId:e})=>{const[s,o]=reactExports.useState([]),[c,d]=reactExports.useState(!0),[h,g]=reactExports.useState(null),{toast:j}=useToast();reactExports.useEffect(()=>{_()},[i]);const _=async()=>{try{const{data:_e,error:st}=await supabase$1.from("projects").select("*").eq("status","open").order("created_at",{ascending:!1});if(st)throw st;const rt=(_e==null?void 0:_e.filter(it=>!it.skills_required||!Array.isArray(it.skills_required)?!1:it.skills_required.some(nt=>i.some(lt=>lt.toLowerCase().includes(nt.toLowerCase())||nt.toLowerCase().includes(lt.toLowerCase())))))||[];o(rt.slice(0,6))}catch(_e){console.error("Error fetching projects:",_e)}finally{d(!1)}},$=async _e=>{g(_e);try{const{data:st,error:rt}=await supabase$1.functions.invoke("send-project-interest",{body:{projectId:_e,teamId:e}});if(rt)throw rt;j({title:"Interest Sent!",description:"The client has been notified of your interest in this project."})}catch(st){console.error("Error sending notification:",st),j({title:"Error",description:"Failed to send notification. Please try again.",variant:"destructive"})}finally{g(null)}};return c?jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Relevant Projects"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(_e=>jsxRuntimeExports.jsx("div",{className:"h-20 bg-gray-200 rounded"},_e))})})]}):jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Bell,{className:"h-5 w-5"}),"Projects Matching Your Skills"]})}),jsxRuntimeExports.jsx(CardContent,{children:s.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-center py-8",children:"No matching projects found at the moment."}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:s.map(_e=>{var st,rt,it;return jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-3",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-lg",children:_e.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-4 w-4"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["$",(st=_e.budget)==null?void 0:st.toLocaleString()]})]})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:_e.description}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(rt=_e.skills_required)==null?void 0:rt.slice(0,3).map(nt=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:nt},nt)),((it=_e.skills_required)==null?void 0:it.length)>3&&jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"text-xs",children:["+",_e.skills_required.length-3," more"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4"}),_e.timeline]}),_e.location&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(MapPin,{className:"h-4 w-4"}),_e.location]})]}),jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:()=>$(_e.id),disabled:h===_e.id,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Bell,{className:"h-4 w-4"}),h===_e.id?"Sending...":"Express Interest"]})]})]},_e.id)})})})]})},TeamDashboard=()=>{const[i,e]=reactExports.useState([]),[s,o]=reactExports.useState(!0),{user:c}=useAuth(),{toast:d}=useToast();reactExports.useEffect(()=>{c&&h()},[c]);const h=async()=>{try{const{data:g,error:j}=await supabase$1.from("teams").select("*").eq("user_id",c==null?void 0:c.id);if(j)throw j;e(g||[])}catch(g){console.error("Error fetching teams:",g),d({title:"Error",description:"Failed to load team data",variant:"destructive"})}finally{o(!1)}};return s?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-600",children:"Loading dashboard..."})]})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:i.length>0?`${i[0].name} Dashboard`:"Team Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:i.length>0?"Find relevant projects and grow your business":"Create your team profile to get started"})]}),jsxRuntimeExports.jsxs(Button,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Settings,{className:"h-4 w-4"}),i.length>0?"Edit Profile":"Create Profile"]})]}),i.length>0?i.map(g=>jsxRuntimeExports.jsxs("div",{className:"mb-12",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Active Projects"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:g.projects_completed||0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Total completed"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Team Rating"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:g.rating||"0.0"}),jsxRuntimeExports.jsx(Star,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Hourly Rate"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:["$",g.hourly_rate||"0"]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"per hour"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Status"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:`w-3 h-3 rounded-full ${g.availability_status==="available"?"bg-green-500":g.availability_status==="busy"?"bg-yellow-500":"bg-red-500"}`}),jsxRuntimeExports.jsx("span",{className:"capitalize text-sm font-medium",children:g.availability_status||"Unknown"})]})})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsx(RelevantProjects,{teamSkills:g.skills||[],teamId:g.id})})]},g.id)):jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Welcome to Your Team Dashboard"}),jsxRuntimeExports.jsx(CardDescription,{children:"Create your team profile to start finding relevant projects"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:"Set up your team profile to showcase your skills, experience, and get matched with projects that fit your expertise."}),jsxRuntimeExports.jsx(Button,{children:"Create Team Profile"})]})]})]})})},alertVariants=cva("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground shadow-sm",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-600 dark:text-green-400 [&>svg]:text-green-600 dark:[&>svg]:text-green-400 bg-green-50 dark:bg-green-950/20",warning:"border-yellow-500/50 text-yellow-600 dark:text-yellow-400 [&>svg]:text-yellow-600 dark:[&>svg]:text-yellow-400 bg-yellow-50 dark:bg-yellow-950/20",info:"border-primary/50 text-primary dark:text-primary-foreground [&>svg]:text-primary bg-primary/10 dark:bg-primary/20"}},defaultVariants:{variant:"default"}}),Alert=reactExports.forwardRef(({className:i,variant:e,...s},o)=>jsxRuntimeExports.jsx("div",{ref:o,role:"alert",className:cn(alertVariants({variant:e}),i),...s}));Alert.displayName="Alert";const AlertTitle=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx("h5",{ref:s,className:cn("mb-1 font-medium leading-none tracking-tight",i),...e}));AlertTitle.displayName="AlertTitle";const AlertDescription=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx("div",{ref:s,className:cn("text-sm [&_p]:leading-relaxed opacity-90",i),...e}));AlertDescription.displayName="AlertDescription";function AdminUserManagement(){const[i,e]=reactExports.useState([]),[s,o]=reactExports.useState(""),[c,d]=reactExports.useState(!1),[h,g]=reactExports.useState(!1),{toast:j}=useToast();reactExports.useEffect(()=>{_()},[]);const _=async()=>{d(!0);try{const{data:st,error:rt}=await supabase$1.functions.invoke("admin-user-management",{body:{action:"list"}});if(rt)throw rt;e(st.admins||[])}catch{j({title:"Error",description:"Failed to load admin users",variant:"destructive"})}finally{d(!1)}},$=async()=>{if(s.trim()){g(!0);try{const{data:st,error:rt}=await supabase$1.functions.invoke("admin-user-management",{body:{action:"add",email:s.trim()}});if(rt)throw rt;j({title:"Success",description:"Admin user added successfully"}),o(""),_()}catch(st){j({title:"Error",description:st.message||"Failed to add admin user",variant:"destructive"})}finally{g(!1)}}},_e=async(st,rt)=>{if(confirm(`Remove admin access for ${rt}?`))try{const{data:it,error:nt}=await supabase$1.functions.invoke("admin-user-management",{body:{action:"remove",userId:st}});if(nt)throw nt;j({title:"Success",description:"Admin user removed successfully"}),_()}catch(it){j({title:"Error",description:it.message||"Failed to remove admin user",variant:"destructive"})}};return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Shield,{className:"h-5 w-5"}),"Admin User Management"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Manage users who have administrative access to the system"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Alert,{children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"}),jsxRuntimeExports.jsx(AlertDescription,{children:"Only grant admin access to trusted users. Admins have full system access."})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Enter user email to add as admin",value:s,onChange:st=>o(st.target.value),onKeyPress:st=>st.key==="Enter"&&$()}),jsxRuntimeExports.jsxs(Button,{onClick:$,disabled:h||!s.trim(),children:[jsxRuntimeExports.jsx(UserPlus,{className:"h-4 w-4 mr-2"}),h?"Adding...":"Add Admin"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium",children:"Current Admin Users"}),c?jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."}):i.length===0?jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"No admin users found"}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:i.map(st=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:st.email}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["Added ",new Date(st.created_at).toLocaleDateString()]})]}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:st.role})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>_e(st.user_id,st.email),children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]},st.id))})]})]})]})}const Admin=()=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50",children:[jsxRuntimeExports.jsx(Navigation,{}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Console"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:"System administration and management"})]}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Shield,{className:"h-4 w-4"}),"Administrator"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Total Users"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"1,234"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% from last month"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Active Projects"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"89"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"+5% from last month"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Mail,{className:"h-5 w-5"}),"Email Console"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Manage email campaigns and settings"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(Link,{to:"/admin/email-console",children:jsxRuntimeExports.jsx(Button,{className:"w-full",children:"Open Email Console"})})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"h-5 w-5"}),"Analytics"]}),jsxRuntimeExports.jsx(CardDescription,{children:"View system analytics and reports"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(Link,{to:"/analytics",children:jsxRuntimeExports.jsx(Button,{className:"w-full",variant:"outline",children:"View Analytics"})})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"h-5 w-5"}),"User Management"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Manage users and permissions"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(Button,{className:"w-full",variant:"outline",children:"Manage Users"})})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-8",children:jsxRuntimeExports.jsx(AdminUserManagement,{})})]})]});function AdminRoute({children:i}){const{isAuthenticated:e}=useAuth(),{isAdmin:s,loading:o}=useAdmin();return o?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-blue-600"})}):e?s?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:i}):jsxRuntimeExports.jsx(Navigate,{to:"/not-found",replace:!0}):jsxRuntimeExports.jsx(Navigate,{to:"/signin?next=/admin",replace:!0})}var SWITCH_NAME="Switch",[createSwitchContext,createSwitchScope]=createContextScope(SWITCH_NAME),[SwitchProvider,useSwitchContext]=createSwitchContext(SWITCH_NAME),Switch$1=reactExports.forwardRef((i,e)=>{const{__scopeSwitch:s,name:o,checked:c,defaultChecked:d,required:h,disabled:g,value:j="on",onCheckedChange:_,form:$,..._e}=i,[st,rt]=reactExports.useState(null),it=useComposedRefs(e,ct=>rt(ct)),nt=reactExports.useRef(!1),lt=st?$||!!st.closest("form"):!0,[ot,at]=useControllableState({prop:c,defaultProp:d??!1,onChange:_,caller:SWITCH_NAME});return jsxRuntimeExports.jsxs(SwitchProvider,{scope:s,checked:ot,disabled:g,children:[jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"switch","aria-checked":ot,"aria-required":h,"data-state":getState(ot),"data-disabled":g?"":void 0,disabled:g,value:j,..._e,ref:it,onClick:composeEventHandlers(i.onClick,ct=>{at(ut=>!ut),lt&&(nt.current=ct.isPropagationStopped(),nt.current||ct.stopPropagation())})}),lt&&jsxRuntimeExports.jsx(SwitchBubbleInput,{control:st,bubbles:!nt.current,name:o,value:j,checked:ot,required:h,disabled:g,form:$,style:{transform:"translateX(-100%)"}})]})});Switch$1.displayName=SWITCH_NAME;var THUMB_NAME="SwitchThumb",SwitchThumb=reactExports.forwardRef((i,e)=>{const{__scopeSwitch:s,...o}=i,c=useSwitchContext(THUMB_NAME,s);return jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:e})});SwitchThumb.displayName=THUMB_NAME;var BUBBLE_INPUT_NAME="SwitchBubbleInput",SwitchBubbleInput=reactExports.forwardRef(({__scopeSwitch:i,control:e,checked:s,bubbles:o=!0,...c},d)=>{const h=reactExports.useRef(null),g=useComposedRefs(h,d),j=usePrevious(s),_=useSize(e);return reactExports.useEffect(()=>{const $=h.current;if(!$)return;const _e=window.HTMLInputElement.prototype,rt=Object.getOwnPropertyDescriptor(_e,"checked").set;if(j!==s&&rt){const it=new Event("click",{bubbles:o});rt.call($,s),$.dispatchEvent(it)}},[j,s,o]),jsxRuntimeExports.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...c,tabIndex:-1,ref:g,style:{...c.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});SwitchBubbleInput.displayName=BUBBLE_INPUT_NAME;function getState(i){return i?"checked":"unchecked"}var Root$1=Switch$1,Thumb=SwitchThumb;const Switch=reactExports.forwardRef(({className:i,...e},s)=>jsxRuntimeExports.jsx(Root$1,{className:cn("peer inline-flex h-5 w-10 shrink-0 cursor-pointer items-center rounded-full border border-transparent transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",i),...e,ref:s,children:jsxRuntimeExports.jsx(Thumb,{className:cn("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-md ring-0 transition-transform duration-200 ease-in-out data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0.5 data-[state=checked]:bg-white")})}));Switch.displayName=Root$1.displayName;const ProposalCard=({proposal:i,autoSummarize:e=!1})=>{const[s,o]=reactExports.useState(""),[c,d]=reactExports.useState(!1);React$1.useEffect(()=>{e&&i.description&&h()},[e,i.description]);const h=async()=>{if(i.description.trim()){d(!0);try{const{data:g,error:j}=await supabase$1.functions.invoke("ai-summarizer",{body:{text:i.description,type:"proposal"}});if(j)throw j;o(g.summary)}catch(g){console.error("Error generating summary:",g)}finally{d(!1)}}};return jsxRuntimeExports.jsxs(Card,{className:"p-6 hover:shadow-lg transition-shadow",children:[s&&jsxRuntimeExports.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-green-800 mb-1",children:"AI Summary:"}),jsxRuntimeExports.jsx("p",{className:"text-green-700 text-sm",children:s})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:i.teamName}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 text-yellow-400 fill-current"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600 ml-1",children:i.rating})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4 text-green-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:i.budget})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:i.timeline})]})]})]}),!e&&jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:h,disabled:c,className:"text-purple-600 border-purple-200 hover:bg-purple-50",children:c?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-3 h-3 mr-1 animate-spin"}),"Summarizing..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-3 h-3 mr-1"}),"Summarize with AI"]})})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:i.description}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"Proposal"}),jsxRuntimeExports.jsxs("div",{className:"space-x-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",children:"View Details"}),jsxRuntimeExports.jsx(Button,{size:"sm",children:"Accept Proposal"})]})]})]})},Proposals=()=>{const[i,e]=reactExports.useState(!1),s=[{id:"1",teamName:"React Ninjas",description:"We specialize in modern React development with TypeScript, Next.js, and advanced state management. Our team has 5+ years of experience building scalable e-commerce platforms with integrated payment systems, user authentication, and real-time features.",budget:"$12,000",timeline:"5 weeks",rating:4.9},{id:"2",teamName:"Full Stack Masters",description:"Our comprehensive approach includes React frontend, Node.js backend, PostgreSQL database, and AWS deployment. We focus on performance optimization, security best practices, and maintainable code architecture for long-term success.",budget:"$15,500",timeline:"6 weeks",rating:4.7},{id:"3",teamName:"Digital Innovators",description:"We offer end-to-end e-commerce solutions with custom UI/UX design, mobile-responsive development, payment gateway integration, inventory management, and analytics dashboard. Our agile methodology ensures regular updates and client collaboration.",budget:"$18,000",timeline:"8 weeks",rating:4.8}];return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Project Proposals"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Review and manage proposals for your project"})]}),jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 text-blue-600"})]}),jsxRuntimeExports.jsx(Card,{className:"p-4 mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx(Settings,{className:"w-5 h-5 text-gray-600"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"auto-summarize",className:"text-sm font-medium",children:"Auto-summarize proposals with AI"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Automatically generate AI summaries for all proposals"})]})]}),jsxRuntimeExports.jsx(Switch,{id:"auto-summarize",checked:i,onCheckedChange:e})]})})]}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:s.map(o=>jsxRuntimeExports.jsx(ProposalCard,{proposal:o,autoSummarize:i},o.id))}),jsxRuntimeExports.jsx("div",{className:"mt-8 text-center",children:jsxRuntimeExports.jsxs("p",{className:"text-gray-500 text-sm",children:[s.length," proposals received for your project"]})})]})})},IconItem=({icon:i,tooltip:e,delay:s})=>{const[o,c]=reactExports.useState(!1),[d,h]=reactExports.useState(!1),[g,j]=reactExports.useState(!1),_=reactExports.useRef(null);return reactExports.useEffect(()=>{const $=new IntersectionObserver(([_e])=>{_e.isIntersecting&&!g&&setTimeout(()=>{h(!0),j(!0)},s)},{threshold:.1});return _.current&&$.observe(_.current),()=>$.disconnect()},[s,g]),jsxRuntimeExports.jsxs("div",{ref:_,className:"relative",children:[jsxRuntimeExports.jsx("div",{className:`
          relative w-32 h-32 cursor-pointer perspective-1000
          transform-style-preserve-3d transition-all duration-700 ease-out
          ${d?"rotate-y-0":"rotate-y-180"}
        `,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:{transformStyle:"preserve-3d",perspective:"1000px"},children:jsxRuntimeExports.jsx("div",{className:`
          absolute inset-0 w-full h-full rounded-2xl bg-white border border-gray-100
          shadow-sm flex items-center justify-center backface-hidden
          transition-all duration-300
          ${d?"opacity-100":"opacity-0"}
        `,children:jsxRuntimeExports.jsx("div",{className:`
            transition-all duration-200 ease-out
            ${o?"scale-110 brightness-110":"scale-100"}
          `,children:i})})}),jsxRuntimeExports.jsxs("div",{className:`
        absolute -bottom-10 left-1/2 transform -translate-x-1/2
        px-3 py-1.5 bg-gray-900 text-white text-xs rounded-md
        transition-all duration-200 pointer-events-none whitespace-nowrap
        ${o?"opacity-100 translate-y-0":"opacity-0 translate-y-1"}
      `,children:[e,jsxRuntimeExports.jsx("div",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-gray-900 rotate-45"})]})]})},AnimatedIconSection=()=>jsxRuntimeExports.jsx("div",{className:"py-12",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center space-x-20",children:[jsxRuntimeExports.jsx(IconItem,{icon:jsxRuntimeExports.jsx(Globe,{className:"w-12 h-12 text-blue-600"}),tooltip:"Verified Global Teams",delay:0}),jsxRuntimeExports.jsx(IconItem,{icon:jsxRuntimeExports.jsx(Users,{className:"w-12 h-12 text-purple-600"}),tooltip:"AI Matching Engine",delay:200}),jsxRuntimeExports.jsx(IconItem,{icon:jsxRuntimeExports.jsx(Zap,{className:"w-12 h-12 text-orange-500"}),tooltip:"Lightning Start",delay:400})]})}),HeroSection=()=>{useNavigate();const{toast:i}=useToast(),e=()=>{const s=buildAuthUrl(SIGNUP_ROUTE$1,"/start");i({title:"Going to auth",description:`Going to auth: ${s}`}),window.location.href=s};return jsxRuntimeExports.jsx("section",{className:"pt-32 pb-20 px-6 bg-gradient-to-br from-blue-50 to-purple-50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[jsxRuntimeExports.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-gray-900 mb-6 leading-tight",children:["Assemble World-Class Teams in"," ",jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"60 Seconds"}),"Anywhere, Anytime."]}),jsxRuntimeExports.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-12 max-w-4xl mx-auto",children:"Instant, compliant, AI-matched teams for every urgent project. From startups to Fortune 500."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-16",children:[jsxRuntimeExports.jsx(Button,{onClick:e,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-2xl px-8 py-4 text-lg shadow-xl",children:"Get Early Access"}),jsxRuntimeExports.jsx(Button,{onClick:()=>{const s=document.getElementById("how-it-works");s==null||s.scrollIntoView({behavior:"smooth"})},variant:"outline",className:"border-2 border-purple-200 text-purple-600 hover:bg-purple-50 rounded-2xl px-8 py-4 text-lg",children:"See How It Works"})]}),jsxRuntimeExports.jsx(AnimatedIconSection,{})]})})},HowItWorks=()=>{useNavigate();const[i,e]=reactExports.useState(!1),s=()=>{const h=buildAuthUrl("/projects?open=post-project","client");window.location.href=h},o=()=>{const h=buildAuthUrl("/team-match","client");window.location.href=h},c=()=>{const h=buildAuthUrl("/start");window.location.href=h},d=[{icon:FileText,title:"Post Project",description:"Describe your project needs in 60 seconds with our smart form"},{icon:Users,title:"Match with a Team",description:"AI instantly matches you with pre-vetted, ready-to-work teams"},{icon:Rocket,title:"Start Working Instantly",description:"One-click onboarding, NDAs signed, and your team starts immediately"}];return jsxRuntimeExports.jsx("section",{id:"how-it-works",className:"py-20 px-6 bg-white",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"How It Works"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"From project idea to working team in under 60 seconds"})]}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:d.map((h,g)=>jsxRuntimeExports.jsxs("div",{className:"text-center group cursor-pointer",onClick:g===0?s:g===1?o:c,children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-3xl p-8 mb-6 transition-all duration-300 group-hover:shadow-xl group-hover:scale-105",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-4 w-fit mx-auto mb-4",children:jsxRuntimeExports.jsx(h.icon,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:h.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 leading-relaxed",children:h.description})]}),g<d.length-1&&jsxRuntimeExports.jsx("div",{className:"hidden md:block absolute top-1/2 right-0 transform translate-x-1/2 -translate-y-1/2",children:jsxRuntimeExports.jsx("div",{className:"w-8 h-0.5 bg-gradient-to-r from-blue-400 to-purple-400"})})]},g))}),jsxRuntimeExports.jsx(PostProjectModal,{isOpen:i,onClose:()=>e(!1)})]})})},FeatureCards=()=>{useNavigate();const i=[{icon:Shield,title:"One-click onboarding & NDAs",description:"Instant legal compliance with drag-and-drop e-signatures"},{icon:Users,title:"Pre-vetted high trust global teams",description:"Rigorously screened professionals ready to deliver excellence"},{icon:CreditCard,title:"Escrow & instant payments",description:"Secure milestone-based payments with automated escrow protection"},{icon:Globe,title:"Secure-compliant, global-ready",description:"GDPR compliant, enterprise-grade security across all regions"}];return jsxRuntimeExports.jsx("section",{id:"features",className:"py-20 px-6 bg-gradient-to-br from-purple-50 to-blue-50",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Enterprise-Grade Features"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Everything you need to scale your business with confidence"})]}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map((e,s)=>jsxRuntimeExports.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl p-6 shadow-xl border border-purple-100 hover:shadow-2xl transition-all duration-300 group",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-3 w-fit mb-4 group-hover:scale-110 transition-transform",children:jsxRuntimeExports.jsx(e.icon,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:e.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.description})]},s))}),jsxRuntimeExports.jsx("div",{className:"text-center mt-12",children:jsxRuntimeExports.jsx(Button,{onClick:()=>window.location.href="/start",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-2xl px-8 py-4 text-lg shadow-xl",children:"Get Early Access"})})]})})},Testimonials=()=>{const i=[{name:"Sarah Chen",role:"CTO, TechStart",avatar:"SC",content:"LinkUp helped us scale our development team in 24 hours. The quality is incredible!",rating:5},{name:"Marcus Johnson",role:"VP Engineering, Fortune 500",avatar:"MJ",content:"From concept to deployment in record time. Our rocket team delivered beyond expectations.",rating:5},{name:"Elena Rodriguez",role:"Founder, GrowthCo",avatar:"ER",content:"The compliance features saved us weeks of legal work. Truly enterprise-grade.",rating:5}];return jsxRuntimeExports.jsx("section",{id:"testimonials",className:"py-20 px-6 bg-white",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Trusted by Industry Leaders"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Join thousands of companies scaling with LinkUp"})]}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:i.map((e,s)=>jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-3xl p-8 shadow-xl border border-purple-100 hover:shadow-2xl transition-all duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-6",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold mr-4",children:e.avatar}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-gray-900",children:e.name}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:e.role})]})]}),jsxRuntimeExports.jsx("div",{className:"flex mb-4",children:[...Array(e.rating)].map((o,c)=>jsxRuntimeExports.jsx(Star,{className:"w-5 h-5 text-yellow-400 fill-current"},c))}),jsxRuntimeExports.jsxs("p",{className:"text-gray-700 leading-relaxed italic",children:['"',e.content,'"']})]},s))})]})})},LandingPage=()=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white",children:[jsxRuntimeExports.jsx(HeroSection,{}),jsxRuntimeExports.jsx("div",{id:"how-it-works",children:jsxRuntimeExports.jsx(HowItWorks,{})}),jsxRuntimeExports.jsx("div",{id:"get-started",children:jsxRuntimeExports.jsx(FeatureCards,{})}),jsxRuntimeExports.jsx(Testimonials,{}),jsxRuntimeExports.jsx("footer",{className:"bg-gray-900 text-white py-12 px-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent mb-4",children:"LinkUp"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-8",children:"Assemble world-class teams in 60 secondsanywhere, anytime."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center space-x-8 text-sm text-gray-400",children:[jsxRuntimeExports.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy"}),jsxRuntimeExports.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms"}),jsxRuntimeExports.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})]})]})})]}),RecommendedTeams=({projectId:i,requirements:e,userPreferences:s,maxTeams:o=3})=>{const[c,d]=reactExports.useState([]),[h,g]=reactExports.useState(!0);reactExports.useEffect(()=>{j()},[i,e]);const j=async()=>{try{g(!0);const{data:_,error:$}=await supabase$1.functions.invoke("match-teams",{body:{project_id:i,requirements:e,user_preferences:s}});if($)throw $;d(_.teams.slice(0,o))}catch(_){console.error("Error fetching recommended teams:",_)}finally{g(!1)}};return h?jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Award,{className:"h-5 w-5"}),"Recommended Teams"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:[1,2,3].map(_=>jsxRuntimeExports.jsxs("div",{className:"animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},_))})})]}):c.length===0?jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Award,{className:"h-5 w-5"}),"Recommended Teams"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No team recommendations available at this time."})})]}):jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Award,{className:"h-5 w-5"}),"Recommended Teams"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:c.map(_=>jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold",children:_.name}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[jsxRuntimeExports.jsx(Star,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),jsxRuntimeExports.jsx("span",{children:_.rating}),jsxRuntimeExports.jsx(Users,{className:"h-4 w-4 ml-2"}),jsxRuntimeExports.jsxs("span",{children:[_.completed_projects," projects"]})]})]}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"bg-green-100 text-green-800",children:[_.match_score,"% match"]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-3",children:_.match_reason}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[_.skills.slice(0,3).map($=>jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:$},$)),_.skills.length>3&&jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"text-xs",children:["+",_.skills.length-3," more"]})]}),jsxRuntimeExports.jsx(Button,{size:"sm",className:"w-full",children:"View Team Profile"})]},_.id))})})]})},useEmailAutomation=()=>{const i=async j=>{try{const{data:_,error:$}=await supabase$1.functions.invoke("email-automation",{body:j});return $?(console.error("Email automation error:",$),{success:!1,error:$.message}):_}catch(_){return console.error("Email automation error:",_),{success:!1,error:"Failed to trigger email automation"}}};return{triggerAutomation:i,triggerWelcomeClient:(j,_)=>i({eventType:"user_signup_client",recipientEmail:j,templateData:{first_name:_}}),triggerWelcomeTeam:(j,_)=>i({eventType:"user_signup_team",recipientEmail:j,templateData:{team_name:_}}),triggerProjectCreated:(j,_,$,_e)=>i({eventType:"project_created",recipientEmail:j,templateData:{client_name:_,project_name:$,budget:_e}}),triggerTeamSelected:(j,_,$,_e)=>i({eventType:"team_selected",recipientEmail:j,templateData:{client_name:_,team_name:$,project_name:_e}}),triggerEscrowFunded:(j,_,$,_e,st)=>i({eventType:"escrow_funded",recipientEmail:j,templateData:{client_name:_,project_name:$,amount:_e,transaction_id:st}}),triggerMilestoneSubmitted:(j,_,$,_e,st)=>i({eventType:"milestone_submitted",recipientEmail:j,templateData:{client_name:_,team_name:$,project_name:_e,milestone_title:st}}),triggerMilestoneApproved:(j,_,$,_e,st)=>i({eventType:"milestone_approved",recipientEmail:j,templateData:{team_name:_,project_name:$,milestone_title:_e,amount:st}})}},PostProject=()=>{const[i,e]=reactExports.useState(1),[s,o]=reactExports.useState(!1),[c,d]=reactExports.useState({projectName:"",description:"",industry:"",customIndustry:"",skills:""}),[h,g]=reactExports.useState(""),[j,_]=reactExports.useState(!1),{triggerProjectCreated:$}=useEmailAutomation(),_e=async({title:nt,description:lt,skills:ot})=>{const{data:{user:at}}=await supabase$1.auth.getUser();if(!at)throw new Error("Must be signed in");const ct=Array.isArray(ot)?ot:typeof ot=="string"?ot.split(",").map(mt=>mt.trim()).filter(Boolean):[],{data:ut,error:ht}=await supabase$1.from("projects").insert({title:nt,description:lt??"",skills_required:ct,user_id:at.id}).select().single();if(ht)throw ht;return ut},st=async()=>{if(i<3)e(i+1);else{try{const nt=c.skills.split(",").map(lt=>lt.trim()).filter(Boolean);await _e({title:c.projectName,description:c.description,skills:nt}),await $("client@example.com","John Doe",c.projectName,"5000")}catch(nt){console.error("Project creation failed:",nt)}o(!0)}},rt=async()=>{if(c.description.trim()){_(!0);try{const{data:nt,error:lt}=await supabase$1.functions.invoke("ai-summarizer",{body:{text:c.description,type:"project"}});if(lt)throw lt;g((nt==null?void 0:nt.summary)||"Summary generated successfully")}catch(nt){console.error("Error generating summary:",nt),g("AI summarization is temporarily unavailable. Your project description looks great!")}finally{_(!1)}}},it=i/3*100;return s?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-20 px-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl p-8 shadow-2xl border border-purple-100 mb-8",children:jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Project Posted Successfully!"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:['Your project "',c.projectName,'" has been posted. Here are some recommended teams:']})]})}),jsxRuntimeExports.jsx(RecommendedTeams,{requirements:c.description,userPreferences:`Industry: ${c.industry}, Skills: ${c.skills}`,maxTeams:5})]})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-20 px-6",children:jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl p-8 shadow-2xl border border-purple-100",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx(FileText,{className:"w-16 h-16 text-blue-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Post Your Project"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Tell us about your project needs"})]}),jsxRuntimeExports.jsx(Progress,{value:it,className:"mb-8"}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[i===1&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Project Name"}),jsxRuntimeExports.jsx(Input,{placeholder:"e.g., Mobile App Development",value:c.projectName,onChange:nt=>d({...c,projectName:nt.target.value}),className:"rounded-2xl border-purple-200 focus:border-blue-500"})]}),i===2&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Project Description"}),jsxRuntimeExports.jsx(Textarea,{placeholder:"Describe your project requirements...",value:c.description,onChange:nt=>d({...c,description:nt.target.value}),className:"rounded-2xl border-purple-200 focus:border-blue-500 min-h-32"}),c.description.trim()&&jsxRuntimeExports.jsx(Button,{type:"button",variant:"outline",onClick:rt,disabled:j,className:"w-full rounded-2xl border-purple-200 text-purple-600 hover:bg-purple-50",children:j?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating Summary..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 mr-2"}),"Summarize with AI"]})}),h&&jsxRuntimeExports.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-2xl",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-blue-800 mb-1",children:"AI Summary:"}),jsxRuntimeExports.jsx("p",{className:"text-blue-700",children:h})]})]}),i===3&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Industry"}),jsxRuntimeExports.jsxs(Select,{value:c.industry,onValueChange:nt=>d({...c,industry:nt}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"rounded-2xl border-purple-200 focus:border-blue-500",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select your industry"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"web-app-development",children:"Web & App Development"}),jsxRuntimeExports.jsx(SelectItem,{value:"marketing-advertising",children:"Marketing & Advertising"}),jsxRuntimeExports.jsx(SelectItem,{value:"interior-design",children:"Interior Design"}),jsxRuntimeExports.jsx(SelectItem,{value:"architecture-construction",children:"Architecture & Construction"}),jsxRuntimeExports.jsx(SelectItem,{value:"finance-accounting",children:"Finance & Accounting"}),jsxRuntimeExports.jsx(SelectItem,{value:"healthcare",children:"Healthcare"}),jsxRuntimeExports.jsx(SelectItem,{value:"ecommerce",children:"E-commerce"}),jsxRuntimeExports.jsx(SelectItem,{value:"education",children:"Education"}),jsxRuntimeExports.jsx(SelectItem,{value:"legal",children:"Legal"}),jsxRuntimeExports.jsx(SelectItem,{value:"other",children:"Other"})]})]}),c.industry==="other"&&jsxRuntimeExports.jsx(Input,{placeholder:"Please specify your industry",value:c.customIndustry,onChange:nt=>d({...c,customIndustry:nt.target.value}),className:"rounded-2xl border-purple-200 focus:border-blue-500"}),jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Skills Required"}),jsxRuntimeExports.jsx(Input,{placeholder:"e.g., React, Node.js, UI/UX Design",value:c.skills,onChange:nt=>d({...c,skills:nt.target.value}),className:"rounded-2xl border-purple-200 focus:border-blue-500"})]}),jsxRuntimeExports.jsxs(Button,{onClick:st,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-2xl py-4 text-lg",children:[i===3?"Find My Team":"Next",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-2 w-5 h-5"})]})]})]})})})},TeamMatch=()=>{const i=[{name:"React Ninjas",members:["JD","SM","AL"],skills:["React","Node.js","TypeScript"],industry:"Web & App Development",chemistry:"Worked together on 14 projects",availability:"Ready now",rating:4.9},{name:"Full Stack Heroes",members:["MK","RP","TL"],skills:["Vue.js","Python","AWS"],industry:"Web & App Development",chemistry:"Worked together on 8 projects",availability:"Ready now",rating:4.8},{name:"Design Masters",members:["AC","BL","CD"],skills:["UI/UX","Figma","Adobe Creative"],industry:"Marketing & Advertising",chemistry:"Worked together on 12 projects",availability:"Ready now",rating:4.7}];return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-20 px-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx(Users,{className:"w-16 h-16 text-blue-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Perfect Teams Found!"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600",children:"AI-matched teams ready to start your project"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"animate-pulse flex space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})]}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-sm text-gray-500",children:"Matching in real-time"})]})]}),jsxRuntimeExports.jsx("div",{className:"grid gap-6",children:i.map((e,s)=>jsxRuntimeExports.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl p-8 shadow-2xl border border-purple-100 hover:shadow-3xl transition-all duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.name}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[jsxRuntimeExports.jsxs(Badge,{className:"bg-green-100 text-green-800 rounded-xl",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3 mr-1"}),e.availability]}),jsxRuntimeExports.jsxs("span",{className:"text-yellow-500",children:[" ",e.rating]})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:e.chemistry})]}),jsxRuntimeExports.jsx("div",{className:"flex -space-x-3",children:e.members.map((o,c)=>jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-400 to-purple-400 border-4 border-white shadow-lg flex items-center justify-center text-white font-bold text-sm",children:o},c))})]}),jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsxs(Badge,{className:"bg-blue-100 text-blue-800 rounded-xl",children:[jsxRuntimeExports.jsx(Building2,{className:"w-3 h-3 mr-1"}),e.industry]})}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:e.skills.map((o,c)=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"rounded-xl",children:o},c))}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"rounded-2xl border-purple-200",children:[jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4 mr-2"}),"View Profile"]}),jsxRuntimeExports.jsx(Button,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-2xl",onClick:()=>window.location.href=`/hire/team-${s+1}`,children:"Select Team"}),jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"rounded-2xl border-purple-200",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"w-4 h-4 mr-2"}),"Live Chat"]})]})]},s))})]})})},ChatPanel=()=>{const[i,e]=reactExports.useState(""),[s,o]=reactExports.useState([{id:"1",sender:"Sarah Chen",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",content:"Welcome to the project! Excited to work with you.",timestamp:"10:30 AM",reactions:[{emoji:"",count:2,users:["You","Mike"]}]},{id:"2",sender:"You",avatar:"",content:"Thanks! Looking forward to getting started.",timestamp:"10:32 AM",isUser:!0},{id:"3",sender:"Mike Rodriguez",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",content:"Project wireframes uploaded",timestamp:"11:15 AM",hasFile:!0,fileName:"wireframes_v2.pdf"}]),c=()=>{i.trim()&&e("")},d=()=>{},h=(g,j)=>{o(s.map(_=>{if(_.id===g){const $=_.reactions||[];return $.find(st=>st.emoji===j)?{..._,reactions:$.map(st=>st.emoji===j?{...st,count:st.count+1,users:[...st.users,"You"]}:st)}:{..._,reactions:[...$,{emoji:j,count:1,users:["You"]}]}}return _}))};return jsxRuntimeExports.jsxs(Card,{className:"h-96 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Team Chat"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",children:jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",children:jsxRuntimeExports.jsx(Video,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:s.map(g=>jsxRuntimeExports.jsx("div",{className:`flex ${g.isUser?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsxs("div",{className:`flex items-start space-x-2 max-w-xs ${g.isUser?"flex-row-reverse space-x-reverse":""}`,children:[jsxRuntimeExports.jsxs(Avatar,{className:"w-8 h-8",children:[jsxRuntimeExports.jsx(AvatarImage,{src:g.avatar}),jsxRuntimeExports.jsx(AvatarFallback,{children:g.sender[0]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:`p-3 rounded-lg ${g.isUser?"bg-blue-600 text-white":"bg-gray-100"}`,children:[g.hasFile&&jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-2 p-2 bg-white/10 rounded",children:[jsxRuntimeExports.jsx(Paperclip,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:g.fileName})]}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:g.content}),jsxRuntimeExports.jsx("p",{className:`text-xs mt-1 ${g.isUser?"text-blue-100":"text-gray-500"}`,children:g.timestamp})]}),g.reactions&&g.reactions.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex space-x-1 mt-1",children:[g.reactions.map((j,_)=>jsxRuntimeExports.jsxs("button",{onClick:()=>h(g.id,j.emoji),className:"text-xs bg-gray-200 hover:bg-gray-300 rounded-full px-2 py-1 flex items-center space-x-1",children:[jsxRuntimeExports.jsx("span",{children:j.emoji}),jsxRuntimeExports.jsx("span",{children:j.count})]},_)),jsxRuntimeExports.jsx("button",{onClick:()=>h(g.id,""),className:"text-xs bg-gray-200 hover:bg-gray-300 rounded-full px-2 py-1",children:jsxRuntimeExports.jsx(Heart,{className:"w-3 h-3"})})]})]})]})},g.id))}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-2 mb-2",children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:d,children:jsxRuntimeExports.jsx(Paperclip,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",children:jsxRuntimeExports.jsx(Smile,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx(Input,{value:i,onChange:g=>e(g.target.value),placeholder:"Type a message...",onKeyPress:g=>g.key==="Enter"&&c()}),jsxRuntimeExports.jsx(Button,{onClick:c,children:jsxRuntimeExports.jsx(Send,{className:"w-4 h-4"})})]})]})]})},MilestonesList=()=>{const i=[{id:"1",title:"Project Setup & Planning",description:"Initial project setup, requirements gathering, and technical planning",status:"completed",dueDate:"2024-01-15",assignee:"Sarah Chen"},{id:"2",title:"UI/UX Design Phase",description:"Create wireframes, mockups, and design system",status:"in-progress",dueDate:"2024-01-25",assignee:"Mike Rodriguez"},{id:"3",title:"Frontend Development",description:"Build responsive frontend components and pages",status:"pending",dueDate:"2024-02-10",assignee:"Alex Kim"},{id:"4",title:"Backend API Development",description:"Develop REST APIs and database integration",status:"pending",dueDate:"2024-02-15",assignee:"Sarah Chen"}],e=o=>{switch(o){case"completed":return jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5 text-green-600"});case"in-progress":return jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5 text-blue-600"});default:return jsxRuntimeExports.jsx(Circle,{className:"w-5 h-5 text-gray-400"})}},s=o=>{const c={completed:"bg-green-100 text-green-800","in-progress":"bg-blue-100 text-blue-800",pending:"bg-gray-100 text-gray-800"};return c[o]||c.pending};return jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Project Milestones"}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",children:"Add Milestone"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:i.map(o=>jsxRuntimeExports.jsxs("div",{className:`flex items-start space-x-4 p-4 border rounded-lg hover:bg-gray-50 transition-all ${o.status==="in-progress"?"border-blue-500 shadow-lg shadow-blue-500/20 bg-blue-50":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[e(o.status),o.status==="in-progress"&&jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs px-1 rounded-full animate-pulse",children:"NOW"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-2",children:[jsxRuntimeExports.jsx("h4",{className:`font-medium ${o.status==="in-progress"?"text-blue-800":""}`,children:o.title}),jsxRuntimeExports.jsx(Badge,{className:s(o.status),children:o.status.replace("-"," ")})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-2",children:o.description}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-3 h-3 mr-1"}),"Due: ",o.dueDate]}),jsxRuntimeExports.jsxs("div",{children:["Assigned to: ",o.assignee]})]})]})]},o.id))})]})},ProjectProgress=()=>{const e=[{name:"Planning",completed:!0},{name:"Design",completed:!0},{name:"Development",completed:!1,current:!0},{name:"Testing",completed:!1},{name:"Deployment",completed:!1}];return jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Project Progress"}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600",children:[35,"%"]})]}),jsxRuntimeExports.jsx(Progress,{value:35,className:"h-2"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4 text-blue-600"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Timeline"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"6 weeks"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-green-600"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Time Left"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"4 weeks"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4 text-purple-600"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Budget"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"$15,000"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-sm",children:"Milestone Timeline"}),e.map((s,o)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:`w-3 h-3 rounded-full ${s.completed?"bg-green-500":s.current?"bg-blue-500":"bg-gray-300"}`}),jsxRuntimeExports.jsx("span",{className:`text-sm ${s.completed?"text-green-700":s.current?"text-blue-700 font-medium":"text-gray-500"}`,children:s.name}),s.current&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:"Current"})]},o))]})]})},ConfettiAnimation=({show:i,onComplete:e})=>{const[s,o]=reactExports.useState([]);return reactExports.useEffect(()=>{if(i){const c=Array.from({length:50},(h,g)=>({id:g,x:Math.random()*100,y:-10,color:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7"][Math.floor(Math.random()*5)],rotation:Math.random()*360,size:Math.random()*8+4}));o(c);const d=setTimeout(()=>{o([]),e==null||e()},3e3);return()=>clearTimeout(d)}},[i,e]),!i||s.length===0?null:jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:[s.map(c=>jsxRuntimeExports.jsx("div",{className:"absolute animate-bounce",style:{left:`${c.x}%`,top:`${c.y}%`,backgroundColor:c.color,width:`${c.size}px`,height:`${c.size}px`,transform:`rotate(${c.rotation}deg)`,borderRadius:"2px",animation:"confetti-fall 3s linear forwards"}},c.id)),jsxRuntimeExports.jsx("style",{jsx:!0,children:`
        @keyframes confetti-fall {
          to {
            transform: translateY(100vh) rotate(720deg);
            opacity: 0;
          }
        }
      `})]})},AIOnboardingChat=({userProfile:i,currentStep:e,onStepComplete:s})=>{const[o,c]=reactExports.useState([{id:"1",content:`Hi! I'm your AI onboarding assistant. I'm here to guide you through "${e}" step by step. How can I help you get started?`,isUser:!1,timestamp:new Date}]),[d,h]=reactExports.useState(""),[g,j]=reactExports.useState(!1),_=async()=>{if(!d.trim()||g)return;const _e={id:Date.now().toString(),content:d,isUser:!0,timestamp:new Date};c(st=>[...st,_e]),h(""),j(!0);try{const{data:st,error:rt}=await supabase$1.functions.invoke("ai-onboarding",{body:{userProfile:i,action:"getGuidance",currentStep:e,userMessage:d}});if(rt)throw rt;const it={id:(Date.now()+1).toString(),content:st.result,isUser:!1,timestamp:new Date};c(nt=>[...nt,it])}catch(st){console.error("Error getting AI guidance:",st);const rt={id:(Date.now()+1).toString(),content:"I'm sorry, I'm having trouble connecting right now. Please try again in a moment.",isUser:!1,timestamp:new Date};c(it=>[...it,rt])}finally{j(!1)}},$=_e=>{_e.key==="Enter"&&!_e.shiftKey&&(_e.preventDefault(),_())};return jsxRuntimeExports.jsxs(Card,{className:"h-96 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex items-center space-x-2",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"w-5 h-5 text-blue-600"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"AI Onboarding Assistant"})]}),jsxRuntimeExports.jsx(ScrollArea,{className:"flex-1 p-4",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[o.map(_e=>jsxRuntimeExports.jsx("div",{className:`flex ${_e.isUser?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsx("div",{className:`max-w-[80%] p-3 rounded-lg ${_e.isUser?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-2",children:[!_e.isUser&&jsxRuntimeExports.jsx(Bot,{className:"w-4 h-4 mt-1 flex-shrink-0"}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("p",{className:"text-sm whitespace-pre-wrap",children:_e.content})}),_e.isUser&&jsxRuntimeExports.jsx(User,{className:"w-4 h-4 mt-1 flex-shrink-0"})]})})},_e.id)),g&&jsxRuntimeExports.jsx("div",{className:"flex justify-start",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Bot,{className:"w-4 h-4"}),jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"AI is thinking..."})]})})]})}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t",children:jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx(Input,{value:d,onChange:_e=>h(_e.target.value),onKeyPress:$,placeholder:"Ask me anything about this step...",disabled:g}),jsxRuntimeExports.jsx(Button,{onClick:_,disabled:g||!d.trim(),children:jsxRuntimeExports.jsx(Send,{className:"w-4 h-4"})})]})})]})},PersonalizedOnboarding=()=>{const[i,e]=reactExports.useState({role:"",goals:"",projectType:"",experience:"Beginner",industry:""}),[s,o]=reactExports.useState([]),[c,d]=reactExports.useState(!1),[h,g]=reactExports.useState(!1),[j,_]=reactExports.useState(""),[$,_e]=reactExports.useState(!1),st=async()=>{if(!i.role||!i.goals||!i.projectType){alert("Please fill in your role, goals, and project type to generate a personalized checklist.");return}d(!0);try{const{data:at,error:ct}=await supabase$1.functions.invoke("ai-onboarding",{body:{userProfile:i,action:"generateChecklist"}});if(ct)throw ct;if(!at.success)throw new Error(at.error||"Failed to generate checklist");const ut=at.result.map(ht=>({...ht,completed:!1,icon:rt(ht.icon)}));o(ut)}catch(at){console.error("Error generating checklist:",at);const ct=[{id:"1",title:"Complete Your Profile",description:"Add your professional details and project preferences",completed:!1,required:!0,icon:rt("Settings")},{id:"2",title:"Define Your Goals",description:"Set clear objectives for your project or business",completed:!1,required:!0,icon:rt("Sparkles")}];o(ct)}finally{d(!1)}},rt=at=>({FileText:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4"}),CreditCard:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4"}),Users:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4"}),MessageSquare:jsxRuntimeExports.jsx(MessageSquare,{className:"w-4 h-4"}),Settings:jsxRuntimeExports.jsx(Settings,{className:"w-4 h-4"}),Sparkles:jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4"})})[at]||jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4"}),it=at=>{o(s.map(ct=>ct.id===at?{...ct,completed:!ct.completed}:ct))},nt=at=>{_(at),_e(!0)},lt=s.filter(at=>at.completed).length,ot=lt===s.length&&s.length>0;return reactExports.useEffect(()=>{ot&&g(!0)},[ot]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ConfettiAnimation,{show:h,onComplete:()=>g(!1)}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsxs(Tabs,{defaultValue:"profile",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-3",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"profile",children:"Profile Setup"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"checklist",children:"AI Checklist"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"guidance",children:"AI Guidance"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"profile",children:jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Tell us about yourself"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"role",children:"Your Role"}),jsxRuntimeExports.jsx(Input,{id:"role",value:i.role,onChange:at=>e({...i,role:at.target.value}),placeholder:"e.g., Project Manager, Developer, Designer"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"industry",children:"Industry"}),jsxRuntimeExports.jsx(Input,{id:"industry",value:i.industry,onChange:at=>e({...i,industry:at.target.value}),placeholder:"e.g., E-commerce, Healthcare, Finance"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"goals",children:"Primary Goals"}),jsxRuntimeExports.jsx(Input,{id:"goals",value:i.goals,onChange:at=>e({...i,goals:at.target.value}),placeholder:"e.g., Launch MVP, Scale business, Learn new skills"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"projectType",children:"Project Type"}),jsxRuntimeExports.jsx(Input,{id:"projectType",value:i.projectType,onChange:at=>e({...i,projectType:at.target.value}),placeholder:"e.g., Web App, Mobile App, Marketing Campaign"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"experience",children:"Experience Level"}),jsxRuntimeExports.jsxs(Select,{value:i.experience,onValueChange:at=>e({...i,experience:at}),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"Beginner",children:"Beginner"}),jsxRuntimeExports.jsx(SelectItem,{value:"Intermediate",children:"Intermediate"}),jsxRuntimeExports.jsx(SelectItem,{value:"Advanced",children:"Advanced"}),jsxRuntimeExports.jsx(SelectItem,{value:"Expert",children:"Expert"})]})]})]})]}),jsxRuntimeExports.jsx(Button,{onClick:st,disabled:c,className:"mt-4",children:c?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating AI Checklist..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Bot,{className:"w-4 h-4 mr-2"}),"Generate My Personalized Checklist"]})}),jsxRuntimeExports.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"font-medium text-blue-800",children:"Learn from the Best"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Access AI-curated training modules from top-performing teams"}),jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"outline",className:"border-blue-300 text-blue-700 hover:bg-blue-100",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-3 h-3 mr-1"}),"Explore Training Academy"]})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"checklist",children:jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Your AI-Generated Checklist"}),s.length>0&&jsxRuntimeExports.jsxs(Badge,{variant:ot?"default":"secondary",children:[lt,"/",s.length," Complete"]})]}),s.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8 text-gray-500",children:[jsxRuntimeExports.jsx(Bot,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),jsxRuntimeExports.jsx("p",{children:"Generate your personalized checklist from the Profile Setup tab"})]}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:s.map(at=>jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsx(Checkbox,{checked:at.completed,onCheckedChange:()=>it(at.id),className:"mt-1"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[at.icon,jsxRuntimeExports.jsx("h4",{className:`font-medium ${at.completed?"line-through text-gray-500":""}`,children:at.title}),at.required&&jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:"Required"}),at.completed&&jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4 text-green-600"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-2",children:at.description}),jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>nt(at.title),children:[jsxRuntimeExports.jsx(Bot,{className:"w-3 h-3 mr-1"}),"Get AI Help"]})]})]},at.id))})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"guidance",children:$&&j?jsxRuntimeExports.jsx(AIOnboardingChat,{userProfile:i,currentStep:j,onStepComplete:at=>it(at)}):jsxRuntimeExports.jsxs(Card,{className:"p-6 text-center",children:[jsxRuntimeExports.jsx(Bot,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:'Click "Get AI Help" on any checklist item to start a conversation'})]})})]})})]})},ActivityFeed=()=>{const i=[{id:"1",type:"milestone",user:"Sarah Chen",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face",action:"completed milestone",details:"Project Setup & Planning",timestamp:"2 hours ago"},{id:"2",type:"file",user:"Mike Rodriguez",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",action:"uploaded file",details:"wireframes_v2.pdf",timestamp:"4 hours ago"},{id:"3",type:"message",user:"Alex Kim",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",action:"sent a message",details:"Looking good! Ready to start development.",timestamp:"6 hours ago"},{id:"4",type:"team",user:"You",avatar:"",action:"joined the project",timestamp:"1 day ago"}],e=s=>{const o={message:jsxRuntimeExports.jsx(MessageSquare,{className:"w-4 h-4 text-blue-600"}),file:jsxRuntimeExports.jsx(FileUp,{className:"w-4 h-4 text-green-600"}),milestone:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4 text-purple-600"}),team:jsxRuntimeExports.jsx(Users,{className:"w-4 h-4 text-orange-600"}),meeting:jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4 text-red-600"})};return o[s]||o.message};return jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:i.map(s=>jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsxs(Avatar,{className:"w-8 h-8",children:[jsxRuntimeExports.jsx(AvatarImage,{src:s.avatar}),jsxRuntimeExports.jsx(AvatarFallback,{children:s.user[0]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e(s.type),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:s.user})," ",s.action]})]}),s.details&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 truncate",children:s.details}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s.timestamp})]})]},s.id))})]})},AIFileSearch=()=>{const[i,e]=reactExports.useState(""),[s,o]=reactExports.useState(!1),[c,d]=reactExports.useState([]),h=async()=>{if(i.trim()){o(!0);try{const{data:g,error:j}=await supabase$1.functions.invoke("ai-search",{body:{query:i,context:"files_and_chat"}});if(j)throw j;d([{type:"file",title:"Project Requirements.pdf",content:"Contains detailed specifications for the mobile app project...",date:"2024-01-15",relevance:95},{type:"chat",title:"Team Discussion - UI Design",content:"Discussion about color schemes and user interface elements...",date:"2024-01-14",relevance:87}])}catch(g){console.error("Search error:",g)}finally{o(!1)}}};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{value:i,onChange:g=>e(g.target.value),placeholder:"Search files and conversations with AI...",onKeyPress:g=>g.key==="Enter"&&h(),className:"flex-1"}),jsxRuntimeExports.jsx(Button,{onClick:h,disabled:s||!i.trim(),children:s?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Search,{className:"h-4 w-4"})})]}),c.length>0&&jsxRuntimeExports.jsx("div",{className:"space-y-3",children:c.map((g,j)=>jsxRuntimeExports.jsxs(Card,{className:"hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-sm flex items-center gap-2",children:[g.type==="file"?jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(MessageSquare,{className:"h-4 w-4"}),g.title]}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:[g.relevance,"% match"]})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:g.content}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:g.date})]})]},j))})]})},AIFileAnalyzer=({fileName:i,fileUrl:e,fileType:s,onAnalysisComplete:o})=>{var st;const[c,d]=reactExports.useState(!1),[h,g]=reactExports.useState(null),[j,_]=reactExports.useState(null),$=async()=>{d(!0),_(null);try{const{data:rt,error:it}=await supabase$1.functions.invoke("ai-file-analyzer",{body:{fileUrl:e,fileName:i,fileType:s,analysisType:"comprehensive"}});if(it)throw it;g(rt.analysis),o==null||o(rt.analysis)}catch(rt){_(rt instanceof Error?rt.message:"Analysis failed")}finally{d(!1)}},_e=()=>s.startsWith("image/")?jsxRuntimeExports.jsx(Image$2,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"});return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Button,{onClick:$,disabled:c,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[c?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Brain,{className:"h-4 w-4"}),c?"Analyzing...":"Analyze with AI"]}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"flex items-center gap-1",children:[_e(),((st=s.split("/")[1])==null?void 0:st.toUpperCase())||"FILE"]})]}),j&&jsxRuntimeExports.jsx(Card,{className:"border-red-200 bg-red-50",children:jsxRuntimeExports.jsx(CardContent,{className:"pt-4",children:jsxRuntimeExports.jsx("p",{className:"text-red-600 text-sm",children:j})})}),h&&jsxRuntimeExports.jsxs(Card,{className:"border-blue-200 bg-blue-50",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-lg",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-5 w-5 text-blue-600"}),"AI Analysis Results"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"prose prose-sm max-w-none",children:jsxRuntimeExports.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 font-sans",children:h})})})]})]})},FileViewer=({isOpen:i,onClose:e,fileName:s,fileUrl:o,fileType:c,fileSize:d})=>{const[h,g]=reactExports.useState("preview"),j=$=>{const _e=["Bytes","KB","MB","GB"];if($===0)return"0 Bytes";const st=Math.floor(Math.log($)/Math.log(1024));return Math.round($/Math.pow(1024,st)*100)/100+" "+_e[st]},_=()=>c.startsWith("image/")?jsxRuntimeExports.jsx("div",{className:"flex justify-center p-4",children:jsxRuntimeExports.jsx("img",{src:o,alt:s,className:"max-w-full max-h-96 object-contain rounded-lg"})}):c==="application/pdf"?jsxRuntimeExports.jsx("div",{className:"h-96 w-full",children:jsxRuntimeExports.jsx("iframe",{src:o,className:"w-full h-full border rounded-lg",title:s})}):jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-96 text-gray-500",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(Eye,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),jsxRuntimeExports.jsx("p",{children:"Preview not available for this file type"}),jsxRuntimeExports.jsx("p",{className:"text-sm mt-2",children:"Click download to view the file"})]})});return jsxRuntimeExports.jsx(Dialog,{open:i,onOpenChange:e,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-hidden",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(DialogTitle,{className:"text-lg font-semibold",children:s}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"}),"Download"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(Share,{className:"h-4 w-4 mr-2"}),"Share"]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:e,children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})})]})]}),d&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:j(d)})]}),jsxRuntimeExports.jsxs(Tabs,{value:h,onValueChange:g,className:"flex-1",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-2",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"preview",children:"Preview"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"analysis",children:"AI Analysis"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"preview",className:"mt-4 overflow-auto",children:_()}),jsxRuntimeExports.jsx(TabsContent,{value:"analysis",className:"mt-4 overflow-auto",children:jsxRuntimeExports.jsx(AIFileAnalyzer,{fileName:s,fileUrl:o,fileType:c})})]})]})})},AdvancedFileManager=()=>{const[i,e]=reactExports.useState([{id:"1",name:"Project Specs.pdf",type:"file",size:2048e3,modified:new Date,category:"documents",tags:["specs","requirements"],url:"/placeholder.svg",mimeType:"application/pdf"},{id:"2",name:"Design Assets",type:"folder",modified:new Date,category:"design",tags:["ui","assets"]},{id:"3",name:"Meeting Notes.docx",type:"file",size:1024e3,modified:new Date,category:"documents",tags:["meetings","notes"],url:"/placeholder.svg",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}]),[s,o]=reactExports.useState("list"),[c,d]=reactExports.useState(""),[h,g]=reactExports.useState("all"),[j,_]=reactExports.useState(null),[$,_e]=reactExports.useState(!1),st=ot=>{const at=["Bytes","KB","MB","GB"];if(ot===0)return"0 Bytes";const ct=Math.floor(Math.log(ot)/Math.log(1024));return Math.round(ot/Math.pow(1024,ct)*100)/100+" "+at[ct]},rt=i.filter(ot=>{const at=ot.name.toLowerCase().includes(c.toLowerCase()),ct=h==="all"||ot.category===h;return at&&ct}),it=ot=>{Array.from(ot.target.files||[]).forEach(ct=>{const ut={id:Date.now().toString()+Math.random(),name:ct.name,type:"file",size:ct.size,modified:new Date,category:"documents",tags:[]};e(ht=>[ut,...ht])})},nt=ot=>{ot.type==="file"&&ot.url&&(_(ot),_e(!0))},lt=["all","documents","design","code","media"];return jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"File Manager"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:s==="list"?"default":"outline",size:"sm",onClick:()=>o("list"),children:jsxRuntimeExports.jsx(List$1,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Button,{variant:s==="grid"?"default":"outline",size:"sm",onClick:()=>o("grid"),children:jsxRuntimeExports.jsx(Grid3x3,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),jsxRuntimeExports.jsx(Input,{placeholder:"Search files...",value:c,onChange:ot=>d(ot.target.value),className:"pl-10"})]})}),jsxRuntimeExports.jsx("select",{value:h,onChange:ot=>g(ot.target.value),className:"px-3 py-2 border rounded-md",children:lt.map(ot=>jsxRuntimeExports.jsx("option",{value:ot,children:ot.charAt(0).toUpperCase()+ot.slice(1)},ot))}),jsxRuntimeExports.jsxs("label",{className:"cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,onChange:it,className:"hidden"}),jsxRuntimeExports.jsxs(Button,{children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4 mr-2"}),"Upload"]})]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"files",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"files",children:"Files"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"search",children:"AI Search"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"recent",children:"Recent"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"shared",children:"Shared"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"files",className:"mt-4",children:jsxRuntimeExports.jsx("div",{className:s==="grid"?"grid grid-cols-4 gap-4":"space-y-2",children:rt.map(ot=>jsxRuntimeExports.jsxs("div",{onClick:()=>nt(ot),className:`p-3 border rounded-lg hover:bg-gray-50 cursor-pointer ${s==="grid"?"text-center":"flex items-center justify-between"}`,children:[jsxRuntimeExports.jsxs("div",{className:`flex items-center ${s==="grid"?"flex-col":"gap-3"}`,children:[ot.type==="folder"?jsxRuntimeExports.jsx(Folder,{className:"w-8 h-8 text-blue-500"}):jsxRuntimeExports.jsx(File$1,{className:"w-8 h-8 text-gray-500"}),jsxRuntimeExports.jsxs("div",{className:s==="grid"?"mt-2":"",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm",children:ot.name}),ot.size&&jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:st(ot.size)}),jsxRuntimeExports.jsx("div",{className:"flex gap-1 mt-1",children:ot.tags.map(at=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:at},at))})]})]}),s==="list"&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",children:jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]},ot.id))})}),jsxRuntimeExports.jsx(TabsContent,{value:"search",className:"mt-4",children:jsxRuntimeExports.jsx(AIFileSearch,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"recent",children:jsxRuntimeExports.jsx("p",{className:"text-center text-gray-500 py-8",children:"Recent files will appear here"})}),jsxRuntimeExports.jsx(TabsContent,{value:"shared",children:jsxRuntimeExports.jsx("p",{className:"text-center text-gray-500 py-8",children:"Shared files will appear here"})})]}),j&&jsxRuntimeExports.jsx(FileViewer,{isOpen:$,onClose:()=>_e(!1),fileName:j.name,fileUrl:j.url||"",fileType:j.mimeType||"application/octet-stream",fileSize:j.size})]})},CalendarIntegration=()=>{const[i,e]=reactExports.useState([{id:"1",title:"Project Kickoff Meeting",date:new Date,time:"10:00 AM",duration:60,type:"meeting",attendees:["John Doe","Jane Smith"],location:"Conference Room A"},{id:"2",title:"Design Review Deadline",date:new Date(Date.now()+864e5),time:"5:00 PM",duration:0,type:"deadline",attendees:["Design Team"]}]),[s,o]=reactExports.useState({title:"",date:"",time:"",type:"meeting"}),c=()=>{if(s.title&&s.date&&s.time){const _={id:Date.now().toString(),title:s.title,date:new Date(s.date),time:s.time,duration:60,type:s.type,attendees:[]};e($=>[...$,_]),o({title:"",date:"",time:"",type:"meeting"})}},d=_=>{switch(_){case"meeting":return"bg-blue-100 text-blue-800";case"deadline":return"bg-red-100 text-red-800";case"review":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},h=_=>_.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),g=()=>{alert("Google Calendar integration would be implemented here")},j=()=>{alert("Outlook Calendar integration would be implemented here")};return jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-6 h-6"}),"Calendar Integration"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:g,children:[jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4 mr-2"}),"Google"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:j,children:[jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4 mr-2"}),"Outlook"]})]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"events",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"events",children:"Upcoming Events"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"add",children:"Add Event"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"sync",children:"Sync Settings"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"events",className:"mt-4",children:jsxRuntimeExports.jsx("div",{className:"space-y-3",children:i.map(_=>jsxRuntimeExports.jsx("div",{className:"p-4 border rounded-lg hover:bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:_.title}),jsxRuntimeExports.jsx(Badge,{className:d(_.type),children:_.type})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4"}),h(_.date)]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),_.time]}),_.location&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4"}),_.location]})]}),_.attendees.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm text-gray-600",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),_.attendees.join(", ")]})]}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",children:jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4"})})]})},_.id))})}),jsxRuntimeExports.jsx(TabsContent,{value:"add",className:"mt-4",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4 max-w-md",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Event title",value:s.title,onChange:_=>o($=>({...$,title:_.target.value}))}),jsxRuntimeExports.jsx(Input,{type:"date",value:s.date,onChange:_=>o($=>({...$,date:_.target.value}))}),jsxRuntimeExports.jsx(Input,{type:"time",value:s.time,onChange:_=>o($=>({...$,time:_.target.value}))}),jsxRuntimeExports.jsxs("select",{value:s.type,onChange:_=>o($=>({...$,type:_.target.value})),className:"w-full px-3 py-2 border rounded-md",children:[jsxRuntimeExports.jsx("option",{value:"meeting",children:"Meeting"}),jsxRuntimeExports.jsx("option",{value:"deadline",children:"Deadline"}),jsxRuntimeExports.jsx("option",{value:"review",children:"Review"})]}),jsxRuntimeExports.jsxs(Button,{onClick:c,className:"w-full",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),"Add Event"]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"sync",className:"mt-4",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Sync Settings"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",defaultChecked:!0}),jsxRuntimeExports.jsx("span",{children:"Sync project milestones to calendar"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",defaultChecked:!0}),jsxRuntimeExports.jsx("span",{children:"Send email reminders"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox"}),jsxRuntimeExports.jsx("span",{children:"Auto-create meetings for new milestones"})]})]})]})})]})]})},EscrowStatus=({escrowBalance:i,currentMilestone:e,status:s,onReleasePayment:o})=>{const d=(()=>{switch(s){case"funded":return{icon:jsxRuntimeExports.jsx(Shield,{className:"w-4 h-4"}),color:"bg-green-100 text-green-800",text:"Funds Secured",description:"Team can begin work"};case"pending_submission":return{icon:jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4"}),color:"bg-blue-100 text-blue-800",text:"Work in Progress",description:"Awaiting milestone submission"};case"pending_approval":return{icon:jsxRuntimeExports.jsx(TriangleAlert,{className:"w-4 h-4"}),color:"bg-amber-100 text-amber-800",text:"Pending Approval",description:"Review and approve milestone"};case"released":return{icon:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4"}),color:"bg-gray-100 text-gray-800",text:"Payment Released",description:"Milestone completed"}}})();return jsxRuntimeExports.jsxs(Card,{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold flex items-center",children:[jsxRuntimeExports.jsx(Shield,{className:"w-5 h-5 mr-2 text-green-600"}),"Escrow Status"]}),jsxRuntimeExports.jsxs(Badge,{className:d.color,children:[d.icon,jsxRuntimeExports.jsx("span",{className:"ml-1",children:d.text})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Escrow Balance:"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-lg",children:["$",i.toLocaleString()]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Current Milestone:"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:e})]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:d.description}),s==="pending_approval"&&o&&jsxRuntimeExports.jsx(Button,{onClick:o,className:"w-full bg-green-600 hover:bg-green-700",children:"Release Payment"})]})]})},PaymentHistory=({payments:i})=>{const e=c=>{const h={pending:{color:"bg-gray-100 text-gray-800",text:"Pending"},funded:{color:"bg-blue-100 text-blue-800",text:"Funded"},released:{color:"bg-green-100 text-green-800",text:"Released"},completed:{color:"bg-purple-100 text-purple-800",text:"Completed"}}[c];return jsxRuntimeExports.jsx(Badge,{className:h.color,children:h.text})},s=c=>{console.log(`Downloading receipt for payment ${c}`)},o=c=>{console.log(`Downloading invoice for payment ${c}`)};return jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[jsxRuntimeExports.jsx(Receipt,{className:"w-5 h-5 mr-2"}),"Payment History"]}),jsxRuntimeExports.jsxs(Badge,{variant:"outline",children:[i.length," Transaction",i.length!==1?"s":""]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:i.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8 text-gray-500",children:[jsxRuntimeExports.jsx(Receipt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),jsxRuntimeExports.jsx("p",{children:"No payment history yet"})]}):i.map(c=>jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:c.milestone}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:c.date})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold",children:["$",c.amount.toLocaleString()]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[jsxRuntimeExports.jsx(CreditCard,{className:"w-3 h-3 mr-1"}),c.method==="card"?"Credit Card":"Bank Transfer"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[e(c.status),jsxRuntimeExports.jsx("div",{className:"flex space-x-2",children:(c.status==="released"||c.status==="completed")&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"outline",onClick:()=>s(c.id),className:"text-xs",children:[jsxRuntimeExports.jsx(Download,{className:"w-3 h-3 mr-1"}),"Receipt"]}),jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"outline",onClick:()=>o(c.id),className:"text-xs",children:[jsxRuntimeExports.jsx(Download,{className:"w-3 h-3 mr-1"}),"Invoice"]})]})})]})]},c.id))})]})},SmartTeamSuggestions=()=>{const[i,e]=reactExports.useState([]),[s,o]=reactExports.useState(!0);reactExports.useEffect(()=>{c()},[]);const c=async()=>{try{o(!0),e([{id:"1",name:"WebDev Experts",skills:["React","Node.js","TypeScript"],rating:4.8,match_score:95,match_reason:"Perfect match for your recent web development projects"},{id:"2",name:"Mobile Masters",skills:["React Native","Flutter","iOS"],rating:4.6,match_score:88,match_reason:"Great for mobile app development based on your preferences"}])}catch(d){console.error("Error fetching smart suggestions:",d)}finally{o(!1)}};return s?jsxRuntimeExports.jsxs(Card,{className:"mb-6",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"h-5 w-5 text-yellow-500"}),"Smart Team Suggestions"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-3",children:[1,2].map(d=>jsxRuntimeExports.jsxs("div",{className:"animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},d))})})]}):i.length===0?null:jsxRuntimeExports.jsxs(Card,{className:"mb-6",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"h-5 w-5 text-yellow-500"}),"Smart Team Suggestions"]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"space-y-3",children:i.map(d=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-sm",children:d.name}),jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"h-3 w-3 mr-1"}),d.match_score,"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-2",children:[jsxRuntimeExports.jsx(Star,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),jsxRuntimeExports.jsx("span",{children:d.rating})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:d.match_reason})]}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",className:"ml-3 text-xs",children:"View"})]},d.id))}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:"w-full mt-3 text-xs",children:"See All Suggestions"})]})]})},ProjectDashboard=({project:i={name:"E-commerce Platform",description:"Modern e-commerce platform with React, Node.js, and payment integration",timeline:"6 weeks",budget:"$15,000",industry:"E-commerce"},team:e={name:"React Ninjas",members:[{name:"Sarah Chen",role:"Lead Developer",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face"},{name:"Mike Rodriguez",role:"UI/UX Designer",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face"},{name:"Alex Kim",role:"Backend Developer",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face"}]}})=>{const s=useNavigate(),[o,c]=reactExports.useState("funded"),[d,h]=reactExports.useState(""),[g,j]=reactExports.useState(!1),_=[{id:"1",milestone:"Project Setup & Planning",amount:3e3,status:"funded",date:"2024-01-15",method:"card"},{id:"2",milestone:"UI/UX Design Phase",amount:4e3,status:"pending",date:"2024-01-20",method:"card"}],$=()=>{c("released")},_e=async()=>{if(i.description.trim()){j(!0);try{const{data:st,error:rt}=await supabase$1.functions.invoke("ai-summarizer",{body:{text:i.description,type:"project"}});if(rt)throw rt;h(st.summary)}catch(st){console.error("Error generating summary:",st)}finally{j(!1)}}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",className:"mb-4",onClick:()=>s("/projects"),children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Projects"]}),jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[d&&jsxRuntimeExports.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-blue-800 mb-1",children:"AI Summary:"}),jsxRuntimeExports.jsx("p",{className:"text-blue-700 text-sm",children:d})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:i.name}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:_e,disabled:g,className:"text-purple-600 border-purple-200 hover:bg-purple-50",children:g?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-3 h-3 mr-1 animate-spin"}),"Summarizing..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-3 h-3 mr-1"}),"Summarize with AI"]})})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:i.description}),i.industry&&jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsxs(Badge,{className:"bg-blue-100 text-blue-800 rounded-xl",children:[jsxRuntimeExports.jsx(Building2,{className:"w-3 h-3 mr-1"}),i.industry]})}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-4 text-sm text-gray-500",children:[jsxRuntimeExports.jsxs("span",{children:["Timeline: ",i.timeline]}),jsxRuntimeExports.jsxs("span",{children:["Budget: ",i.budget]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsxs(Button,{className:"bg-green-600 hover:bg-green-700",children:[jsxRuntimeExports.jsx(Video,{className:"w-4 h-4 mr-2"}),"Kickoff Call"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",children:[jsxRuntimeExports.jsx(MessageCircle,{className:"w-4 h-4 mr-2"}),"Start Chat"]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold mb-3",children:["Your Team: ",e.name]}),jsxRuntimeExports.jsx("div",{className:"flex space-x-4",children:e.members.map((st,rt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs(Avatar,{children:[jsxRuntimeExports.jsx(AvatarImage,{src:st.avatar}),jsxRuntimeExports.jsx(AvatarFallback,{children:st.name[0]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:st.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:st.role})]})]},rt))})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[jsxRuntimeExports.jsx(ProjectProgress,{}),jsxRuntimeExports.jsx(MilestonesList,{}),jsxRuntimeExports.jsx(AdvancedFileManager,{}),jsxRuntimeExports.jsx(PaymentHistory,{payments:_})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(SmartTeamSuggestions,{}),jsxRuntimeExports.jsx(PersonalizedOnboarding,{}),jsxRuntimeExports.jsx(EscrowStatus,{escrowBalance:3e3,currentMilestone:"Project Setup & Planning",status:o,onReleasePayment:o==="pending_approval"?$:void 0}),jsxRuntimeExports.jsx(ActivityFeed,{}),jsxRuntimeExports.jsx(CalendarIntegration,{}),jsxRuntimeExports.jsx(ChatPanel,{})]})]})]})})};var NAME="Separator",DEFAULT_ORIENTATION="horizontal",ORIENTATIONS=["horizontal","vertical"],Separator$1=reactExports.forwardRef((i,e)=>{const{decorative:s,orientation:o=DEFAULT_ORIENTATION,...c}=i,d=isValidOrientation(o)?o:DEFAULT_ORIENTATION,g=s?{role:"none"}:{"aria-orientation":d==="vertical"?d:void 0,role:"separator"};return jsxRuntimeExports.jsx(Primitive.div,{"data-orientation":d,...g,...c,ref:e})});Separator$1.displayName=NAME;function isValidOrientation(i){return ORIENTATIONS.includes(i)}var Root=Separator$1;const Separator=reactExports.forwardRef(({className:i,orientation:e="horizontal",decorative:s=!0,variant:o="default",...c},d)=>jsxRuntimeExports.jsx(Root,{ref:d,decorative:s,orientation:e,className:cn("shrink-0",o==="default"&&"bg-border",o==="muted"&&"bg-muted",o==="accent"&&"bg-primary/30",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",i),...c}));Separator.displayName=Root.displayName;async function recordPayment(i){const{data:{user:e},error:s}=await supabase$1.auth.getUser();if(s||!e)throw s||new Error("Not signed in");const{error:o}=await supabase$1.from("payments").insert({...i,currency:i.currency||"USD",user_id:e.id,created_at:new Date().toISOString()});if(o)throw o}const CreditCardForm=({amount:i,onSubmit:e,processing:s,error:o})=>{const[c,d]=reactExports.useState({cardNumber:"",expiryDate:"",cvc:"",cardholderName:"",billingAddress:{line1:"",city:"",state:"",postalCode:"",country:"US"}}),h=_e=>{const st=_e.replace(/\s+/g,"").replace(/[^0-9]/gi,""),rt=st.match(/\d{4,16}/g),it=rt&&rt[0]||"",nt=[];for(let lt=0,ot=it.length;lt<ot;lt+=4)nt.push(it.substring(lt,lt+4));return nt.length?nt.join(" "):st},g=_e=>{const st=_e.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return st.length>=2?st.substring(0,2)+"/"+st.substring(2,4):st},j=(_e,st)=>{_e==="cardNumber"?st=h(st):_e==="expiryDate"?st=g(st):_e==="cvc"&&(st=st.replace(/[^0-9]/gi,"").substring(0,4)),d(rt=>({...rt,[_e]:st}))},_=(_e,st)=>{d(rt=>({...rt,billingAddress:{...rt.billingAddress,[_e]:st}}))},$=_e=>{_e.preventDefault(),e(c)};return jsxRuntimeExports.jsxs("form",{onSubmit:$,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[jsxRuntimeExports.jsx(CreditCard,{className:"w-4 h-4"}),jsxRuntimeExports.jsx(Label$2,{className:"font-medium",children:"Card Information"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"cardNumber",className:"text-sm",children:"Card Number"}),jsxRuntimeExports.jsx(Input,{id:"cardNumber",type:"text",placeholder:"1234 5678 9012 3456",value:c.cardNumber,onChange:_e=>j("cardNumber",_e.target.value),maxLength:19,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"expiryDate",className:"text-sm",children:"Expiry Date"}),jsxRuntimeExports.jsx(Input,{id:"expiryDate",type:"text",placeholder:"MM/YY",value:c.expiryDate,onChange:_e=>j("expiryDate",_e.target.value),maxLength:5,required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"cvc",className:"text-sm",children:"CVC"}),jsxRuntimeExports.jsx(Input,{id:"cvc",type:"text",placeholder:"123",value:c.cvc,onChange:_e=>j("cvc",_e.target.value),maxLength:4,required:!0})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"cardholderName",className:"text-sm",children:"Cardholder Name"}),jsxRuntimeExports.jsx(Input,{id:"cardholderName",type:"text",placeholder:"John Doe",value:c.cardholderName,onChange:_e=>j("cardholderName",_e.target.value),required:!0})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Label$2,{className:"font-medium",children:"Billing Address"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"address",className:"text-sm",children:"Address"}),jsxRuntimeExports.jsx(Input,{id:"address",type:"text",placeholder:"123 Main Street",value:c.billingAddress.line1,onChange:_e=>_("line1",_e.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"city",className:"text-sm",children:"City"}),jsxRuntimeExports.jsx(Input,{id:"city",type:"text",placeholder:"New York",value:c.billingAddress.city,onChange:_e=>_("city",_e.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"state",className:"text-sm",children:"State"}),jsxRuntimeExports.jsx(Input,{id:"state",type:"text",placeholder:"NY",value:c.billingAddress.state,onChange:_e=>_("state",_e.target.value),required:!0})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"postalCode",className:"text-sm",children:"Postal Code"}),jsxRuntimeExports.jsx(Input,{id:"postalCode",type:"text",placeholder:"10001",value:c.billingAddress.postalCode,onChange:_e=>_("postalCode",_e.target.value),required:!0})]})]}),o&&jsxRuntimeExports.jsx(Alert,{variant:"destructive",children:jsxRuntimeExports.jsx(AlertDescription,{children:o})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500 mb-4",children:[jsxRuntimeExports.jsx(Lock,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:"Your payment information is encrypted and secure"})]}),jsxRuntimeExports.jsx(Button,{type:"submit",disabled:s,className:"w-full bg-green-600 hover:bg-green-700",children:s?"Processing...":`Pay $${i.toLocaleString()}`})]})},BankAccountForm=({amount:i,onSubmit:e,processing:s,error:o})=>{const[c,d]=reactExports.useState({accountHolderName:"",accountNumber:"",routingNumber:"",accountType:"checking",bankName:"",address:{line1:"",city:"",state:"",postalCode:"",country:"US"}}),h=(_,$)=>{(_==="accountNumber"||_==="routingNumber")&&($=$.replace(/[^0-9]/gi,"")),d(_e=>({..._e,[_]:$}))},g=(_,$)=>{d(_e=>({..._e,address:{..._e.address,[_]:$}}))},j=_=>{_.preventDefault(),e(c)};return jsxRuntimeExports.jsxs("form",{onSubmit:j,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 border border-blue-200 rounded-lg mb-4",children:[jsxRuntimeExports.jsx(Info,{className:"w-4 h-4 text-blue-600 mt-0.5"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-700",children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-1",children:"ACH Bank Transfer"}),jsxRuntimeExports.jsx("p",{children:"Processing time: 1-3 business days. Lower fees than credit cards."})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[jsxRuntimeExports.jsx(Building2,{className:"w-4 h-4"}),jsxRuntimeExports.jsx(Label$2,{className:"font-medium",children:"Bank Account Information"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"accountHolderName",className:"text-sm",children:"Account Holder Name"}),jsxRuntimeExports.jsx(Input,{id:"accountHolderName",type:"text",placeholder:"John Doe",value:c.accountHolderName,onChange:_=>h("accountHolderName",_.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"bankName",className:"text-sm",children:"Bank Name"}),jsxRuntimeExports.jsx(Input,{id:"bankName",type:"text",placeholder:"Chase Bank",value:c.bankName,onChange:_=>h("bankName",_.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"routingNumber",className:"text-sm",children:"Routing Number"}),jsxRuntimeExports.jsx(Input,{id:"routingNumber",type:"text",placeholder:"021000021",value:c.routingNumber,onChange:_=>h("routingNumber",_.target.value),maxLength:9,required:!0}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"9-digit number found on your checks"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"accountNumber",className:"text-sm",children:"Account Number"}),jsxRuntimeExports.jsx(Input,{id:"accountNumber",type:"text",placeholder:"1234567890",value:c.accountNumber,onChange:_=>h("accountNumber",_.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"accountType",className:"text-sm",children:"Account Type"}),jsxRuntimeExports.jsxs(Select,{value:c.accountType,onValueChange:_=>h("accountType",_),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Select account type"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"checking",children:"Checking"}),jsxRuntimeExports.jsx(SelectItem,{value:"savings",children:"Savings"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Label$2,{className:"font-medium",children:"Bank Address"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"bankAddress",className:"text-sm",children:"Street Address"}),jsxRuntimeExports.jsx(Input,{id:"bankAddress",type:"text",placeholder:"123 Bank Street",value:c.address.line1,onChange:_=>g("line1",_.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"bankCity",className:"text-sm",children:"City"}),jsxRuntimeExports.jsx(Input,{id:"bankCity",type:"text",placeholder:"New York",value:c.address.city,onChange:_=>g("city",_.target.value),required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"bankState",className:"text-sm",children:"State"}),jsxRuntimeExports.jsx(Input,{id:"bankState",type:"text",placeholder:"NY",value:c.address.state,onChange:_=>g("state",_.target.value),required:!0})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"bankPostalCode",className:"text-sm",children:"Postal Code"}),jsxRuntimeExports.jsx(Input,{id:"bankPostalCode",type:"text",placeholder:"10001",value:c.address.postalCode,onChange:_=>g("postalCode",_.target.value),required:!0})]})]}),o&&jsxRuntimeExports.jsx(Alert,{variant:"destructive",children:jsxRuntimeExports.jsx(AlertDescription,{children:o})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500 mb-4",children:[jsxRuntimeExports.jsx(Lock,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:"Your bank information is encrypted and secure"})]}),jsxRuntimeExports.jsx(Button,{type:"submit",disabled:s,className:"w-full bg-green-600 hover:bg-green-700",children:s?"Setting up...":`Setup Bank Transfer - $${i.toLocaleString()}`})]})},PaymentModal=({isOpen:i,onClose:e,onPaymentSuccess:s,project:o})=>{const[c,d]=reactExports.useState("card"),[h,g]=reactExports.useState(!1),[j,_]=reactExports.useState(null),$=async st=>{g(!0),_(null);try{const{data:rt,error:it}=await supabase$1.functions.invoke("create-payment-intent",{body:{amount:o.amount,currency:"USD",projectId:"project-123",milestoneId:o.milestone,paymentMethod:"card",cardData:st,metadata:{projectName:o.name,milestone:o.milestone}}});if(it)throw it;await recordPayment({project_id:"project-123",amount:o.amount,currency:"USD",milestone_id:o.milestone,status:"completed",stripe_payment_intent_id:rt.paymentIntentId}),await new Promise(nt=>setTimeout(nt,2e3)),s(),e()}catch(rt){_(rt.message||"Payment failed")}finally{g(!1)}},_e=async st=>{g(!0),_(null);try{const{data:rt,error:it}=await supabase$1.functions.invoke("create-payment-intent",{body:{amount:o.amount,paymentMethod:"bank",bankData:st,metadata:{projectName:o.name,milestone:o.milestone}}});if(it)throw it;await new Promise(nt=>setTimeout(nt,2e3)),s(),e()}catch(rt){_(rt.message||"Bank transfer setup failed")}finally{g(!1)}};return jsxRuntimeExports.jsx(Dialog,{open:i,onOpenChange:e,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center",children:[jsxRuntimeExports.jsx(Shield,{className:"w-5 h-5 mr-2 text-green-600"}),"Setup Escrow Payment"]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(Card,{className:"p-4 bg-blue-50 border-blue-200",children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Project:"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:o.name})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Milestone:"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:o.milestone})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between font-semibold",children:[jsxRuntimeExports.jsx("span",{children:"Amount:"}),jsxRuntimeExports.jsxs("span",{children:["$",o.amount.toLocaleString()]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[jsxRuntimeExports.jsx(Info,{className:"w-4 h-4 text-amber-600 mt-0.5"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-amber-700",children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-1",children:"Secure Escrow Protection"}),jsxRuntimeExports.jsx("p",{children:"Funds held securely until milestone completion."})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs(Button,{variant:c==="card"?"default":"outline",onClick:()=>d("card"),className:"flex items-center justify-center p-4 h-auto",children:[jsxRuntimeExports.jsx(CreditCard,{className:"w-4 h-4 mr-2"}),"Credit Card"]}),jsxRuntimeExports.jsxs(Button,{variant:c==="bank"?"default":"outline",onClick:()=>d("bank"),className:"flex items-center justify-center p-4 h-auto",children:[jsxRuntimeExports.jsx(Building2,{className:"w-4 h-4 mr-2"}),"Bank Transfer"]})]})}),c==="card"&&jsxRuntimeExports.jsx(CreditCardForm,{amount:o.amount,onSubmit:$,processing:h,error:j||void 0}),c==="bank"&&jsxRuntimeExports.jsx(BankAccountForm,{amount:o.amount,onSubmit:_e,processing:h,error:j||void 0}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:e,children:"Cancel"})})]})]})})},PaymentEscrow=()=>{const[i,e]=reactExports.useState(!1),[s,o]=reactExports.useState(null),c=[{name:"Project Setup",amount:1e3,status:"completed",date:"Jan 15"},{name:"Design Phase",amount:2500,status:"completed",date:"Jan 22"},{name:"Development",amount:4e3,status:"ready",date:"Feb 5"},{name:"Testing & Launch",amount:1500,status:"pending",date:"Feb 12"}],d=c.filter($=>$.status==="completed").reduce(($,_e)=>$+_e.amount,0),h=c.reduce(($,_e)=>$+_e.amount,0),g=d/h*100,j=$=>{o($),e(!0)},_=()=>{console.log("Payment successful for milestone:",s==null?void 0:s.name)};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-20 px-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-3xl p-8 shadow-2xl border border-purple-100",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx(Shield,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Secure Escrow"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Your payments are protected until milestones are completed"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-2xl p-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Escrow Progress"}),jsxRuntimeExports.jsxs("span",{className:"font-bold text-gray-900",children:["$",d.toLocaleString()," / $",h.toLocaleString()]})]}),jsxRuntimeExports.jsx(Progress,{value:g,className:"mb-2"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500",children:[g.toFixed(0),"% of funds released"]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4 mb-8",children:c.map(($,_e)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-2xl border border-purple-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[$.status==="completed"?jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-6 h-6 text-green-600"}):$.status==="ready"?jsxRuntimeExports.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-600 animate-pulse"}):jsxRuntimeExports.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900",children:$.name}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Due: ",$.date]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs("span",{className:"font-bold text-gray-900",children:["$",$.amount.toLocaleString()]}),jsxRuntimeExports.jsx(Badge,{className:$.status==="completed"?"bg-green-100 text-green-800":$.status==="ready"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600",children:$.status}),$.status==="ready"&&jsxRuntimeExports.jsx(Button,{onClick:()=>j($),className:"bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-xl",children:"Release Payment"}),$.status==="pending"&&jsxRuntimeExports.jsx(Button,{onClick:()=>j($),variant:"outline",className:"rounded-xl",children:"Fund Milestone"})]})]},_e))}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-6 text-white",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-2",children:"Payment Summary"}),jsxRuntimeExports.jsxs("p",{className:"opacity-90",children:["Total project value: $",h.toLocaleString()]}),jsxRuntimeExports.jsxs("p",{className:"opacity-90",children:["Funds in escrow: $",(h-d).toLocaleString()]})]}),jsxRuntimeExports.jsx(CreditCard,{className:"w-12 h-12 opacity-80"})]})})]}),s&&jsxRuntimeExports.jsx(PaymentModal,{isOpen:i,onClose:()=>e(!1),onPaymentSuccess:_,project:{name:"Web Development Project",milestone:s.name,amount:s.amount}})]})})},NotificationSystem=()=>{const[i,e]=reactExports.useState([]),[s,o]=reactExports.useState(!1),[c,d]=reactExports.useState(0);reactExports.useEffect(()=>{const _=setInterval(()=>{const $={id:Date.now().toString(),type:["info","success","warning"][Math.floor(Math.random()*3)],title:["New Message","Milestone Complete","Team Update"][Math.floor(Math.random()*3)],message:"You have a new update on your project.",timestamp:new Date,read:!1};e(_e=>[$,..._e.slice(0,9)]),d(_e=>_e+1)},3e4);return()=>clearInterval(_)},[]);const h=_=>{e($=>$.map(_e=>_e.id===_?{..._e,read:!0}:_e)),d($=>Math.max(0,$-1))},g=()=>{e(_=>_.map($=>({...$,read:!0}))),d(0)},j=_=>{switch(_){case"success":return jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4 text-green-500"});case"warning":return jsxRuntimeExports.jsx(CircleAlert,{className:"w-4 h-4 text-yellow-500"});case"error":return jsxRuntimeExports.jsx(CircleAlert,{className:"w-4 h-4 text-red-500"});default:return jsxRuntimeExports.jsx(Info,{className:"w-4 h-4 text-blue-500"})}};return jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",onClick:()=>o(!s),className:"relative",children:[jsxRuntimeExports.jsx(Bell,{className:"w-5 h-5"}),c>0&&jsxRuntimeExports.jsx(Badge,{className:"absolute -top-1 -right-1 h-5 w-5 p-0 text-xs",children:c})]}),s&&jsxRuntimeExports.jsxs(Card,{className:"absolute right-0 top-12 w-80 max-h-96 overflow-y-auto z-50 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-3",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Notifications"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:g,children:jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:()=>o(!1),children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:i.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notifications"}):i.map(_=>jsxRuntimeExports.jsx("div",{className:`p-3 rounded-lg border cursor-pointer hover:bg-gray-50 ${_.read?"bg-white":"bg-blue-50 border-blue-200"}`,onClick:()=>h(_.id),children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[j(_.type),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:_.title}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 mt-1",children:_.message}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:_.timestamp.toLocaleTimeString()})]})]})},_.id))})]})]})},AppLayout=()=>{const[i,e]=reactExports.useState("landing"),s=()=>{switch(i){case"post-project":return jsxRuntimeExports.jsx(PostProject,{});case"team-match":return jsxRuntimeExports.jsx(TeamMatch,{});case"dashboard":return jsxRuntimeExports.jsx(ProjectDashboard,{});case"payment":return jsxRuntimeExports.jsx(PaymentEscrow,{});case"analytics":return jsxRuntimeExports.jsx(AnalyticsDashboard,{});case"training":return jsxRuntimeExports.jsx(TrainingPortal,{});default:return jsxRuntimeExports.jsx(LandingPage,{})}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen",children:[jsxRuntimeExports.jsx("div",{className:"fixed top-4 right-4 z-50",children:jsxRuntimeExports.jsx(NotificationSystem,{})}),s(),jsxRuntimeExports.jsx(ChatBot,{isFloating:!0})]})},defaultAppContext={sidebarOpen:!1,toggleSidebar:()=>{}},AppContext=reactExports.createContext(defaultAppContext),AppProvider=({children:i})=>{const[e,s]=reactExports.useState(!1),o=()=>{s(c=>!c)};return jsxRuntimeExports.jsx(AppContext.Provider,{value:{sidebarOpen:e,toggleSidebar:o},children:i})},Index=()=>jsxRuntimeExports.jsx(AppProvider,{children:jsxRuntimeExports.jsx(AppLayout,{})});function ForgotPassword(){const{toast:i}=useToast(),e=useLocation(),s=reactExports.useMemo(()=>new URLSearchParams(e.search),[e.search]),o=s.get("next")||"/start",c=s.get("intent")||"",h=`${window.location.origin}/auth/reset?next=${encodeURIComponent(o)}&intent=${c}`,[g,j]=reactExports.useState(""),[_,$]=reactExports.useState(!1),_e=async st=>{st.preventDefault(),$(!0);try{const{error:rt}=await supabase$1.auth.resetPasswordForEmail(g,{redirectTo:h});if(rt)throw rt;i({title:"Check your email",description:"We sent a password reset link."})}catch(rt){i({title:"Could not send reset email",description:(rt==null?void 0:rt.message)||"Something went wrong.",variant:"destructive"})}finally{$(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 px-4",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md shadow-lg",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"text-center",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl font-bold text-gray-900",children:"Forgot password"}),jsxRuntimeExports.jsx(CardDescription,{className:"text-gray-600",children:"We'll email you a link to reset it"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:_e,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",required:!0,value:g,onChange:st=>j(st.target.value),placeholder:"you@example.com",autoComplete:"email",className:"w-full"})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:_,children:_?"Sending":"Send reset link"}),jsxRuntimeExports.jsx("div",{className:"text-center text-sm text-gray-600",children:jsxRuntimeExports.jsx(Link,{to:`/login?next=${encodeURIComponent(o)}&intent=${c}`,className:"text-blue-600 hover:text-blue-800 hover:underline font-medium",children:"Back to sign in"})})]})})]})})}function ResetPassword(){const{toast:i}=useToast(),e=useNavigate(),s=useLocation(),o=reactExports.useMemo(()=>new URLSearchParams(s.search),[s.search]),c=o.get("next")||"/start",d=o.get("intent")||"",[h,g]=reactExports.useState(!1),[j,_]=reactExports.useState(!1),[$,_e]=reactExports.useState(""),[st,rt]=reactExports.useState("");reactExports.useEffect(()=>{(async()=>{try{const ot=new URL(window.location.href).searchParams.get("code");if(s.hash.includes("access_token")){const{error:at}=await supabase$1.auth.getSessionFromUrl({storeSession:!0});if(at)throw at;window.history.replaceState({},"",window.location.pathname+window.location.search)}else if(ot){const{error:at}=await supabase$1.auth.exchangeCodeForSession(ot);if(at)throw at}g(!0)}catch(lt){i({title:"Link error",description:(lt==null?void 0:lt.message)||"Invalid or expired link.",variant:"destructive"}),e(`/login?next=${encodeURIComponent(c)}&intent=${d}`,{replace:!0})}})()},[s.hash,e,c,d,i]);const it=c,nt=async lt=>{if(lt.preventDefault(),$.length<8)return i({title:"Password too short",description:"Use at least 8 characters.",variant:"destructive"});if($!==st)return i({title:"Passwords do not match",variant:"destructive"});_(!0);try{const{error:ot}=await supabase$1.auth.updateUser({password:$});if(ot)throw ot;i({title:"Password updated",description:"You are now signed in."}),e(it,{replace:!0})}catch(ot){i({title:"Could not update password",description:(ot==null?void 0:ot.message)||"Try sending a new reset link.",variant:"destructive"})}finally{_(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 px-4",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md shadow-lg",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"mx-auto mb-4",children:jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"LinkUp"})}),jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl font-bold text-gray-900",children:"Set a new password"}),jsxRuntimeExports.jsx(CardDescription,{className:"text-gray-600",children:"Enter and confirm your new password"})]}),jsxRuntimeExports.jsx(CardContent,{children:h?jsxRuntimeExports.jsxs("form",{onSubmit:nt,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"New password (min 8 chars)"}),jsxRuntimeExports.jsx(Input,{id:"password",type:"password",value:$,onChange:lt=>_e(lt.target.value),required:!0,autoComplete:"new-password",className:"w-full"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$2,{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700",children:"Confirm password"}),jsxRuntimeExports.jsx(Input,{id:"confirmPassword",type:"password",value:st,onChange:lt=>rt(lt.target.value),required:!0,autoComplete:"new-password",className:"w-full"})]}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:j,children:j?"Updating":"Update password"})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Verifying link"})]})})]})})}function AuthCallback(){const{search:i,hash:e,pathname:s}=useLocation(),o=useNavigate();return reactExports.useEffect(()=>{(async()=>{const c=new URLSearchParams(i),d=c.get("next")||"/start",h=c.get("intent")||"",g=c.get("code");if(c.get("error_description"))return o(`/signin?next=${encodeURIComponent(d)}&intent=${h}`,{replace:!0});if(e.includes("access_token")){const{error:$}=await supabase$1.auth.getSessionFromUrl({storeSession:!0});if(window.history.replaceState({},"",s+i),$)return o(`/signin?next=${encodeURIComponent(d)}&intent=${h}`,{replace:!0})}else if(g){const{error:$}=await supabase$1.auth.exchangeCodeForSession({code:g});if($)return o(`/signin?next=${encodeURIComponent(d)}&intent=${h}`,{replace:!0})}o(d,{replace:!0})})()},[i,e,s,o]),null}const NDAModal=({isOpen:i,onClose:e,onSigned:s,projectData:o={name:"Project Development",clientName:"Client Company",teamName:"Development Team"}})=>{const[c,d]=reactExports.useState("form"),[h]=reactExports.useState({clientName:o.clientName,clientEntity:"",clientAddress:"",teamName:o.teamName,teamEntity:"",teamAddress:"",purpose:o.name,termYears:"2",survivalYears:"5",governingLaw:"Delaware",venue:"Delaware"}),g=()=>{const $=new Date().toLocaleDateString(),_e=Math.random().toString(36).substring(2,15);return`
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Mutual NDA</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
  :root { --fg:#111; --muted:#666; --acc:#0b5fff; }
  body { font-family: ui-serif, Georgia, "Times New Roman", serif; color:var(--fg); margin:32px; line-height:1.45; }
  h1 { font-size:22px; margin:0 0 8px; }
  h2 { font-size:16px; margin:18px 0 8px; }
  p, li { font-size:12.5px; margin:8px 0; }
  .muted { color:var(--muted); }
  .box { border:1px solid #ddd; padding:16px; border-radius:8px; }
  .grid { display:grid; grid-template-columns: 1fr 1fr; gap:16px; }
  .sig { margin-top:28px; display:grid; grid-template-columns:1fr 1fr; gap:24px; }
  .line { border-top:1px solid #222; height:0; margin-top:40px; }
  .small { font-size:11px; }
</style>
</head>
<body>
  <h1>Mutual Non-Disclosure Agreement</h1>
  <p class="muted small">Effective Date: <strong>${$}</strong></p>

  <div class="box grid small">
    <div>
      <strong>Party A (Client)</strong><br/>
      ${h.clientName}<br/>${h.clientEntity}<br/>${h.clientAddress}
    </div>
    <div>
      <strong>Party B (Team/Provider)</strong><br/>
      ${h.teamName}<br/>${h.teamEntity}<br/>${h.teamAddress}
    </div>
  </div>

  <p><strong>Purpose.</strong> The parties may exchange information to evaluate and/or perform
  <em>${h.purpose}</em> (the "Purpose").</p>

  <h2>1. Confidential Information</h2>
  <p>"Confidential Information" means non-public information disclosed by a party ("Discloser") to the other ("Recipient"),
  in any form, that is identified as confidential or should reasonably be considered confidential...</p>

  <div class="sig small">
    <div>
      <div class="line"></div>
      <strong>${h.clientName}</strong><br/>
      Name/Title: __________________________<br/>
      Date: ________________________________
    </div>
    <div>
      <div class="line"></div>
      <strong>${h.teamName}</strong><br/>
      Name/Title: __________________________<br/>
      Date: ________________________________
    </div>
  </div>

  <p class="muted small">Doc: NDA-short v1.0  Hash: ${_e}</p>
</body>
</html>`},j=()=>{const $=g(),_e=new Blob([$],{type:"text/html"}),st=URL.createObjectURL(_e),rt=document.createElement("a");rt.href=st,rt.download=`NDA-${h.clientName}-${h.teamName}.html`,rt.click(),URL.revokeObjectURL(st)},_=()=>{d("signed"),setTimeout(()=>{s(),e()},2e3)};return jsxRuntimeExports.jsx(Dialog,{open:i,onOpenChange:e,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5"}),"Non-Disclosure Agreement"]})}),c==="form"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs(Card,{className:"p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-3",children:"Client Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Name"}),jsxRuntimeExports.jsx(Input,{readOnly:!0,value:h.clientName})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Entity Type"}),jsxRuntimeExports.jsx(Input,{readOnly:!0,placeholder:"LLC, Corporation, etc.",value:h.clientEntity})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Address"}),jsxRuntimeExports.jsx(Textarea,{readOnly:!0,value:h.clientAddress})]})]})]}),jsxRuntimeExports.jsxs(Card,{className:"p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-3",children:"Team Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Name"}),jsxRuntimeExports.jsx(Input,{readOnly:!0,value:h.teamName})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Entity Type"}),jsxRuntimeExports.jsx(Input,{readOnly:!0,placeholder:"LLC, Corporation, etc.",value:h.teamEntity})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Address"}),jsxRuntimeExports.jsx(Textarea,{readOnly:!0,value:h.teamAddress})]})]})]})]}),jsxRuntimeExports.jsxs(Card,{className:"p-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-3",children:"Agreement Details"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Purpose"}),jsxRuntimeExports.jsx(Input,{readOnly:!0,value:h.purpose})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Term (Years)"}),jsxRuntimeExports.jsx(Input,{readOnly:!0,value:h.termYears})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Governing Law"}),jsxRuntimeExports.jsx(Input,{readOnly:!0,value:h.governingLaw})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$2,{children:"Venue"}),jsxRuntimeExports.jsx(Input,{readOnly:!0,value:h.venue})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:e,children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:()=>d("preview"),children:"Preview NDA"})]})]}),c==="preview"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-96 overflow-y-auto",children:jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:g()}})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>d("form"),children:"Back to View"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:j,children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-2"}),"Download"]}),jsxRuntimeExports.jsx(Button,{onClick:_,children:"Sign Agreement"})]})]})]}),c==="signed"&&jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Check,{className:"w-8 h-8 text-green-600"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"NDA Signed Successfully!"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"The agreement has been recorded and both parties will receive a copy."})]})]})})};var gapi=window.gapi=window.gapi||{};gapi._bs=new Date().getTime();(function(){var aa=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,e,s){return i==Array.prototype||i==Object.prototype||(i[e]=s.value),i},da=function(i){i=[typeof globalThis=="object"&&globalThis,i,typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global];for(var e=0;e<i.length;++e){var s=i[e];if(s&&s.Math==Math)return s}throw Error("Cannot find global object")},ea=da(this),fa=function(i,e){if(e)e:{var s=ea;i=i.split(".");for(var o=0;o<i.length-1;o++){var c=i[o];if(!(c in s))break e;s=s[c]}i=i[i.length-1],o=s[i],e=e(o),e!=o&&e!=null&&aa(s,i,{configurable:!0,writable:!0,value:e})}},ha=function(i){var e=0;return function(){return e<i.length?{done:!1,value:i[e++]}:{done:!0}}};fa("Symbol",function(i){if(i)return i;var e=function(c,d){this.ba=c,aa(this,"description",{configurable:!0,writable:!0,value:d})};e.prototype.toString=function(){return this.ba};var s=0,o=function(c){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return new e("jscomp_symbol_"+(c||"")+"_"+s++,c)};return o}),fa("Symbol.iterator",function(i){if(i)return i;i=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),s=0;s<e.length;s++){var o=ea[e[s]];typeof o=="function"&&typeof o.prototype[i]!="function"&&aa(o.prototype,i,{configurable:!0,writable:!0,value:function(){return ia(ha(this))}})}return i});var ia=function(i){return i={next:i},i[Symbol.iterator]=function(){return this},i},ja=function(i,e){i instanceof String&&(i+="");var s=0,o=!1,c={next:function(){if(!o&&s<i.length){var d=s++;return{value:e(d,i[d]),done:!1}}return o=!0,{done:!0,value:void 0}}};return c[Symbol.iterator]=function(){return c},c};fa("Array.prototype.keys",function(i){return i||function(){return ja(this,function(e){return e})}});var m=this||self,ka=function(i){var e=typeof i;return e!="object"?e:i?Array.isArray(i)?"array":e:"null"},la=function(i,e,s){return i.call.apply(i.bind,arguments)},ma=function(i,e,s){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,o),i.apply(e,c)}}return function(){return i.apply(e,arguments)}},na=function(i,e,s){return na=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?la:ma,na.apply(null,arguments)},oa=function(i,e){function s(){}s.prototype=e.prototype,i.ma=e.prototype,i.prototype=new s,i.prototype.constructor=i,i.A=function(o,c,d){for(var h=Array(arguments.length-2),g=2;g<arguments.length;g++)h[g-2]=arguments[g];return e.prototype[c].apply(o,h)}},pa=function(i){return i},qa=function(i){var e=null,s=m.trustedTypes;if(!s||!s.createPolicy)return e;try{e=s.createPolicy(i,{createHTML:pa,createScript:pa,createScriptURL:pa})}catch(o){m.console&&m.console.error(o.message)}return e};function q(i){if(Error.captureStackTrace)Error.captureStackTrace(this,q);else{var e=Error().stack;e&&(this.stack=e)}i&&(this.message=String(i))}oa(q,Error),q.prototype.name="CustomError";var ra=function(i,e){i=i.split("%s");for(var s="",o=i.length-1,c=0;c<o;c++)s+=i[c]+(c<e.length?e[c]:"%s");q.call(this,s+i[o])};oa(ra,q),ra.prototype.name="AssertionError";var sa=function(i,e,s,o){var c="Assertion failed";if(s){c+=": "+s;var d=o}else i&&(c+=": "+i,d=e);throw new ra(""+c,d||[])},ta=function(i,e,s){return i||sa("",null,e,Array.prototype.slice.call(arguments,2)),i},ua=function(i,e){throw new ra("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))},va=function(i,e,s){typeof i!="string"&&sa("Expected string but got %s: %s.",[ka(i),i],e,Array.prototype.slice.call(arguments,2))},xa=function(i,e){e:{try{var s=i&&i.ownerDocument,o=s&&(s.defaultView||s.parentWindow);if(o=o||m,o.Element&&o.Location){var c=o;break e}}catch{}c=null}if(c&&typeof c[e]<"u"&&(!i||!(i instanceof c[e])&&(i instanceof c.Location||i instanceof c.Element))){if(c=typeof i,c=="object"&&i!=null||c=="function")try{var d=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{d="<object could not be stringified>"}else d=i===void 0?"undefined":i===null?"null":typeof i;ua("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,d)}return i},ya,t=function(i,e){this.P=i===za&&e||"",this.ca=Aa};t.prototype.J=!0,t.prototype.H=function(){return this.P},t.prototype.toString=function(){return"Const{"+this.P+"}"};var Ba=function(i){return i instanceof t&&i.constructor===t&&i.ca===Aa?i.P:(ua("expected object of type Const, got '"+i+"'"),"type_error:Const")},Aa={},za={},v=function(i,e){this.N=e===Ca?i:""};v.prototype.J=!0,v.prototype.H=function(){return this.N.toString()},v.prototype.toString=function(){return"SafeUrl{"+this.N+"}"};var Da=function(i){return i instanceof v&&i.constructor===v?i.N:(ua("expected object of type SafeUrl, got '"+i+"' of type "+ka(i)),"type_error:SafeUrl")},Ea=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Fa=function(i){return i instanceof v?i:(i=typeof i=="object"&&i.J?i.H():String(i),ta(Ea.test(i),"%s does not match the safe URL pattern",i)||(i="about:invalid#zClosurez"),new v(i,Ca))},Ca={},w=function(i,e,s){this.M=s===Ga?i:""};w.prototype.J=!0,w.prototype.H=function(){return this.M.toString()},w.prototype.toString=function(){return"SafeHtml{"+this.M+"}"};var Ha=function(i){return i instanceof w&&i.constructor===w?i.M:(ua("expected object of type SafeHtml, got '"+i+"' of type "+ka(i)),"type_error:SafeHtml")},Ga={},Ia=new w(m.trustedTypes&&m.trustedTypes.emptyHTML||"",0,Ga),Ja={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},Ka=function(i){var e=!1,s;return function(){return e||(s=i(),e=!0),s}}(function(){if(typeof document>"u")return!1;var i=document.createElement("div"),e=document.createElement("div");return e.appendChild(document.createElement("div")),i.appendChild(e),i.firstChild?(e=i.firstChild.firstChild,i.innerHTML=Ha(Ia),!e.parentElement):!1}),x=window,z=document,La=x.location,Ma=function(){},Na=/\[native code\]/,A=function(i,e,s){return i[e]=i[e]||s},Oa=function(i){for(var e=0;e<this.length;e++)if(this[e]===i)return e;return-1},Pa=function(i){i=i.sort();for(var e=[],s=void 0,o=0;o<i.length;o++){var c=i[o];c!=s&&e.push(c),s=c}return e},Qa=/&/g,Ra=/</g,Sa=/>/g,Ua=/"/g,Va=/'/g,Wa=function(i){return String(i).replace(Qa,"&amp;").replace(Ra,"&lt;").replace(Sa,"&gt;").replace(Ua,"&quot;").replace(Va,"&#39;")},B=function(){var i;if((i=Object.create)&&Na.test(i))i=i(null);else{i={};for(var e in i)i[e]=void 0}return i},C=function(i,e){return Object.prototype.hasOwnProperty.call(i,e)},Xa=function(i){if(Na.test(Object.keys))return Object.keys(i);var e=[],s;for(s in i)C(i,s)&&e.push(s);return e},D=function(i,e){i=i||{};for(var s in i)C(i,s)&&(e[s]=i[s])},Ya=function(i){return function(){x.setTimeout(i,0)}},E=function(i,e){if(!i)throw Error(e||"")},F=A(x,"gapi",{}),H=function(i,e,s){var o=new RegExp("([#].*&|[#])"+e+"=([^&#]*)","g");if(e=new RegExp("([?#].*&|[?#])"+e+"=([^&#]*)","g"),i=i&&(o.exec(i)||e.exec(i)))try{s=decodeURIComponent(i[2])}catch{}return s},Za=new RegExp(/^/.source+/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),$a=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,ab=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),bb=/%([a-f]|[0-9a-fA-F][a-f])/g,cb=/^(https?|ftp|file|chrome-extension):$/i,I=function(i){i=String(i),i=i.replace($a,function(c){try{return encodeURIComponent(c)}catch{return encodeURIComponent(c.replace(/^[^%]+$/g,""))}}).replace(ab,function(c){return c.replace(/%/g,"%25")}).replace(bb,function(c){return c.toUpperCase()}),i=i.match(Za)||[];var e=B(),s=function(c){return c.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},o=!!(i[1]||"").match(cb);return e.A=s((i[1]||"")+(i[2]||"")+(i[3]||(i[2]&&o?"/":""))),o=function(c){return s(c.replace(/\?/g,"%3F").replace(/#/g,"%23"))},e.query=i[5]?[o(i[5])]:[],e.g=i[7]?[o(i[7])]:[],e},db=function(i){return i.A+(0<i.query.length?"?"+i.query.join("&"):"")+(0<i.g.length?"#"+i.g.join("&"):"")},eb=function(i,e){var s=[];if(i){for(var o in i)if(C(i,o)&&i[o]!=null){var c=e?e(i[o]):i[o];s.push(encodeURIComponent(o)+"="+encodeURIComponent(c))}}return s},fb=function(i,e,s,o){return i=I(i),i.query.push.apply(i.query,eb(e,o)),i.g.push.apply(i.g,eb(s,o)),db(i)},gb=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),hb=function(i,e){var s=I(e);e=s.A,s.query.length&&(e+="?"+s.query.join("")),s.g.length&&(e+="#"+s.g.join(""));var o="";2e3<e.length&&(o=e,e=e.substr(0,2e3),e=e.replace(gb,""),o=o.substr(e.length));var c=i.createElement("div");if(i=i.createElement("a"),s=I(e),e=s.A,s.query.length&&(e+="?"+s.query.join("")),s.g.length&&(e+="#"+s.g.join("")),e=new v(e,Ca),xa(i,"HTMLAnchorElement"),e=e instanceof v?e:Fa(e),i.href=Da(e),c.appendChild(i),e=c.innerHTML,s=new t(za,"Assignment to self."),va(Ba(s),"must provide justification"),ta(!/^[\s\xa0]*$/.test(Ba(s)),"must provide non-empty justification"),ya===void 0&&(ya=qa("gapi#html")),e=(s=ya)?s.createHTML(e):e,e=new w(e,null,Ga),c.tagName&&Ja[c.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+c.tagName+".");if(Ka())for(;c.lastChild;)c.removeChild(c.lastChild);return c.innerHTML=Ha(e),e=String(c.firstChild.href),c.parentNode&&c.parentNode.removeChild(c),s=I(e+o),o=s.A,s.query.length&&(o+="?"+s.query.join("")),s.g.length&&(o+="#"+s.g.join("")),o},ib=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,jb=function(i,e,s,o){x[s+"EventListener"]?x[s+"EventListener"](i,e,!1):x[o+"tachEvent"]&&x[o+"tachEvent"]("on"+i,e)},kb=function(){var i=z.readyState;return i==="complete"||i==="interactive"&&navigator.userAgent.indexOf("MSIE")==-1},nb=function(i){var e=lb;if(!kb())try{e()}catch{}mb(i)},mb=function(i){if(kb())i();else{var e=!1,s=function(){if(!e)return e=!0,i.apply(this,arguments)};x.addEventListener?(x.addEventListener("load",s,!1),x.addEventListener("DOMContentLoaded",s,!1)):x.attachEvent&&(x.attachEvent("onreadystatechange",function(){kb()&&s.apply(this,arguments)}),x.attachEvent("onload",s))}},ob=function(i){for(;i.firstChild;)i.removeChild(i.firstChild)},pb={button:!0,div:!0,span:!0},K;K=A(x,"___jsl",B()),A(K,"I",0),A(K,"hel",10);var qb=function(i){return K.dpo?K.h:H(i,"jsh",K.h)},rb=function(i){var e=A(K,"sws",[]);e.push.apply(e,i)},sb=function(i){return A(K,"watt",B())[i]},tb=function(i){var e=A(K,"PQ",[]);K.PQ=[];var s=e.length;if(s===0)i();else for(var o=0,c=function(){++o===s&&i()},d=0;d<s;d++)e[d](c)},ub=function(i){return A(A(K,"H",B()),i,B())},vb=A(K,"perf",B()),wb=A(vb,"g",B()),xb=A(vb,"i",B());A(vb,"r",[]),B(),B();var yb=function(i,e,s){var o=vb.r;typeof o=="function"?o(i,e,s):o.push([i,e,s])},L=function(i,e,s){wb[i]=!e&&wb[i]||s||new Date().getTime(),yb(i)},Ab=function(i,e,s){e&&0<e.length&&(e=zb(e),s&&0<s.length&&(e+="___"+zb(s)),28<e.length&&(e=e.substr(0,28)+(e.length-28)),s=e,e=A(xb,"_p",B()),A(e,s,B())[i]=new Date().getTime(),yb(i,"_p",s))},zb=function(i){return i.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},Bb=B(),N=[],O=function(i){throw Error("Bad hint"+(i?": "+i:""))};N.push(["jsl",function(i){for(var e in i)if(C(i,e)){var s=i[e];typeof s=="object"?K[e]=A(K,e,[]).concat(s):A(K,e,s)}(e=i.u)&&(i=A(K,"us",[]),i.push(e),(e=/^https:(.*)$/.exec(e))&&i.push("http:"+e[1]))}]);var Cb=/^(\/[a-zA-Z0-9_\-]+)+$/,Db=[/\/amp\//,/\/amp$/,/^\/amp$/],Eb=/^[a-zA-Z0-9\-_\.,!]+$/,Fb=/^gapi\.loaded_[0-9]+$/,Gb=/^[a-zA-Z0-9,._-]+$/,Kb=function(i,e,s,o){var c=i.split(";"),d=c.shift(),h=Bb[d],g=null;return h?g=h(c,e,s,o):O("no hint processor for: "+d),g||O("failed to generate load url"),e=g,s=e.match(Hb),(o=e.match(Ib))&&o.length===1&&Jb.test(e)&&s&&s.length===1||O("failed sanity: "+i),g},Nb=function(i,e,s,o){i=Lb(i),Fb.test(s)||O("invalid_callback"),e=Mb(e),o=o&&o.length?Mb(o):null;var c=function(d){return encodeURIComponent(d).replace(/%2C/g,",")};return[encodeURIComponent(i.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",c(i.version),"/m=",c(e),o?"/exm="+c(o):"","/rt=j/sv=1/d=1/ed=1",i.S?"/am="+c(i.S):"",i.Z?"/rs="+c(i.Z):"",i.aa?"/t="+c(i.aa):"","/cb=",c(s)].join("")},Lb=function(i){i.charAt(0)!=="/"&&O("relative path");for(var e=i.substring(1).split("/"),s=[];e.length;){if(i=e.shift(),!i.length||i.indexOf(".")==0)O("empty/relative directory");else if(0<i.indexOf("=")){e.unshift(i);break}s.push(i)}i={};for(var o=0,c=e.length;o<c;++o){var d=e[o].split("="),h=decodeURIComponent(d[0]),g=decodeURIComponent(d[1]);d.length==2&&h&&g&&(i[h]=i[h]||g)}for(e="/"+s.join("/"),Cb.test(e)||O("invalid_prefix"),s=0,o=Db.length;s<o;++s)Db[s].test(e)&&O("invalid_prefix");return s=Ob(i,"k",!0),o=Ob(i,"am"),c=Ob(i,"rs"),i=Ob(i,"t"),{pathPrefix:e,version:s,S:o,Z:c,aa:i}},Mb=function(i){for(var e=[],s=0,o=i.length;s<o;++s){var c=i[s].replace(/\./g,"_").replace(/-/g,"_");Gb.test(c)&&e.push(c)}return e.join(",")},Ob=function(i,e,s){if(i=i[e],!i&&s&&O("missing: "+e),i){if(Eb.test(i))return i;O("invalid: "+e)}return null},Jb=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,Ib=/\/cb=/g,Hb=/\/\//g,Pb=function(){var i=qb(La.href);if(!i)throw Error("Bad hint");return i};Bb.m=function(i,e,s,o){return(i=i[0])||O("missing_hint"),"https://apis.google.com"+Nb(i,e,s,o)};var Qb=decodeURI("%73cript"),Rb=/^[-+_0-9\/A-Za-z]+={0,2}$/,Sb=function(i,e){for(var s=[],o=0;o<i.length;++o){var c=i[o];c&&0>Oa.call(e,c)&&s.push(c)}return s},Tb=function(){var i=K.nonce;return i!==void 0?i&&i===String(i)&&i.match(Rb)?i:K.nonce=null:z.querySelector&&(i=z.querySelector("script[nonce]"))?(i=i.nonce||i.getAttribute("nonce")||"",i&&i===String(i)&&i.match(Rb)?K.nonce=i:K.nonce=null):null},Wb=function(i){if(z.readyState!="loading")Ub(i);else{var e=Tb(),s="";e!==null&&(s=' nonce="'+e+'"'),i="<"+Qb+' src="'+encodeURI(i)+'"'+s+"></"+Qb+">",z.write(Vb?Vb.createHTML(i):i)}},Ub=function(i){var e=z.createElement(Qb);e.setAttribute("src",Vb?Vb.createScriptURL(i):i),i=Tb(),i!==null&&e.setAttribute("nonce",i),e.async="true",(i=z.getElementsByTagName(Qb)[0])?i.parentNode.insertBefore(e,i):(z.head||z.body||z.documentElement).appendChild(e)},Xb=function(i,e){var s=e&&e._c;if(s)for(var o=0;o<N.length;o++){var c=N[o][0],d=N[o][1];d&&C(s,c)&&d(s[c],i,e)}},Zb=function(i,e,s){Yb(function(){var o=e===qb(La.href)?A(F,"_",B()):B();o=A(ub(e),"_",o),i(o)},s)},ac=function(i,e){var s=e||{};typeof e=="function"&&(s={},s.callback=e),Xb(i,s),e=i?i.split(":"):[];var o=s.h||Pb(),c=A(K,"ah",B());if(c["::"]&&e.length){i=[];for(var d=null;d=e.shift();){var h=d.split(".");h=c[d]||c[h[1]&&"ns:"+h[0]||""]||o;var g=i.length&&i[i.length-1]||null,j=g;g&&g.hint==h||(j={hint:h,V:[]},i.push(j)),j.V.push(d)}var _=i.length;if(1<_){var $=s.callback;$&&(s.callback=function(){--_==0&&$()})}for(;e=i.shift();)$b(e.V,s,e.hint)}else $b(e||[],s,o)},$b=function(i,e,s){i=Pa(i)||[];var o=e.callback,c=e.config,d=e.timeout,h=e.ontimeout,g=e.onerror,j=void 0;typeof g=="function"&&(j=g);var _=null,$=!1;if(d&&!h||!d&&h)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";g=A(ub(s),"r",[]).sort();var _e=A(ub(s),"L",[]).sort(),st=[].concat(g),rt=function(at,ct){if($)return 0;x.clearTimeout(_),_e.push.apply(_e,it);var ut=((F||{}).config||{}).update;if(ut?ut(c):c&&A(K,"cu",[]).push(c),ct){Ab("me0",at,st);try{Zb(ct,s,j)}finally{Ab("me1",at,st)}}return 1};0<d&&(_=x.setTimeout(function(){$=!0,h()},d));var it=Sb(i,_e);if(it.length){it=Sb(i,g);var nt=A(K,"CP",[]),lt=nt.length;if(nt[lt]=function(at){if(!at)return 0;Ab("ml1",it,st);var ct=function(ht){nt[lt]=null,rt(it,at)&&tb(function(){o&&o(),ht()})},ut=function(){var ht=nt[lt+1];ht&&ht()};0<lt&&nt[lt-1]?nt[lt]=function(){ct(ut)}:ct(ut)},it.length){var ot="loaded_"+K.I++;F[ot]=function(at){nt[lt](at),F[ot]=null},i=Kb(s,it,"gapi."+ot,g),g.push.apply(g,it),Ab("ml0",it,st),e.sync||x.___gapisync?Wb(i):Ub(i)}else nt[lt](Ma)}else rt(it)&&o&&o()},Vb=qa("gapi#gapi"),Yb=function(i,e){if(K.hee&&0<K.hel)try{return i()}catch(s){e&&e(s),K.hel--,ac("debug_error",function(){try{window.___jsl.hefn(s)}catch{throw s}})}else try{return i()}catch(s){throw e&&e(s),s}};F.load=function(i,e){return Yb(function(){return ac(i,e)})};var bc=function(i){var e=window.___jsl=window.___jsl||{};return e[i]=e[i]||[],e[i]},cc=function(i){var e=window.___jsl=window.___jsl||{};return e.cfg=!i&&e.cfg||{},e.cfg},dc=function(i){return typeof i=="object"&&/\[native code\]/.test(i.push)},P=function(i,e,s){if(e&&typeof e=="object")for(var o in e)!Object.prototype.hasOwnProperty.call(e,o)||s&&o==="___goc"&&typeof e[o]>"u"||(i[o]&&e[o]&&typeof i[o]=="object"&&typeof e[o]=="object"&&!dc(i[o])&&!dc(e[o])?P(i[o],e[o]):e[o]&&typeof e[o]=="object"?(i[o]=dc(e[o])?[]:{},P(i[o],e[o])):i[o]=e[o])},ec=function(i){if(i&&!/^\s+$/.test(i)){for(;i.charCodeAt(i.length-1)==0;)i=i.substring(0,i.length-1);try{var e=window.JSON.parse(i)}catch{}if(typeof e=="object")return e;try{e=new Function("return ("+i+`
)`)()}catch{}if(typeof e=="object")return e;try{e=new Function("return ({"+i+`
})`)()}catch{}return typeof e=="object"?e:{}}},fc=function(i,e){var s={___goc:void 0};i.length&&i[i.length-1]&&Object.hasOwnProperty.call(i[i.length-1],"___goc")&&typeof i[i.length-1].___goc>"u"&&(s=i.pop()),P(s,e),i.push(s)},gc=function(i){cc(!0);var e=window.___gcfg,s=bc("cu"),o=window.___gu;e&&e!==o&&(fc(s,e),window.___gu=e),e=bc("cu");var c=document.scripts||document.getElementsByTagName("script")||[];o=[];var d=[];d.push.apply(d,bc("us"));for(var h=0;h<c.length;++h)for(var g=c[h],j=0;j<d.length;++j)g.src&&g.src.indexOf(d[j])==0&&o.push(g);for(o.length==0&&0<c.length&&c[c.length-1].src&&o.push(c[c.length-1]),c=0;c<o.length;++c)o[c].getAttribute("gapi_processed")||(o[c].setAttribute("gapi_processed",!0),(d=o[c])?(h=d.nodeType,d=h==3||h==4?d.nodeValue:d.textContent||d.innerText||d.innerHTML||""):d=void 0,(d=ec(d))&&e.push(d));for(i&&fc(s,i),o=bc("cd"),i=0,e=o.length;i<e;++i)P(cc(),o[i],!0);for(o=bc("ci"),i=0,e=o.length;i<e;++i)P(cc(),o[i],!0);for(i=0,e=s.length;i<e;++i)P(cc(),s[i],!0)},Q=function(i){var e=cc();if(!i)return e;i=i.split("/");for(var s=0,o=i.length;e&&typeof e=="object"&&s<o;++s)e=e[i[s]];return s===i.length&&e!==void 0?e:void 0},hc=function(i,e){var s;if(typeof i=="string"){var o=s={};i=i.split("/");for(var c=0,d=i.length;c<d-1;++c){var h={};o=o[i[c]]=h}o[i[c]]=e}else s=i;gc(s)},ic=function(){var i=window.__GOOGLEAPIS;i&&(i.googleapis&&!i["googleapis.config"]&&(i["googleapis.config"]=i.googleapis),A(K,"ci",[]).push(i),window.__GOOGLEAPIS=void 0)},jc={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},kc=!1,lc=B(),mc=function(){if(!kc){for(var i=document.getElementsByTagName("meta"),e=0;e<i.length;++e){var s=i[e].name.toLowerCase();if(s.lastIndexOf("google-signin-",0)==0){s=s.substring(14);var o=i[e].content;jc[s]&&o&&(lc[s]=o)}}if(window.self!==window.top){i=document.location.toString();for(var c in jc)0<jc[c]&&(e=H(i,c,""))&&(lc[c]=e)}kc=!0}return c=B(),D(lc,c),c},nc=function(i){return!!(i.clientid&&i.scope&&i.callback)},oc=window.console,pc=function(i){oc&&oc.log&&oc.log(i)},qc=function(){return!!K.oa},rc=function(){},R=A(K,"rw",B()),sc=function(i){for(var e in R)i(R[e])},tc=function(i,e){(i=R[i])&&i.state<e&&(i.state=e)},vc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,wc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,xc=function(i){var e=Q("googleapis.config/sessionIndex");if(typeof e=="string"&&254<e.length&&(e=null),e==null&&(e=window.__X_GOOG_AUTHUSER),typeof e=="string"&&254<e.length&&(e=null),e==null){var s=window.google;s&&(e=s.authuser)}return typeof e=="string"&&254<e.length&&(e=null),e==null&&(i=i||window.location.href,e=H(i,"authuser")||null,e==null&&(e=(e=i.match(vc))?e[1]:null)),e==null?null:(e=String(e),254<e.length&&(e=null),e)},yc=function(i){var e=Q("googleapis.config/sessionDelegate");return typeof e=="string"&&21<e.length&&(e=null),e==null&&(e=(i=(i||window.location.href).match(wc))?i[1]:null),e==null?null:(e=String(e),21<e.length&&(e=null),e)},zc,S,T=void 0,U=function(i){try{return m.JSON.parse.call(m.JSON,i)}catch{return!1}},V=function(i){return Object.prototype.toString.call(i)},Ac=V(0),Bc=V(new Date(0)),Cc=V(!0),Dc=V(""),Ec=V({}),Fc=V([]),W=function(i,e){if(e){for(var s=0,o=e.length;s<o;++s)if(i===e[s])throw new TypeError("Converting circular structure to JSON")}if(o=typeof i,o!=="undefined"){s=Array.prototype.slice.call(e||[],0),s[s.length]=i,e=[];var c=V(i);if(i!=null&&typeof i.toJSON=="function"&&(Object.prototype.hasOwnProperty.call(i,"toJSON")||(c!==Fc||i.constructor!==Array&&i.constructor!==Object)&&(c!==Ec||i.constructor!==Array&&i.constructor!==Object)&&c!==Dc&&c!==Ac&&c!==Cc&&c!==Bc))return W(i.toJSON.call(i),s);if(i==null)e[e.length]="null";else if(c===Ac)i=Number(i),isNaN(i)||isNaN(i-i)?i="null":i===-0&&0>1/i&&(i="-0"),e[e.length]=String(i);else if(c===Cc)e[e.length]=String(!!Number(i));else{if(c===Bc)return W(i.toISOString.call(i),s);if(c===Fc&&V(i.length)===Ac){e[e.length]="[";var d=0;for(o=Number(i.length)>>0;d<o;++d)d&&(e[e.length]=","),e[e.length]=W(i[d],s)||"null";e[e.length]="]"}else if(c==Dc&&V(i.length)===Ac){for(e[e.length]='"',d=0,s=Number(i.length)>>0;d<s;++d)o=String.prototype.charAt.call(i,d),c=String.prototype.charCodeAt.call(i,d),e[e.length]=o==="\b"?"\\b":o==="\f"?"\\f":o===`
`?"\\n":o==="\r"?"\\r":o==="	"?"\\t":o==="\\"||o==='"'?"\\"+o:31>=c?"\\u"+(c+65536).toString(16).substr(1):32<=c&&65535>=c?o:"";e[e.length]='"'}else if(o==="object"){e[e.length]="{",o=0;for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(c=W(i[d],s),c!==void 0&&(o++&&(e[e.length]=","),e[e.length]=W(d),e[e.length]=":",e[e.length]=c));e[e.length]="}"}else return}return e.join("")}},Gc=/[\0-\x07\x0b\x0e-\x1f]/,Hc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,Ic=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,Jc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,Kc=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,Lc=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,Mc=/[ \t\n\r]+/g,Nc=/[^"]:/,Oc=/""/g,Pc=/true|false|null/g,Qc=/00/,Rc=/[\{]([^0\}]|0[^:])/,Sc=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,Tc=/[^\[,:][\[\{]/,Uc=/^(\{|\}|\[|\]|,|:|0)+/,Vc=/\u2028/g,Wc=/\u2029/g,Xc=function(a){if(a=String(a),Gc.test(a)||Hc.test(a)||Ic.test(a)||Jc.test(a))return!1;var b=a.replace(Kc,'""');if(b=b.replace(Lc,"0"),b=b.replace(Mc,""),Nc.test(b)||(b=b.replace(Oc,"0"),b=b.replace(Pc,"0"),Qc.test(b)||Rc.test(b)||Sc.test(b)||Tc.test(b)||!b||(b=b.replace(Uc,""))))return!1;a=a.replace(Vc,"\\u2028").replace(Wc,"\\u2029"),b=void 0;try{b=T?[U(a)]:eval(`(function (var_args) {
  return Array.prototype.slice.call(arguments, 0);
})(
`+a+`
)`)}catch(i){return!1}return b&&b.length===1?b[0]:!1},Yc=function(){var i=((m.document||{}).scripts||[]).length;if((zc===void 0||T===void 0||S!==i)&&S!==-1){zc=T=!1,S=-1;try{try{T=!!m.JSON&&m.JSON.stringify.call(m.JSON,{a:[3,!0,new Date(0)],c:function(){}})==='{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'&&U("true")===!0&&U('[{"a":3}]')[0].a===3}catch{}zc=T&&!U("[00]")&&!U('"\x07"')&&!U('"\\0"')&&!U('"\\v"')}finally{S=i}}},Zc=function(i){return S===-1?!1:(Yc(),(zc?U:Xc)(i))},$c=function(i){if(S!==-1)return Yc(),T?m.JSON.stringify.call(m.JSON,i):W(i)},ad=!Date.prototype.toISOString||typeof Date.prototype.toISOString!="function"||new Date(0).toISOString()!=="1970-01-01T00:00:00.000Z",bd=function(){var i=Date.prototype.getUTCFullYear.call(this);return[0>i?"-"+String(1e6-i).substr(1):9999>=i?String(1e4+i).substr(1):"+"+String(1e6+i).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1e3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),"Z"].join("")};Date.prototype.toISOString=ad?bd:Date.prototype.toISOString;var cd=function(){this.j=-1},dd=function(){this.j=64,this.b=[],this.G=[],this.da=[],this.C=[],this.C[0]=128;for(var i=1;i<this.j;++i)this.C[i]=0;this.D=this.o=0,this.reset()};oa(dd,cd),dd.prototype.reset=function(){this.b[0]=1732584193,this.b[1]=4023233417,this.b[2]=2562383102,this.b[3]=271733878,this.b[4]=3285377520,this.D=this.o=0};var ed=function(i,e,s){s||(s=0);var o=i.da;if(typeof e=="string")for(var c=0;16>c;c++)o[c]=e.charCodeAt(s)<<24|e.charCodeAt(s+1)<<16|e.charCodeAt(s+2)<<8|e.charCodeAt(s+3),s+=4;else for(c=0;16>c;c++)o[c]=e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3],s+=4;for(c=16;80>c;c++){var d=o[c-3]^o[c-8]^o[c-14]^o[c-16];o[c]=(d<<1|d>>>31)&4294967295}e=i.b[0],s=i.b[1];var h=i.b[2],g=i.b[3],j=i.b[4];for(c=0;80>c;c++){if(40>c)if(20>c){d=g^s&(h^g);var _=1518500249}else d=s^h^g,_=1859775393;else 60>c?(d=s&h|g&(s|h),_=2400959708):(d=s^h^g,_=3395469782);d=(e<<5|e>>>27)+d+j+_+o[c]&4294967295,j=g,g=h,h=(s<<30|s>>>2)&4294967295,s=e,e=d}i.b[0]=i.b[0]+e&4294967295,i.b[1]=i.b[1]+s&4294967295,i.b[2]=i.b[2]+h&4294967295,i.b[3]=i.b[3]+g&4294967295,i.b[4]=i.b[4]+j&4294967295};dd.prototype.update=function(i,e){if(i!=null){e===void 0&&(e=i.length);for(var s=e-this.j,o=0,c=this.G,d=this.o;o<e;){if(d==0)for(;o<=s;)ed(this,i,o),o+=this.j;if(typeof i=="string"){for(;o<e;)if(c[d]=i.charCodeAt(o),++d,++o,d==this.j){ed(this,c),d=0;break}}else for(;o<e;)if(c[d]=i[o],++d,++o,d==this.j){ed(this,c),d=0;break}}this.o=d,this.D+=e}},dd.prototype.digest=function(){var i=[],e=8*this.D;56>this.o?this.update(this.C,56-this.o):this.update(this.C,this.j-(this.o-56));for(var s=this.j-1;56<=s;s--)this.G[s]=e&255,e/=256;for(ed(this,this.G),s=e=0;5>s;s++)for(var o=24;0<=o;o-=8)i[e]=this.b[s]>>o&255,++e;return i};var fd=function(){this.O=new dd};fd.prototype.reset=function(){this.O.reset()};var gd=x.crypto,hd=!1,id=0,jd=0,kd=1,ld=0,md="",nd=function(i){i=i||x.event;var e=i.screenX+i.clientX<<16;e+=i.screenY+i.clientY,e*=new Date().getTime()%1e6,kd=kd*e%ld,0<id&&++jd==id&&jb("mousemove",nd,"remove","de")},od=function(i){var e=new fd;i=unescape(encodeURIComponent(i));for(var s=[],o=0,c=i.length;o<c;++o)s.push(i.charCodeAt(o));for(e.O.update(s),e=e.O.digest(),i="",s=0;s<e.length;s++)i+="0123456789ABCDEF".charAt(Math.floor(e[s]/16))+"0123456789ABCDEF".charAt(e[s]%16);return i};hd=!!gd&&typeof gd.getRandomValues=="function",hd||(ld=1e6*(screen.width*screen.width+screen.height),md=od(z.cookie+"|"+z.location+"|"+new Date().getTime()+"|"+Math.random()),id=Q("random/maxObserveMousemove")||0,id!=0&&jb("mousemove",nd,"add","at"));var pd=function(){var i=kd;return i+=parseInt(md.substr(0,20),16),md=od(md),i/(ld+Math.pow(16,20))},qd=function(){var i=new x.Uint32Array(1);return gd.getRandomValues(i),+("0."+i[0])},rd=function(){var i=K.onl;if(!i){i=B(),K.onl=i;var e=B();i.e=function(s){var o=e[s];o&&(delete e[s],o())},i.a=function(s,o){e[s]=o},i.r=function(s){delete e[s]}}return i},sd=function(i,e){return e=e.onload,typeof e=="function"?(rd().a(i,e),e):null},td=function(i){return E(/^\w+$/.test(i),"Unsupported id - "+i),rd(),'onload="window.___jsl.onl.e(&#34;'+i+'&#34;)"'},ud=function(i){rd().r(i)},vd={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},wd={allowtransparency:!0,onload:!0},xd=0,yd=function(i){E(!i||ib.test(i),"Illegal url for new iframe - "+i)},zd=function(i,e,s,o,c){yd(s.src);var d,h=sd(o,s),g=h?td(o):"";try{document.all&&(d=i.createElement('<iframe frameborder="'+Wa(String(s.frameborder))+'" scrolling="'+Wa(String(s.scrolling))+'" '+g+' name="'+Wa(String(s.name))+'"/>'))}catch{}finally{d||(d=i.createElement("iframe"),h&&(d.onload=function(){d.onload=null,h.call(this)},ud(o)))}d.setAttribute("ng-non-bindable","");for(var j in s)i=s[j],j==="style"&&typeof i=="object"?D(i,d.style):wd[j]||d.setAttribute(j,String(i));return(j=c&&c.beforeNode||null)||c&&c.dontclear||ob(e),e.insertBefore(d,j),d=j?j.previousSibling:e.lastChild,s.allowtransparency&&(d.allowTransparency=!0),d},Ad=/^:[\w]+$/,Bd=/:([a-zA-Z_]+):/g,Cd=function(){var i=xc()||"0",e=yc(),s=xc(void 0)||i,o=yc(void 0),c="";s&&(c+="u/"+encodeURIComponent(String(s))+"/"),o&&(c+="b/"+encodeURIComponent(String(o))+"/"),s=c||null,(c=(o=Q("isLoggedIn")===!1)?"_/im/":"")&&(s="");var d=Q("iframes/:socialhost:"),h=Q("iframes/:im_socialhost:");return{socialhost:d,ctx_socialhost:o?h:d,session_index:i,session_delegate:e,session_prefix:s,im_prefix:c}},Dd=function(i,e){return Cd()[e]||""},Ed=function(i){return function(e,s){return i?Cd()[s]||i[s]||"":Cd()[s]||""}},Fd=function(i){var e;return i.match(/^https?%3A/i)&&(e=decodeURIComponent(i)),hb(document,e||i)},Gd=function(i){i=i||"canonical";for(var e=document.getElementsByTagName("link"),s=0,o=e.length;s<o;s++){var c=e[s],d=c.getAttribute("rel");if(d&&d.toLowerCase()==i&&(c=c.getAttribute("href"))&&(c=Fd(c))&&c.match(/^https?:\/\/[\w\-_\.]+/i)!=null)return c}return window.location.href},Hd={se:"0"},Id={post:!0},Jd={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},Kd="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),Ld=A(K,"WI",B()),Md=function(i,e,s){var o,c={},d=o=i;i=="plus"&&e.action&&(o=i+"_"+e.action,d=i+"/"+e.action),(o=Q("iframes/"+o+"/url"))||(o=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+d+"?usegapi=1");for(var h in Hd)c[h]=h+"/"+(e[h]||Hd[h])+"/";if(c=hb(z,o.replace(Bd,Ed(c))),h="iframes/"+i+"/params/",d={},D(e,d),(o=Q("lang")||Q("gwidget/lang"))&&(d.hl=o),Id[i]||(d.origin=window.location.origin||window.location.protocol+"//"+window.location.host),d.exp=Q(h+"exp"),h=Q(h+"location"))for(o=0;o<h.length;o++){var g=h[o];d[g]=x.location[g]}switch(i){case"plus":case"follow":h=d.href,o=e.action?void 0:"publisher",h=(h=typeof h=="string"?h:void 0)?Fd(h):Gd(o),d.url=h,delete d.href;break;case"plusone":h=(h=e.href)?Fd(h):Gd(),d.url=h,h=e.db,o=Q(),h==null&&o&&(h=o.db,h==null&&(h=o.gwidget&&o.gwidget.db)),d.db=h||void 0,h=e.ecp,o=Q(),h==null&&o&&(h=o.ecp,h==null&&(h=o.gwidget&&o.gwidget.ecp)),d.ecp=h||void 0,delete d.href;break;case"signin":d.url=Gd()}K.ILI&&(d.iloader="1"),delete d["data-onload"],delete d.rd;for(var j in Hd)d[j]&&delete d[j];d.gsrc=Q("iframes/:source:"),j=Q("inline/css"),typeof j<"u"&&0<s&&j>=s&&(d.ic="1"),j=/^#|^fr-/,s={};for(var _ in d)C(d,_)&&j.test(_)&&(s[_.replace(j,"")]=d[_],delete d[_]);_=Q("iframes/"+i+"/params/si")=="q"?d:s,j=mc();for(var $ in j)!C(j,$)||C(d,$)||C(s,$)||(_[$]=j[$]);$=[].concat(Kd),(_=Q("iframes/"+i+"/methods"))&&typeof _=="object"&&Na.test(_.push)&&($=$.concat(_));for(var _e in e)C(e,_e)&&/^on/.test(_e)&&(i!="plus"||_e!="onconnect")&&($.push(_e),delete d[_e]);return delete d.callback,s._methods=$.join(","),fb(c,d,s)},Nd=["style","data-gapiscan"],Pd=function(i){for(var e=B(),s=i.nodeName.toLowerCase().indexOf("g:")!=0,o=0,c=i.attributes.length;o<c;o++){var d=i.attributes[o],h=d.name,g=d.value;0<=Oa.call(Nd,h)||s&&h.indexOf("data-")!=0||g==="null"||"specified"in d&&!d.specified||(s&&(h=h.substr(5)),e[h.toLowerCase()]=g)}return i=i.style,(s=Od(i&&i.height))&&(e.height=String(s)),(i=Od(i&&i.width))&&(e.width=String(i)),e},Od=function(i){var e=void 0;return typeof i=="number"?e=i:typeof i=="string"&&(e=parseInt(i,10)),e},Rd=function(){var i=K.drw;sc(function(e){if(i!==e.id&&e.state!=4&&e.type!="share"){var s=e.id,o=e.type,c=e.url;e=e.userParams;var d=z.getElementById(s);if(d){var h=Md(o,e,0);h?(d=d.parentNode,c.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==h.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")&&(e.dontclear=!0,e.rd=!0,e.ri=!0,e.type=o,Qd(d,e),(o=R[d.lastChild.id])&&(o.oid=s),tc(s,4))):delete R[s]}else delete R[s]}})},Sd,Td,X,Ud,Vd,Wd=/(?:^|\s)g-((\S)*)(?:$|\s)/,Xd={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};Sd=A(K,"SW",B()),Td=A(K,"SA",B()),X=A(K,"SM",B()),Ud=A(K,"FW",[]),Vd=null;var Zd=function(i,e){Yd(void 0,!1,i,e)},Yd=function(i,e,s,o){L("ps0",!0),s=(typeof s=="string"?document.getElementById(s):s)||z;var c=z.documentMode;if(s.querySelectorAll&&(!c||8<c)){c=o?[o]:Xa(Sd).concat(Xa(Td)).concat(Xa(X));for(var d=[],h=0;h<c.length;h++){var g=c[h];d.push(".g-"+g,"g\\:"+g)}c=s.querySelectorAll(d.join(","))}else c=s.getElementsByTagName("*");for(s=B(),d=0;d<c.length;d++){h=c[d];var j=h;g=o;var _=j.nodeName.toLowerCase(),$=void 0;if(j.getAttribute("data-gapiscan"))g=null;else{var _e=_.indexOf("g:");_e==0?$=_.substr(2):(_e=(_e=String(j.className||j.getAttribute("class")))&&Wd.exec(_e))&&($=_e[1]),g=!$||!(Sd[$]||Td[$]||X[$])||g&&$!==g?null:$}g&&(Xd[g]||h.nodeName.toLowerCase().indexOf("g:")==0||Xa(Pd(h)).length!=0)&&(h.setAttribute("data-gapiscan",!0),A(s,g,[]).push(h))}if(e)for(var st in s)for(e=s[st],o=0;o<e.length;o++)e[o].setAttribute("data-onload",!0);for(var rt in s)Ud.push(rt);if(L("ps1",!0),(st=Ud.join(":"))||i)try{F.load(st,i)}catch(nt){pc(nt);return}if($d(Vd||{}))for(var it in s){for(i=s[it],rt=0,e=i.length;rt<e;rt++)i[rt].removeAttribute("data-gapiscan");ae(it)}else{o=[];for(it in s)for(i=s[it],rt=0,e=i.length;rt<e;rt++)c=i[rt],be(it,c,Pd(c),o,e);ce(st,o)}},de=function(i){var e=A(F,i,{});e.go||(e.go=function(s){return Zd(s,i)},e.render=function(s,o){return o=o||{},o.type=i,Qd(s,o)})},ee=function(i){Sd[i]=!0},fe=function(i){Td[i]=!0},ge=function(i){X[i]=!0},ae=function(i,e){var s=sb(i);e&&s?(s(e),(s=e.iframeNode)&&s.setAttribute("data-gapiattached",!0)):F.load(i,function(){var o=sb(i),c=e&&e.iframeNode,d=e&&e.userParams;c&&o?(o(e),c.setAttribute("data-gapiattached",!0)):(o=F[i].go,i=="signin2"?o(c,d):o(c&&c.parentNode,d))})},$d=function(){return!1},ce=function(){},be=function(i,e,s,o,c,d,h){switch(he(e,i,d)){case 0:i=X[i]?i+"_annotation":i,o={},o.iframeNode=e,o.userParams=s,ae(i,o);break;case 1:if(e.parentNode){for(var g in s)if((d=C(s,g))&&(d=s[g],d=!!d&&typeof d=="object"&&(!d.toString||d.toString===Object.prototype.toString||d.toString===Array.prototype.toString)),d)try{s[g]=$c(s[g])}catch{delete s[g]}if(d=!0,s.dontclear&&(d=!1),delete s.dontclear,rc(),g=Md(i,s,c),c=h||{},c.allowPost=1,c.attributes=Jd,c.dontclear=!d,h={},h.userParams=s,h.url=g,h.type=i,s.rd)var j=e;else j=document.createElement("div"),e.setAttribute("data-gapistub",!0),j.style.cssText="position:absolute;width:450px;left:-10000px;",e.parentNode.insertBefore(j,e);h.siteElement=j,j.id||(e=j,A(Ld,i,0),d="___"+i+"_"+Ld[i]++,e.id=d),e=B(),e[">type"]=i,D(s,e),d=g,s=j,g=c||{},e=g.attributes||{},E(!(g.allowPost||g.forcePost)||!e.onload,"onload is not supported by post iframe (allowPost or forcePost)"),c=e=d,Ad.test(e)&&(c=Q("iframes/"+c.substring(1)+"/url"),E(!!c,"Unknown iframe url config for - "+e)),d=hb(z,c.replace(Bd,Dd)),e=s.ownerDocument||z,j=0;do c=g.id||["I",xd++,"_",new Date().getTime()].join("");while(e.getElementById(c)&&5>++j);E(5>j,"Error creating iframe id"),j={};var _={};e.documentMode&&9>e.documentMode&&(j.hostiemode=e.documentMode),D(g.queryParams||{},j),D(g.fragmentParams||{},_);var $=g.pfname,_e=B();Q("iframes/dropLegacyIdParam")||(_e.id=c),_e._gfid=c,_e.parent=e.location.protocol+"//"+e.location.host;var st=H(e.location.href,"parent");if($=$||"",!$&&st&&(st=H(e.location.href,"_gfid","")||H(e.location.href,"id",""),$=H(e.location.href,"pfname",""),$=st?$+"/"+st:""),$||(st=Zc(H(e.location.href,"jcp","")))&&typeof st=="object"&&($=($=st.id)?st.pfname+"/"+$:""),_e.pfname=$,g.connectWithJsonParam&&(st={},st.jcp=$c(_e),_e=st),st=H(d,"rpctoken")||j.rpctoken||_.rpctoken,st||(st=g.rpctoken||String(Math.round(1e8*(hd?qd():pd()))),_e.rpctoken=st),g.rpctoken=st,D(_e,g.connectWithQueryParams?j:_),st=e.location.href,_e=B(),($=H(st,"_bsh",K.bsh))&&(_e._bsh=$),(st=qb(st))&&(_e.jsh=st),g.hintInFragment?D(_e,_):D(_e,j),d=fb(d,j,_,g.paramsSerializer),_=B(),D(vd,_),D(g.attributes,_),_.name=_.id=c,_.src=d,g.eurl=d,j=g||{},_e=!!j.allowPost,j.forcePost||_e&&2e3<d.length){if(j=I(d),_.src="",g.dropDataPostorigin||(_["data-postorigin"]=d),d=zd(e,s,_,c),navigator.userAgent.indexOf("WebKit")!=-1){var rt=d.contentWindow.document;rt.open(),_=rt.createElement("div"),_e={},st=c+"_inner",_e.name=st,_e.src="",_e.style="display:none",zd(e,_,_e,st,g)}for(_=(g=j.query[0])?g.split("&"):[],g=[],_e=0;_e<_.length;_e++)st=_[_e].split("=",2),g.push([decodeURIComponent(st[0]),decodeURIComponent(st[1])]);for(j.query=[],_=db(j),E(ib.test(_),"Invalid URL: "+_),j=e.createElement("form"),j.method="POST",j.target=c,j.style.display="none",c=_ instanceof v?_:Fa(_),xa(j,"HTMLFormElement").action=Da(c),c=0;c<g.length;c++)_=e.createElement("input"),_.type="hidden",_.name=g[c][0],_.value=g[c][1],j.appendChild(_);s.appendChild(j),j.submit(),j.parentNode.removeChild(j),rt&&rt.close(),rt=d}else rt=zd(e,s,_,c,g);h.iframeNode=rt,h.id=rt.getAttribute("id"),rt=h.id,s=B(),s.id=rt,s.userParams=h.userParams,s.url=h.url,s.type=h.type,s.state=1,R[rt]=s,rt=h}else rt=null;rt&&((h=rt.id)&&o.push(h),ae(i,rt))}},he=function(i,e,s){if(i&&i.nodeType===1&&e){if(s)return 1;if(X[e]){if(pb[i.nodeName.toLowerCase()])return(i=i.innerHTML)&&i.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(Td[e])return 0;if(Sd[e])return 1}}return null},Qd=function(i,e){var s=e.type;delete e.type;var o=(typeof i=="string"?document.getElementById(i):i)||void 0;if(o){i={};for(var c in e)C(e,c)&&(i[c.toLowerCase()]=e[c]);i.rd=1,(e=!!i.ri)&&delete i.ri,c=[],be(s,o,i,c,0,e,void 0),ce(s,c)}else pc("gapi."+s+".render: missing element "+typeof i=="string"?i:"")};A(F,"platform",{}).go=Zd,$d=function(i){for(var e=["_c","jsl","h"],s=0;s<e.length&&i;s++)i=i[e[s]];return e=qb(La.href),!i||i.indexOf("n;")!=0&&e.indexOf("n;")!=0&&i!==e},ce=function(i,e){ie(i,e)};var lb=function(i){Yd(i,!0)},je=function(i,e){e=e||[];for(var s=0;s<e.length;++s)i(e[s]);for(i=0;i<e.length;i++)de(e[i])};N.push(["platform",function(i,e,s){if(Vd=s,e&&Ud.push(e),je(ee,i),je(fe,s._c.annotation),je(ge,s._c.bimodal),ic(),gc(),Q("parsetags")!="explicit"){if(rb(i),nc(mc())&&!Q("disableRealtimeCallback")&&rc(),s&&(i=s.callback)){var o=Ya(i);delete s.callback}nb(function(){lb(o)})}}]),F._pl=!0;var ke=function(i){if(i=(i=R[i])?i.oid:void 0,i){var e=z.getElementById(i);e&&e.parentNode.removeChild(e),delete R[i],ke(i)}},le=/^\{h:'/,me=/^!_/,ne="",ie=function(i,e){function s(){jb("message",o,"remove","de")}function o(d){var h=d.data,g=d.origin;if(oe(h,e)){var j=c;c=!1,j&&L("rqe"),pe(i,function(){j&&L("rqd"),s();for(var _=A(K,"RPMQ",[]),$=0;$<_.length;$++)_[$]({data:h,origin:g})})}}if(e.length!==0){ne=H(La.href,"pfname","");var c=!0;jb("message",o,"add","at"),ac(i,s)}},oe=function(i,e){if(i=String(i),le.test(i))return!0;var s=!1;if(me.test(i)&&(s=!0,i=i.substr(2)),!/^\{/.test(i))return!1;var o=Zc(i);if(!o)return!1;if(i=o.f,o.s&&i&&Oa.call(e,i)!=-1){if((o.s==="_renderstart"||o.s===ne+"/"+i+"::_renderstart")&&(o=o.a&&o.a[s?0:1],e=z.getElementById(i),tc(i,2),o&&e&&o.width&&o.height)){e:{if(s=e.parentNode,i=o||{},qc()){var c=e.id;if(c){if(o=(o=R[c])?o.state:void 0,o===1||o===4)break e;ke(c)}}(o=s.nextSibling)&&o.getAttribute&&o.getAttribute("data-gapistub")&&(s.parentNode.removeChild(o),s.style.cssText=""),o=i.width;var d=i.height,h=s.style;h.textIndent="0",h.margin="0",h.padding="0",h.background="transparent",h.borderStyle="none",h.cssFloat="none",h.styleFloat="none",h.lineHeight="normal",h.fontSize="1px",h.verticalAlign="baseline",s=s.style,s.display="inline-block",h=e.style,h.position="static",h.left="0",h.top="0",h.visibility="visible",o&&(s.width=h.width=o+"px"),d&&(s.height=h.height=d+"px"),i.verticalAlign&&(s.verticalAlign=i.verticalAlign),c&&tc(c,3)}e["data-csi-wdt"]=new Date().getTime()}return!0}return!1},pe=function(i,e){ac(i,e)},qe=function(i,e){this.L=i,i=e||{},this.fa=Number(i.maxAge)||0,this.U=i.domain,this.X=i.path,this.ga=!!i.secure};qe.prototype.read=function(){for(var i=this.L+"=",e=document.cookie.split(/;\s*/),s=0;s<e.length;++s){var o=e[s];if(o.indexOf(i)==0)return o.substr(i.length)}},qe.prototype.write=function(i,e){if(!re.test(this.L))throw"Invalid cookie name";if(!se.test(i))throw"Invalid cookie value";if(i=this.L+"="+i,this.U&&(i+=";domain="+this.U),this.X&&(i+=";path="+this.X),e=typeof e=="number"?e:this.fa,0<=e){var s=new Date;s.setSeconds(s.getSeconds()+e),i+=";expires="+s.toUTCString()}return this.ga&&(i+=";secure"),document.cookie=i,!0},qe.prototype.clear=function(){this.write("",0)};var se=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,re=/^[A-Z_][A-Z0-9_]{0,63}$/;qe.iterate=function(i){for(var e=document.cookie.split(/;\s*/),s=0;s<e.length;++s){var o=e[s].split("="),c=o.shift();i(c,o.join("="))}};var te=function(i){this.B=i};te.prototype.read=function(){if(Y.hasOwnProperty(this.B))return Y[this.B]},te.prototype.write=function(i){return Y[this.B]=i,!0},te.prototype.clear=function(){delete Y[this.B]};var Y={};te.iterate=function(i){for(var e in Y)Y.hasOwnProperty(e)&&i(e,Y[e])};var ue=window.location.protocol==="https:",ve=ue||window.location.protocol==="http:"?qe:te,we=function(i){var e=i.substr(1),s="",o=window.location.hostname;if(e!==""){if(s=parseInt(e,10),isNaN(s)||(e=o.split("."),e.length<s-1))return null;e.length==s-1&&(o="."+o)}else o="";return{i:i.charAt(0)=="S",domain:o,l:s}},xe=function(){var i,e=null;return ve.iterate(function(s,o){s.indexOf("G_AUTHUSER_")===0&&(s=we(s.substring(11)),!i||s.i&&!i.i||s.i==i.i&&s.l>i.l)&&(i=s,e=o)}),{ea:i,F:e}},ye=function(i){if(i.indexOf("GCSC")!==0)return null;var e={W:!1};if(i=i.substr(4),!i)return e;var s=i.charAt(0);i=i.substr(1);var o=i.lastIndexOf("_");if(o==-1)return e;var c=we(i.substr(o+1));return c==null||(i=i.substring(0,o),i.charAt(0)!=="_")?e:(o=s==="E"&&c.i,!o&&(s!=="U"||c.i)||o&&!ue?e:{W:!0,i:o,ja:i.substr(1),domain:c.domain,l:c.l})},ze=function(i){return i?(i=i.split("="),i[1]?i[1].split("|"):[]):[]},Ae=function(i){return i=i.split(":"),{clientId:i[0].split("=")[1],ia:ze(i[1]),la:ze(i[2]),ka:ze(i[3])}},Be=function(){var i=xe(),e=i.ea;if(i=i.F,i!==null){var s;if(ve.iterate(function(d,h){(d=ye(d))&&d.W&&d.i==e.i&&d.l==e.l&&(s=h)}),s){var o=Ae(s),c=o&&o.ia[Number(i)];if(o=o&&o.clientId,c)return{F:i,ha:c,clientId:o}}}return null},Z=function(){this.T=Ce};Z.prototype.$=function(){this.K||(this.v=0,this.K=!0,this.Y())},Z.prototype.Y=function(){this.K&&(this.T()?this.v=this.R:this.v=Math.min(2*(this.v||this.R),120),window.setTimeout(na(this.Y,this),1e3*this.v))},Z.prototype.v=0,Z.prototype.R=2,Z.prototype.T=null,Z.prototype.K=!1;var Ee=null;qc=function(){return K.oa=!0},rc=function(){K.oa=!0;var i=Be();(i=i&&i.F)&&hc("googleapis.config/sessionIndex",i),Ee||(Ee=A(K,"ss",new Z)),i=Ee,i.$&&i.$()};var Ce=function(){var i=Be(),e=i&&i.ha||null,s=i&&i.clientId;return ac("auth",{callback:function(){var o=x.gapi.auth,c={client_id:s,session_state:e};o.checkSessionState(c,function(d){var h=c.session_state,g=Q("isLoggedIn");d=Q("debug/forceIm")?!1:h&&d||!h&&!d,(g=g!=d)&&(hc("isLoggedIn",d),rc(),Rd(),d||((d=o.signOut)?d():(d=o.setToken)&&d(null))),d=mc();var j=Q("savedUserState");h=o._guss(d.cookiepolicy),j=j!=h&&typeof j<"u",hc("savedUserState",h),(g||j)&&nc(d)&&!Q("disableRealtimeCallback")&&o._pimf(d,!0)})}}),!0};L("bs0",!0,window.gapi._bs),L("bs1",!0),delete window.gapi._bs}).call(void 0);gapi.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!0}},isPlusUser:!1,inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},isLoggedIn:!0,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"pt",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},sharetoclassroom:{url:"https://classroom.google.com/sharewidget?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.pt_BR.l4Bv_WkVC6g.O/am=wQE/d=1/ct=zgms/rs=AGLTcCOuH5S2uqmF6E8zOW7n3yiqiwhzNQ/m=__features__",u:"https://apis.google.com/js/platform.js",hee:!0,fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",dpo:!1},platform:["additnow","backdrop","blogger","comments","commentcount","community","donation","family_creation","follow","hangout","health","page","partnersbadge","person","playemm","playreview","plus","plusone","post","ratingbadge","savetoandroidpay","savetodrive","savetowallet","sharetoclassroom","shortlists","signin2","surveyoptin","visibility","youtube","ytsubscribe","zoomableimage"],fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}});const CLIENT_ID="1013030639423-b95kussvvts4bidb9him7g9o0c16at5o.apps.googleusercontent.com",SCOPES="https://www.googleapis.com/auth/calendar.readonly",OnboardingChecklist=()=>{useNavigate();const{teamId:i}=useParams(),e=useLocation();new URLSearchParams(e.search).get("project");const[o,c]=reactExports.useState([{id:"1",title:"Sign NDA",description:"Review and sign NDA",completed:!1,required:!0,icon:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),action:"Sign Now"},{id:"2",title:"Setup Payment",description:"Configure payment method",completed:!1,required:!0,icon:jsxRuntimeExports.jsx(CreditCard,{className:"w-4 h-4"}),action:"Setup Payment"},{id:"3",title:"Team Introduction",description:"Meet your team",completed:!0,required:!0,icon:jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"})},{id:"4",title:"Learn from the Best",description:"Access training modules",completed:!1,required:!1,icon:jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4"}),action:"View Training"},{id:"5",title:"Project Kickoff Call",description:"Schedule initial call",completed:!1,required:!1,icon:jsxRuntimeExports.jsx(MessageSquare,{className:"w-4 h-4"}),action:"Schedule Call"}]),[d,h]=reactExports.useState([{id:"m1",name:"Milestone 1",percentage:20,description:"Initial project setup and requirements gathering"},{id:"m2",name:"Milestone 2",percentage:30,description:"UI/UX design and prototypes"},{id:"m3",name:"Milestone 3",percentage:30,description:"Development of core features"},{id:"m4",name:"Milestone 4",percentage:20,description:"Testing, bug fixes, and deployment"}]),[g,j]=reactExports.useState(!1),[_,$]=reactExports.useState(!1),[_e,st]=reactExports.useState(!1),[rt,it]=reactExports.useState(!1),[nt,lt]=reactExports.useState([]);reactExports.useEffect(()=>{gapi.load("client:auth2",()=>{gapi.client.init({clientId:CLIENT_ID,scope:SCOPES,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]})})},[]);const ot=async()=>{const At=gapi.auth2.getAuthInstance();At.isSignedIn.get()||await At.signIn({prompt:"consent",redirect_uri:"http://localhost:3000/oauth2callback"})},at=async()=>{try{await ot();const Rt=(await gapi.client.calendar.events.list({calendarId:"primary",maxResults:10,singleEvents:!0,orderBy:"startTime"})).result.items||[];lt(Rt),Rt.length===0?alert("No upcoming events found."):console.log("Upcoming events:",Rt)}catch(At){console.error("Error fetching events:",At),alert("Failed to fetch events.")}},ct=At=>{c(o.map(Rt=>Rt.id===At?{...Rt,completed:!Rt.completed}:Rt))},ut=At=>{At.id==="1"?it(!0):At.id==="2"?st(!0):At.id==="4"?window.location.href="/training":At.id==="5"&&at()},ht=()=>{c(o.map(At=>At.id==="2"?{...At,completed:!0}:At))},mt=()=>{c(o.map(At=>At.id==="1"?{...At,completed:!0}:At))},xt=o.filter(At=>At.completed).length,Et=o.filter(At=>At.required).length,Tt=o.filter(At=>At.completed&&At.required).length,St=xt===o.length;reactExports.useEffect(()=>{St&&!_&&(j(!0),$(!0))},[St,_]);const gt=At=>{h(d.map(Rt=>Rt.id===At?{...Rt,archived:!0}:Rt))},Ct=At=>{h(d.map(Rt=>Rt.id===At?{...Rt,approved:!0,paymentReleased:!0}:Rt))};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ConfettiAnimation,{show:g,onComplete:()=>j(!1)}),jsxRuntimeExports.jsxs(Card,{className:"p-6 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center mb-6",children:jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Onboarding Checklist"})}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:o.map(At=>jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsx(Checkbox,{checked:At.completed,onCheckedChange:()=>ct(At.id),className:"mt-1"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[At.icon,jsxRuntimeExports.jsx("h4",{className:`font-medium ${At.completed?"line-through text-gray-500":""}`,children:At.title}),At.required&&jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:"Required"}),At.completed&&jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4 text-green-600"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-2",children:At.description}),At.action&&!At.completed&&jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>ut(At),children:At.action})]})]},At.id))}),Tt<Et&&jsxRuntimeExports.jsxs("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg flex items-center space-x-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-4 h-4 text-amber-600"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-amber-700",children:"Please complete all required items to proceed with the project."})]})]}),nt.length>0&&jsxRuntimeExports.jsxs(Card,{className:"p-6 mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Upcoming Google Calendar Events"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:nt.map(At=>jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:At.summary||"No title"}),"  ",At.start.dateTime||At.start.date]},At.id))})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6 mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Project Milestones"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:d.map(At=>jsxRuntimeExports.jsxs("div",{className:"p-3 border rounded-lg hover:bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:At.name}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:[At.percentage,"% of budget"]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-2",children:At.description}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[!At.archived&&jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:()=>gt(At.id),children:"Archive"}),At.archived&&!At.approved&&jsxRuntimeExports.jsx(Button,{size:"sm",variant:"secondary",onClick:()=>Ct(At.id),children:"Approve (Client)"}),At.paymentReleased&&jsxRuntimeExports.jsx(Badge,{variant:"success",children:"Payment Released"})]})]},At.id))})]}),jsxRuntimeExports.jsx(PaymentModal,{isOpen:_e,onClose:()=>st(!1),onPaymentSuccess:ht,project:{name:"E-commerce Platform",milestone:"Project Setup & Planning",amount:3e3}}),jsxRuntimeExports.jsx(NDAModal,{isOpen:rt,onClose:()=>it(!1),onSigned:mt,projectData:{name:"E-commerce Platform Development",clientName:"Client Company LLC",teamName:"Development Team Inc"}})]})};function HireChecklist(){const{teamId:i}=useParams(),e=useNavigate();return new URLSearchParams(useLocation().search).get("project"),jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Before you hire"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Complete these items to kick off with your selected team."}),jsxRuntimeExports.jsx(OnboardingChecklist,{}),jsxRuntimeExports.jsx("div",{className:"mt-8 flex justify-end",children:jsxRuntimeExports.jsx("button",{className:"px-4 py-2 rounded-md bg-primary text-primary-foreground",onClick:()=>e("/projects"),children:"Continue to Project"})})]})}function Skeleton({className:i,animated:e=!0,...s}){return jsxRuntimeExports.jsx("div",{className:cn("rounded-md bg-muted/70",e&&"animate-pulse",i),...s})}const ProjectDetail=()=>{const{id:i}=useParams(),e=useNavigate(),[s,o]=reactExports.useState(null),[c,d]=reactExports.useState(!0),[h,g]=reactExports.useState(null);return reactExports.useEffect(()=>{(async()=>{if(!i){g("Project ID is required"),d(!1);return}try{const{data:_,error:$}=await supabase$1.from("projects").select("id, title, description, skills_required, status, created_at, budget, timeline").eq("id",i).single();$?($.code==="PGRST116"?g("Project not found"):g(`Error: ${$.message}`),o(null)):o(_)}catch(_){g("Failed to fetch project"),console.error("Error fetching project:",_)}finally{d(!1)}})()},[i]),c?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx(Skeleton,{className:"h-10 w-32 mb-6"}),jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsx(Skeleton,{className:"h-8 w-3/4 mb-4"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-full mb-2"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-2/3 mb-4"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-4",children:[jsxRuntimeExports.jsx(Skeleton,{className:"h-6 w-16"}),jsxRuntimeExports.jsx(Skeleton,{className:"h-6 w-20"})]}),jsxRuntimeExports.jsx(Skeleton,{className:"h-4 w-1/3"})]})]})}):h?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",className:"mb-6",onClick:()=>e("/projects"),children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Projects"]}),jsxRuntimeExports.jsx(Card,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-red-600",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:h})]})})]})}):s?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",className:"mb-6",onClick:()=>e("/projects"),children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Projects"]}),jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:s.title}),jsxRuntimeExports.jsx(Badge,{variant:s.status==="open"?"default":"secondary",className:"mb-4",children:s.status})]}),s.description&&jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Description"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.description})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Required Skills"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:Array.isArray(s.skills_required)&&s.skills_required.length>0?s.skills_required.map((j,_)=>jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-sm",children:j},_)):jsxRuntimeExports.jsx("span",{className:"text-gray-500 text-sm",children:"No specific skills listed"})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.budget&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4 text-green-600"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600",children:["Budget: $",s.budget.toLocaleString()]})]}),s.timeline&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4 text-blue-600"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600",children:["Timeline: ",s.timeline]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-4 h-4 text-gray-600"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-600",children:["Created: ",new Date(s.created_at).toLocaleDateString()]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(Button,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>e(`/project-dashboard/${i}`),children:"Apply to Project"}),jsxRuntimeExports.jsx(Button,{variant:"outline",children:"Save Project"})]})]})]})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",className:"mb-6",onClick:()=>e("/projects"),children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Projects"]}),jsxRuntimeExports.jsx(Card,{className:"p-6",children:jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Project not found"})})]})})};function DynamicProjectDashboard({dashboard:i}){var _;if(!i)return jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})});const[e,s]=reactExports.useState(null),[o,c]=reactExports.useState(null),[d,h]=reactExports.useState(null),[g,j]=reactExports.useState(!0);return reactExports.useEffect(()=>{let $=!1;async function _e(){j(!0);const[st,rt,it]=await Promise.all([supabase$1.from("project_milestones").select("*").eq("project_id",i.id),supabase$1.from("project_files").select("*").eq("project_id",i.id),supabase$1.from("project_payments").select("*").eq("project_id",i.id)]);$||(s(st.data??[]),c(rt.data??[]),h(it.data??[]),j(!1))}return _e(),()=>{$=!0}},[i.id]),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("header",{className:"border-b pb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:i.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2",children:i.description||"No description provided"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",children:"Kickoff Call"}),jsxRuntimeExports.jsx(Button,{children:"Start Chat"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:Array.isArray(i.skills_required)&&i.skills_required.length>0?i.skills_required.map(($,_e)=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:$},_e)):jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"General"})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Project Progress"})}),jsxRuntimeExports.jsx(CardContent,{children:g?jsxRuntimeExports.jsx("div",{className:"h-3 w-full bg-gray-200 animate-pulse rounded"}):jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Progress,{value:35,className:"h-3"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"35% complete"})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Project Milestones"})}),jsxRuntimeExports.jsx(CardContent,{children:g?jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Loading milestones"}):e!=null&&e.length?jsxRuntimeExports.jsx("div",{className:"space-y-3",children:e.map($=>jsxRuntimeExports.jsxs("div",{className:"p-3 rounded-lg border bg-gray-50",children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:$.title}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mt-1",children:$.status})]},$.id))}):jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No milestones yet."})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Smart Team Suggestions"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"text-gray-600",children:(_=i.teams)!=null&&_.length?`${i.teams.length} team(s) linked`:"No teams linked yet."})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"File Manager"})}),jsxRuntimeExports.jsx(CardContent,{children:g?jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Loading files"}):o!=null&&o.length?jsxRuntimeExports.jsx("div",{className:"space-y-2",children:o.map($=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-2 rounded border",children:[jsxRuntimeExports.jsx("span",{className:"text-sm",children:$.name}),jsxRuntimeExports.jsx(Button,{variant:"link",size:"sm",children:"Download"})]},$.id))}):jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No files uploaded."})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Payment History"})}),jsxRuntimeExports.jsx(CardContent,{children:g?jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Loading payments"}):d!=null&&d.length?jsxRuntimeExports.jsx("div",{className:"space-y-2",children:d.map($=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-2 rounded border",children:[jsxRuntimeExports.jsx("span",{className:"text-sm",children:$.label||"Milestone payment"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["$",$.amount]})]},$.id))}):jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"No payments yet."})})]})]})]})]})}function ProjectChatPanel({projectId:i,userId:e,userName:s,userAvatar:o}){const[c,d]=reactExports.useState([]),[h,g]=reactExports.useState(""),[j,_]=reactExports.useState(!0),[$,_e]=reactExports.useState(!1),[st,rt]=reactExports.useState(!1),[it,nt]=reactExports.useState([]),lt=reactExports.useRef(null),ot=reactExports.useRef(null);reactExports.useEffect(()=>(ct(),ut(),ht(),()=>{supabase$1.removeAllChannels()}),[i]),reactExports.useEffect(()=>{at()},[c]);const at=()=>{var gt;(gt=lt.current)==null||gt.scrollIntoView({behavior:"smooth"})},ct=async()=>{try{const{data:gt,error:Ct}=await supabase$1.from("chat_messages").select("*").eq("project_id",i).order("created_at",{ascending:!0}).limit(100);if(Ct)throw Ct;d(gt||[])}catch(gt){console.error("Error fetching messages:",gt),ue.error("Failed to load messages")}finally{_(!1)}},ut=()=>{const gt=supabase$1.channel(`project-chat-${i}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`project_id=eq.${i}`},Ct=>{const At=Ct.new;d(Rt=>[...Rt,At])}).subscribe();return()=>{supabase$1.removeChannel(gt)}},ht=()=>{const gt=supabase$1.channel(`presence-${i}`,{config:{presence:{key:e}}});gt.on("presence",{event:"sync"},()=>{const Ct=gt.presenceState();nt(Object.keys(Ct))}).subscribe(async Ct=>{Ct==="SUBSCRIBED"&&await gt.track({user_id:e,user_name:s})})},mt=async gt=>{if(gt.preventDefault(),!(!h.trim()||$)){_e(!0);try{const{error:Ct}=await supabase$1.from("chat_messages").insert([{project_id:i,message:h,user_id:e,user_name:s,user_avatar:o,message_type:"text"}]);if(Ct)throw Ct;g("")}catch(Ct){console.error("Error sending message:",Ct),ue.error("Failed to send message")}finally{_e(!1)}}},xt=async gt=>{var At;const Ct=(At=gt.target.files)==null?void 0:At[0];if(Ct){rt(!0);try{const Rt=`${Date.now()}-${Ct.name}`,{error:kt}=await supabase$1.storage.from("project-files").upload(`${i}/chat/${Rt}`,Ct);if(kt)throw kt;const{data:Mt}=supabase$1.storage.from("project-files").getPublicUrl(`${i}/chat/${Rt}`),It=Ct.type.startsWith("image/")?"image":"file",{error:Nt}=await supabase$1.from("chat_messages").insert([{project_id:i,message:`Shared ${It}: ${Ct.name}`,user_id:e,user_name:s,user_avatar:o,message_type:It,file_url:Mt.publicUrl,file_name:Ct.name,file_size:Ct.size}]);if(Nt)throw Nt;ue.success("File shared successfully")}catch(Rt){console.error("Error uploading file:",Rt),ue.error("Failed to upload file")}finally{rt(!1)}}},Et=gt=>{if(gt===0)return"0 Bytes";const Ct=1024,At=["Bytes","KB","MB","GB"],Rt=Math.floor(Math.log(gt)/Math.log(Ct));return parseFloat((gt/Math.pow(Ct,Rt)).toFixed(2))+" "+At[Rt]},Tt=()=>{ue.info("Video call feature coming soon!")},St=()=>{ue.info("Voice call feature coming soon!")};return j?jsxRuntimeExports.jsx("div",{className:"p-4",children:"Loading chat..."}):jsxRuntimeExports.jsxs(Card,{className:"h-[600px] flex flex-col",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{children:"Project Chat"}),jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"flex items-center space-x-1",children:[jsxRuntimeExports.jsx(Users,{className:"h-3 w-3"}),jsxRuntimeExports.jsxs("span",{children:[it.length," online"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:St,children:jsxRuntimeExports.jsx(Phone,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:Tt,children:jsxRuntimeExports.jsx(Video,{className:"h-4 w-4"})})]})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"flex-1 flex flex-col p-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[c.length===0?jsxRuntimeExports.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No messages yet. Start the conversation!"}):c.map(gt=>jsxRuntimeExports.jsxs("div",{className:`flex items-start space-x-3 ${gt.user_id===e?"flex-row-reverse space-x-reverse":""}`,children:[jsxRuntimeExports.jsxs(Avatar,{className:"w-8 h-8",children:[jsxRuntimeExports.jsx(AvatarImage,{src:gt.user_avatar}),jsxRuntimeExports.jsx(AvatarFallback,{children:gt.user_name.charAt(0).toUpperCase()})]}),jsxRuntimeExports.jsxs("div",{className:`flex-1 max-w-xs ${gt.user_id===e?"text-right":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-sm",children:gt.user_name}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(gt.created_at).toLocaleTimeString()})]}),gt.message_type==="image"&&gt.file_url?jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsx("img",{src:gt.file_url,alt:gt.file_name,className:"max-w-full h-auto rounded-lg cursor-pointer",onClick:()=>window.open(gt.file_url,"_blank")}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:gt.file_name})]}):gt.message_type==="file"&&gt.file_url?jsxRuntimeExports.jsx("div",{className:"mt-2 p-3 border rounded-lg bg-muted",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:gt.file_name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:gt.file_size?Et(gt.file_size):""})]}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",asChild:!0,children:jsxRuntimeExports.jsx("a",{href:gt.file_url,download:!0,target:"_blank",rel:"noopener noreferrer",children:jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"})})})]})}):jsxRuntimeExports.jsx("div",{className:`mt-1 p-3 rounded-lg ${gt.user_id===e?"bg-primary text-primary-foreground ml-auto":"bg-muted"}`,children:jsxRuntimeExports.jsx("p",{className:"text-sm",children:gt.message})})]})]},gt.id)),jsxRuntimeExports.jsx("div",{ref:lt})]}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t",children:jsxRuntimeExports.jsxs("form",{onSubmit:mt,className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{ref:ot,type:"file",onChange:xt,className:"hidden",accept:"image/*,.pdf,.doc,.docx,.txt"}),jsxRuntimeExports.jsx(Button,{type:"button",size:"sm",variant:"outline",onClick:()=>{var gt;return(gt=ot.current)==null?void 0:gt.click()},disabled:st,children:jsxRuntimeExports.jsx(Paperclip,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Input,{value:h,onChange:gt=>g(gt.target.value),placeholder:"Type your message...",className:"flex-1",disabled:$}),jsxRuntimeExports.jsx(Button,{type:"submit",size:"sm",disabled:$||!h.trim(),children:jsxRuntimeExports.jsx(Send,{className:"h-4 w-4"})})]})})]})]})}async function uploadProjectFile(i,e){const{data:{user:s},error:o}=await supabase$1.auth.getUser();if(o||!s)throw o||new Error("Not signed in");const c=`${i}/${e.name}`,{error:d}=await supabase$1.storage.from("project-files").upload(c,e,{upsert:!1});if(d)throw d;const{error:h}=await supabase$1.from("project_files").insert({project_id:i,name:e.name,url:c,size_bytes:e.size});if(h)throw await supabase$1.storage.from("project-files").remove([c]),h;return c}async function listProjectFiles(i){const{data:e,error:s}=await supabase$1.from("project_files").select("id, name, size_bytes, created_at, url").eq("project_id",i).order("created_at",{ascending:!1});if(s)throw s;return e}async function deleteProjectFile(i,e,s){const{error:o}=await supabase$1.storage.from("project-files").remove([s]);if(o)throw o;const{error:c}=await supabase$1.from("project_files").delete().eq("id",e).eq("project_id",i);if(c)throw c}function ProjectFileManager({projectId:i,userId:e}){const[s,o]=reactExports.useState([]),[c,d]=reactExports.useState(!1),[h,g]=reactExports.useState(!0);reactExports.useEffect(()=>{j()},[i]);const j=async()=>{try{const rt=await listProjectFiles(i);o(rt)}catch(rt){console.error("Error fetching files:",rt),ue.error("Failed to load files")}finally{g(!1)}},_=async rt=>{var nt;const it=(nt=rt.target.files)==null?void 0:nt[0];if(it){d(!0);try{await uploadProjectFile(i,it),ue.success("File uploaded successfully"),j()}catch(lt){console.error("Error uploading file:",lt),ue.error("Failed to upload file")}finally{d(!1),rt.target.value=""}}},$=async rt=>{try{await deleteProjectFile(i,rt.id,rt.name),ue.success("File deleted successfully"),j()}catch(it){console.error("Error deleting file:",it),ue.error("Failed to delete file")}},_e=rt=>{var nt;const it=(nt=rt.split(".").pop())==null?void 0:nt.toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(it||"")?jsxRuntimeExports.jsx(Image$2,{className:"h-4 w-4"}):["pdf","doc","docx"].includes(it||"")?jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(File$1,{className:"h-4 w-4"})},st=rt=>{if(rt===0)return"0 Bytes";const it=1024,nt=["Bytes","KB","MB","GB"],lt=Math.floor(Math.log(rt)/Math.log(it));return parseFloat((rt/Math.pow(it,lt)).toFixed(2))+" "+nt[lt]};return h?jsxRuntimeExports.jsx("div",{className:"p-4",children:"Loading files..."}):jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:["Project Files",jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Input,{type:"file",onChange:_,disabled:c,className:"hidden",id:"file-upload"}),jsxRuntimeExports.jsxs(Button,{onClick:()=>{var rt;return(rt=document.getElementById("file-upload"))==null?void 0:rt.click()},disabled:c,size:"sm",children:[jsxRuntimeExports.jsx(Upload,{className:"h-4 w-4 mr-2"}),c?"Uploading...":"Upload"]})]})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-3",children:s.length===0?jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No files uploaded yet. Upload your first file to get started."}):s.map(rt=>{var it;return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[_e(rt.name),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:rt.name.split("_").slice(1).join("_")}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[st(rt.size_bytes),"  ",new Date(rt.created_at).toLocaleDateString()]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",children:(it=rt.name.split(".").pop())==null?void 0:it.toUpperCase()}),rt.url&&jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",asChild:!0,children:jsxRuntimeExports.jsx("a",{href:rt.url,download:!0,target:"_blank",rel:"noopener noreferrer",children:jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:()=>$(rt),className:"text-red-600 hover:text-red-700",children:jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"})})]})]},rt.id)})})})]})}function ProjectMilestones({projectId:i,userId:e,isClient:s}){const[o,c]=reactExports.useState([]),[d,h]=reactExports.useState(!0),[g,j]=reactExports.useState(!1),[_,$]=reactExports.useState({title:"",description:"",due_date:"",amount:0});reactExports.useEffect(()=>{_e()},[i]);const _e=async()=>{try{const{data:at,error:ct}=await supabase$1.from("milestones").select("*").eq("project_id",i).order("created_at",{ascending:!0});if(ct)throw ct;c(at||[])}catch(at){console.error("Error fetching milestones:",at),ue.error("Failed to load milestones")}finally{h(!1)}},st=async()=>{if(_.title.trim()){j(!0);try{const{error:at}=await supabase$1.from("milestones").insert([{..._,project_id:i,status:"pending",created_by:e}]);if(at)throw at;ue.success("Milestone created successfully"),$({title:"",description:"",due_date:"",amount:0}),_e()}catch(at){console.error("Error creating milestone:",at),ue.error("Failed to create milestone")}finally{j(!1)}}},rt=async(at,ct)=>{try{const{error:ut}=await supabase$1.from("milestones").update({status:ct}).eq("id",at);if(ut)throw ut;ue.success("Milestone updated successfully"),_e()}catch(ut){console.error("Error updating milestone:",ut),ue.error("Failed to update milestone")}},it=at=>{switch(at){case"completed":case"paid":return jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-500"});default:return jsxRuntimeExports.jsx(Circle,{className:"h-5 w-5 text-gray-400"})}},nt=at=>{switch(at){case"completed":return"bg-green-100 text-green-800";case"paid":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},lt=o.filter(at=>at.status==="completed"||at.status==="paid").length,ot=o.length>0?lt/o.length*100:0;return d?jsxRuntimeExports.jsx("div",{className:"p-4",children:"Loading milestones..."}):jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:["Project Milestones",jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:[lt,"/",o.length," completed"]}),s&&jsxRuntimeExports.jsxs(Dialog,{children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{size:"sm",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Add Milestone"]})}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Create New Milestone"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Milestone title",value:_.title,onChange:at=>$({..._,title:at.target.value})}),jsxRuntimeExports.jsx(Textarea,{placeholder:"Description",value:_.description,onChange:at=>$({..._,description:at.target.value})}),jsxRuntimeExports.jsx(Input,{type:"date",value:_.due_date,onChange:at=>$({..._,due_date:at.target.value})}),jsxRuntimeExports.jsx(Input,{type:"number",placeholder:"Amount ($)",value:_.amount,onChange:at=>$({..._,amount:Number(at.target.value)})}),jsxRuntimeExports.jsx(Button,{onClick:st,disabled:g,className:"w-full",children:g?"Creating...":"Create Milestone"})]})]})]})]})]}),jsxRuntimeExports.jsx(Progress,{value:ot,className:"w-full"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:o.length===0?jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No milestones created yet. Add your first milestone to track progress."}):o.map(at=>jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-4 p-4 border rounded-lg",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{const ct=at.status==="pending"?"in_progress":at.status==="in_progress"?"completed":at.status;ct!==at.status&&rt(at.id,ct)},className:"mt-1",children:it(at.status)}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:at.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Badge,{className:nt(at.status),children:at.status.replace("_"," ")}),at.amount>0&&jsxRuntimeExports.jsxs(Badge,{variant:"outline",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-3 w-3 mr-1"}),"$",at.amount]})]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:at.description}),at.due_date&&jsxRuntimeExports.jsxs("div",{className:"flex items-center mt-2 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-4 w-4 mr-1"}),"Due: ",new Date(at.due_date).toLocaleDateString()]})]})]},at.id))})})]})}async function getProjectTeamMembers(i){const{data:e,error:s}=await supabase$1.from("project_team_members_view").select("*").eq("project_id",i).order("full_name",{ascending:!0});return s?(console.error("Error fetching team members:",s),{data:[],error:s}):{data:e??[],error:null}}function ProjectTeamManagement({projectId:i,userId:e,isClient:s}){const[o,c]=reactExports.useState([]),[d,h]=reactExports.useState(!0),[g,j]=reactExports.useState(!1),[_,$]=reactExports.useState({email:"",role:"",message:""});reactExports.useEffect(()=>{_e()},[i]);const _e=async()=>{try{const{data:nt,error:lt}=await getProjectTeamMembers(i);if(lt)throw lt;const ot=(nt==null?void 0:nt.map(at=>({id:at.user_id,name:at.full_name||"Unknown",email:at.user_id,role:at.role||"Team Member",avatar_url:at.avatar_url,skills:[],rating:0,joined_at:new Date().toISOString(),status:"active"})))||[];c(ot)}catch(nt){console.error("Error fetching team members:",nt),ue.error("Failed to load team members")}finally{h(!1)}},st=async()=>{if(_.email.trim()){j(!0);try{const{error:nt}=await supabase$1.functions.invoke("resend-email",{body:{to:_.email,subject:"Project Team Invitation",html:`
            <h2>You've been invited to join a project team!</h2>
            <p>Role: ${_.role}</p>
            <p>Message: ${_.message}</p>
            <p>Click <a href="${window.location.origin}/projects/${i}">here</a> to join the project.</p>
          `}});if(nt)throw nt;ue.success("Team member invited successfully"),$({email:"",role:"",message:""})}catch(nt){console.error("Error inviting team member:",nt),ue.error("Failed to send invitation")}finally{j(!1)}}},rt=nt=>{ue.info("Video call feature coming soon!")},it=nt=>{ue.info("Direct messaging feature coming soon!")};return d?jsxRuntimeExports.jsx("div",{className:"p-4",children:"Loading team members..."}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Users,{className:"h-5 w-5"}),"Team Members (",o.length,")"]}),s&&jsxRuntimeExports.jsxs(Dialog,{children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{size:"sm",children:[jsxRuntimeExports.jsx(UserPlus,{className:"h-4 w-4 mr-2"}),"Invite Member"]})}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Invite Team Member"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Email address",type:"email",value:_.email,onChange:nt=>$({..._,email:nt.target.value})}),jsxRuntimeExports.jsx(Input,{placeholder:"Role (e.g., Developer, Designer)",value:_.role,onChange:nt=>$({..._,role:nt.target.value})}),jsxRuntimeExports.jsx(Textarea,{placeholder:"Personal message (optional)",value:_.message,onChange:nt=>$({..._,message:nt.target.value})}),jsxRuntimeExports.jsx(Button,{onClick:st,disabled:g,className:"w-full",children:g?"Sending...":"Send Invitation"})]})]})]})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:o.length===0?jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No team members yet. Invite your first team member to get started."}):o.map(nt=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs(Avatar,{children:[jsxRuntimeExports.jsx(AvatarImage,{src:nt.avatar_url}),jsxRuntimeExports.jsx(AvatarFallback,{children:nt.name.split(" ").map(lt=>lt[0]).join("")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:nt.name}),nt.rating>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Star,{className:"h-4 w-4 text-yellow-400 fill-current"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground ml-1",children:nt.rating.toFixed(1)})]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:nt.role}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[nt.skills.slice(0,3).map((lt,ot)=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:lt},ot)),nt.skills.length>3&&jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"text-xs",children:["+",nt.skills.length-3," more"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:()=>it(nt.id),children:jsxRuntimeExports.jsx(MessageCircle,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:()=>window.location.href=`mailto:${nt.email}`,children:jsxRuntimeExports.jsx(Mail,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:()=>rt(nt.id),children:jsxRuntimeExports.jsx(Phone,{className:"h-4 w-4"})})]})]},nt.id))})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Team Statistics"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-blue-600",children:o.length}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Members"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-green-600",children:o.filter(nt=>nt.status==="active").length}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"Active"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:o.reduce((nt,lt)=>nt+lt.rating,0)/o.length||0}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Rating"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(o.flatMap(nt=>nt.skills)).size}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"Unique Skills"})]})]})})]})]})}function ProjectOverview({project:i,projectId:e,userId:s}){const[o,c]=reactExports.useState([]),[d,h]=reactExports.useState([]),[g,j]=reactExports.useState([]),[_,$]=reactExports.useState(!0);reactExports.useEffect(()=>{async function it(){try{const{data:nt}=await supabase$1.from("milestones").select("*").eq("project_id",e).order("due_date",{ascending:!0}),{data:lt}=await getProjectTeamMembers(e);c(nt||[]),h(lt||[])}catch(nt){console.error("Error fetching overview data:",nt)}finally{$(!1)}}it()},[e]);const _e=o.filter(it=>it.status==="completed").length,st=o.length,rt=st>0?Math.round(_e/st*100):0;return _?jsxRuntimeExports.jsxs("div",{className:"animate-pulse space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"h-32 bg-gray-200 rounded"}),jsxRuntimeExports.jsx("div",{className:"h-32 bg-gray-200 rounded"})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Calendar,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:"Project Timeline"})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Started"}),jsxRuntimeExports.jsx("span",{children:new Date(i.created_at).toLocaleDateString()})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Status"}),jsxRuntimeExports.jsx(Badge,{variant:"outline",children:i.status})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Budget"}),jsxRuntimeExports.jsxs("span",{children:["$",i.budget||"Not set"]})]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:"Progress"})]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Completion"}),jsxRuntimeExports.jsxs("span",{children:[rt,"%"]})]}),jsxRuntimeExports.jsx(Progress,{value:rt,className:"w-full"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[_e," of ",st," milestones completed"]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Users,{className:"h-5 w-5"}),jsxRuntimeExports.jsx("span",{children:"Team"})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"flex -space-x-2",children:[d.slice(0,3).map(it=>{var nt;return jsxRuntimeExports.jsxs(Avatar,{className:"border-2 border-background",children:[jsxRuntimeExports.jsx(AvatarImage,{src:it.avatar_url}),jsxRuntimeExports.jsx(AvatarFallback,{children:(nt=it.full_name[0])==null?void 0:nt.toUpperCase()})]},it.user_id)}),d.length>3&&jsxRuntimeExports.jsx(Avatar,{className:"border-2 border-background",children:jsxRuntimeExports.jsxs(AvatarFallback,{children:["+",d.length-3]})})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[d.length," team member",d.length!==1?"s":""]})]})]})]})})}function ProjectDashboardPage(){var $,_e;const{projectId:i}=useParams(),e=useNavigate(),[s,o]=reactExports.useState(null),[c,d]=reactExports.useState(!0),[h,g]=reactExports.useState("overview"),[j,_]=reactExports.useState(null);return reactExports.useEffect(()=>{async function st(){if(!i)return;const{data:{user:rt}}=await supabase$1.auth.getUser();_(rt);const{data:it,error:nt}=await supabase$1.from("project_dashboard_view").select("*").eq("id",i).single();nt?console.error("Error fetching project:",nt):o(it),d(!1)}st()},[i]),c?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})})}):!s||!i?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",onClick:()=>e("/projects"),children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back to Projects"]}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-600",children:"Project not found"})]})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50",children:jsxRuntimeExports.jsx("div",{className:"bg-white border-b",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",onClick:()=>e("/projects"),children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:s.description}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Array.isArray(s.skills_required)&&s.skills_required.length>0?s.skills_required.map((st,rt)=>jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:st},rt)):jsxRuntimeExports.jsx(Badge,{variant:"outline",children:"No skills specified"})})]})]})}),jsxRuntimeExports.jsxs(Tabs,{value:h,onValueChange:g,className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-5",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"overview",children:"Overview"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"chat",children:"Chat"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"files",children:"Files"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"milestones",children:"Milestones"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"team",children:"Team"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"overview",className:"space-y-6 mt-6",children:jsxRuntimeExports.jsx(ProjectOverview,{project:s,projectId:i,userId:(j==null?void 0:j.id)||""})}),jsxRuntimeExports.jsx(TabsContent,{value:"chat",className:"mt-6",children:jsxRuntimeExports.jsx(ProjectChatPanel,{projectId:i,userId:(j==null?void 0:j.id)||"",userName:(($=j==null?void 0:j.email)==null?void 0:$.split("@")[0])||"User",userAvatar:(_e=j==null?void 0:j.user_metadata)==null?void 0:_e.avatar_url})}),jsxRuntimeExports.jsx(TabsContent,{value:"files",className:"mt-6",children:jsxRuntimeExports.jsx(ProjectFileManager,{projectId:i,userId:(j==null?void 0:j.id)||""})}),jsxRuntimeExports.jsx(TabsContent,{value:"milestones",className:"mt-6",children:jsxRuntimeExports.jsx(ProjectMilestones,{projectId:i,userId:(j==null?void 0:j.id)||"",isClient:!0})}),jsxRuntimeExports.jsx(TabsContent,{value:"team",className:"mt-6",children:jsxRuntimeExports.jsx(ProjectTeamManagement,{projectId:i,userId:(j==null?void 0:j.id)||"",isClient:!0})})]})]})})})}const queryClient=new QueryClient,App=()=>(reactExports.useEffect(()=>{(async()=>{const i=typeof window<"u"&&window.location.hash.includes("access_token"),e=typeof window<"u"&&window.location.search.includes("code=");if(!i&&!e)return;let s=null;if(i){s=(await supabase$1.auth.getSessionFromUrl({storeSession:!0})).error;const g=window.location.pathname+window.location.search;window.history.replaceState({},"",g)}else if(e){const g=new URLSearchParams(window.location.search).get("code");g&&(s=(await supabase$1.auth.exchangeCodeForSession({code:g})).error)}if(s){window.location.replace(ROUTES.signin);return}const o=new URLSearchParams(window.location.search),c=o.get("next")||ROUTES.start;o.get("intent");const d=c;window.location.replace(d)})()},[]),jsxRuntimeExports.jsx(ThemeProvider,{defaultTheme:"light",children:jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsxs(TooltipProvider,{children:[jsxRuntimeExports.jsx(Toaster$1,{}),jsxRuntimeExports.jsx(Toaster,{}),jsxRuntimeExports.jsxs(BrowserRouter,{children:[jsxRuntimeExports.jsx(Navigation,{}),jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/signin",element:jsxRuntimeExports.jsx(Login,{})}),jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Index,{})}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(Login,{})}),jsxRuntimeExports.jsx(Route,{path:"/forgot-password",element:jsxRuntimeExports.jsx(ForgotPassword,{})}),jsxRuntimeExports.jsx(Route,{path:"/auth/reset",element:jsxRuntimeExports.jsx(ResetPassword,{})}),jsxRuntimeExports.jsx(Route,{path:"/signup",element:jsxRuntimeExports.jsx(SignUp,{})}),jsxRuntimeExports.jsx(Route,{path:"/analytics",element:jsxRuntimeExports.jsx(Analytics,{})}),jsxRuntimeExports.jsx(Route,{path:"/training",element:jsxRuntimeExports.jsx(Training,{})}),jsxRuntimeExports.jsx(Route,{path:"/start",element:jsxRuntimeExports.jsx(ChooseYourPath,{})}),jsxRuntimeExports.jsx(Route,{path:"/support",element:jsxRuntimeExports.jsx(Support,{})}),jsxRuntimeExports.jsx(Route,{path:"/proposals",element:jsxRuntimeExports.jsx(Proposals,{})}),jsxRuntimeExports.jsx(Route,{path:"/team-match",element:jsxRuntimeExports.jsx(TeamMatch$1,{})}),jsxRuntimeExports.jsx(Route,{path:"/team-profile",element:jsxRuntimeExports.jsx(TeamProfile,{})}),jsxRuntimeExports.jsx(Route,{path:"/team-profile/create",element:jsxRuntimeExports.jsx(TeamProfile,{})}),jsxRuntimeExports.jsx(Route,{path:"/team-profile/:teamId",element:jsxRuntimeExports.jsx(TeamProfile,{})}),jsxRuntimeExports.jsx(Route,{path:"/project/:projectId",element:jsxRuntimeExports.jsx(DynamicProjectDashboard,{})}),jsxRuntimeExports.jsx(Route,{path:"/project-dashboard/:projectId",element:jsxRuntimeExports.jsx(ProjectDashboardPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/project-dashboard/:projectId/:teamId",element:jsxRuntimeExports.jsx(ProjectDashboardPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/email-campaigns",element:jsxRuntimeExports.jsx(EmailCampaigns,{})}),jsxRuntimeExports.jsx(Route,{path:"/projects",element:jsxRuntimeExports.jsx(Projects,{})}),jsxRuntimeExports.jsx(Route,{path:"/projects/:id",element:jsxRuntimeExports.jsx(ProjectDetail,{})}),jsxRuntimeExports.jsx(Route,{path:"/project-dashboard",element:jsxRuntimeExports.jsx(Projects,{})}),jsxRuntimeExports.jsx(Route,{path:"/team-dashboard",element:jsxRuntimeExports.jsx(TeamDashboard,{})}),jsxRuntimeExports.jsx(Route,{path:"/admin",element:jsxRuntimeExports.jsx(AdminRoute,{children:jsxRuntimeExports.jsx(Admin,{})})}),jsxRuntimeExports.jsx(Route,{path:"/admin/email-console",element:jsxRuntimeExports.jsx(AdminRoute,{children:jsxRuntimeExports.jsx(EmailConsole,{})})}),jsxRuntimeExports.jsx(Route,{path:"/hire/:teamId",element:jsxRuntimeExports.jsx(HireChecklist,{})}),jsxRuntimeExports.jsx(Route,{path:"/auth/callback",element:jsxRuntimeExports.jsx(AuthCallback,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})})]}),jsxRuntimeExports.jsx(ChatBot,{})]})]})})}));createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}));
